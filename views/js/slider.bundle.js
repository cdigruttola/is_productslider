!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="public",n(n.s=10)}([function(t,e,n){"use strict";
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */var o=".js-form-submit-btn",i=window.$,r=function(){i(document).on("click",o,(function(t){t.preventDefault();var e=i(t.target);if(!e.data("form-confirm-message")||!1!==window.confirm(e.data("form-confirm-message"))){var n="POST",o=null;if(e.data("method")){var r=e.data("method"),a=["GET","POST"].includes(r);n=a?r:"POST",a||(o=i("<input>",{type:"_hidden",name:"_method",value:r}))}var s=i("<form>",{action:e.data("form-submit-url"),method:n});o&&s.append(o),e.data("form-csrf-token")&&s.append(i("<input>",{type:"_hidden",name:"_csrf_token",value:e.data("form-csrf-token")})),s.appendTo("body").submit()}}))};
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */e.a=r},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,,function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,o){return t[0]===e&&(n=o,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),o=this.__entries__[n];return o&&o[1]},e.prototype.set=function(e,n){var o=t(this.__entries__,e);~o?this.__entries__[o][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,o=t(n,e);~o&&n.splice(o,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,o=this.__entries__;n<o.length;n++){var i=o[n];t.call(e,i[1],i[0])}},e}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,o=!1,i=0;function a(){n&&(n=!1,t()),o&&l()}function s(){r(a)}function l(){var t=Date.now();if(n){if(t-i<2)return;o=!0}else n=!0,o=!1,setTimeout(s,e);i=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},u=g(0,0,0,0);function h(t){return parseFloat(t)||0}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+h(t["border-"+n+"-width"])}),0)}function p(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return u;var o=d(t).getComputedStyle(t),i=function(t){for(var e={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var i=o[n],r=t["padding-"+i];e[i]=h(r)}return e}(o),r=i.left+i.right,a=i.top+i.bottom,s=h(o.width),l=h(o.height);if("border-box"===o.boxSizing&&(Math.round(s+r)!==e&&(s-=f(o,"left","right")+r),Math.round(l+a)!==n&&(l-=f(o,"top","bottom")+a)),!function(t){return t===d(t).document.documentElement}(t)){var c=Math.round(s+r)-e,p=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(p)&&(l-=p)}return g(i.left,i.top,s,l)}var m="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function b(t){return o?m(t)?function(t){var e=t.getBBox();return g(0,0,e.width,e.height)}(t):p(t):u}function g(t,e,n,o){return{x:t,y:e,width:n,height:o}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=b(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),y=function(t,e){var n,o,i,r,a,s,l,d=(o=(n=e).x,i=n.y,r=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:o,y:i,width:r,height:a,top:i,right:o+r,bottom:a+i,left:o}),l);c(this,{target:t,contentRect:d})},w=function(){function t(t,e,o){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=o}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new y(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),D="undefined"!=typeof WeakMap?new WeakMap:new n,_=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),o=new w(e,n,this);D.set(this,o)};["observe","unobserve","disconnect"].forEach((function(t){_.prototype[t]=function(){var e;return(e=D.get(this))[t].apply(e,arguments)}}));var C=void 0!==i.ResizeObserver?i.ResizeObserver:_;e.a=C}).call(this,n(1))},,function(t,e){var n,o,i,r,a,s;n=jQuery,o=window,i=window.document,r="touchstart mousedown",a="touchmove mousemove",s="touchend mouseup",n(i).ready((function(){function t(t){for(var e={},n=t.match(/([^;:]+)/g)||[];n.length;)e[n.shift()]=n.shift().trim();return e}n("table").each((function(){"dnd"===n(this).data("table")&&n(this).tableDnD({onDragStyle:n(this).data("ondragstyle")&&t(n(this).data("ondragstyle"))||null,onDropStyle:n(this).data("ondropstyle")&&t(n(this).data("ondropstyle"))||null,onDragClass:void 0===n(this).data("ondragclass")?"tDnD_whileDrag":n(this).data("ondragclass"),onDrop:n(this).data("ondrop")&&new Function("table","row",n(this).data("ondrop")),onDragStart:n(this).data("ondragstart")&&new Function("table","row",n(this).data("ondragstart")),onDragStop:n(this).data("ondragstop")&&new Function("table","row",n(this).data("ondragstop")),scrollAmount:n(this).data("scrollamount")||5,sensitivity:n(this).data("sensitivity")||10,hierarchyLevel:n(this).data("hierarchylevel")||0,indentArtifact:n(this).data("indentartifact")||'<div class="indent">&nbsp;</div>',autoWidthAdjust:n(this).data("autowidthadjust")||!0,autoCleanRelations:n(this).data("autocleanrelations")||!0,jsonPretifySeparator:n(this).data("jsonpretifyseparator")||"\t",serializeRegexp:n(this).data("serializeregexp")&&new RegExp(n(this).data("serializeregexp"))||/[^\-]*$/,serializeParamName:n(this).data("serializeparamname")||!1,dragHandle:n(this).data("draghandle")||null})}))})),jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldX:0,oldY:0,build:function(t){return this.each((function(){this.tableDnDConfig=n.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,onDragStop:null,scrollAmount:5,sensitivity:10,hierarchyLevel:0,indentArtifact:'<div class="indent">&nbsp;</div>',autoWidthAdjust:!0,autoCleanRelations:!0,jsonPretifySeparator:"\t",serializeRegexp:/[^\-]*$/,serializeParamName:!1,dragHandle:null},t||{}),n.tableDnD.makeDraggable(this),this.tableDnDConfig.hierarchyLevel&&n.tableDnD.makeIndented(this)})),this},makeIndented:function(t){var e,o,i=t.tableDnDConfig,r=t.rows,a=n(r).first().find("td:first")[0],s=0,l=0;if(n(t).hasClass("indtd"))return null;o=n(t).addClass("indtd").attr("style"),n(t).css({whiteSpace:"nowrap"});for(var c=0;c<r.length;c++)l<n(r[c]).find("td:first").text().length&&(l=n(r[c]).find("td:first").text().length,e=c);for(n(a).css({width:"auto"}),c=0;c<i.hierarchyLevel;c++)n(r[e]).find("td:first").prepend(i.indentArtifact);for(a&&n(a).css({width:a.offsetWidth}),o&&n(t).css(o),c=0;c<i.hierarchyLevel;c++)n(r[e]).find("td:first").children(":first").remove();return i.hierarchyLevel&&n(r).each((function(){(s=n(this).data("level")||0)<=i.hierarchyLevel&&n(this).data("level",s)||n(this).data("level",0);for(var t=0;t<n(this).data("level");t++)n(this).find("td:first").prepend(i.indentArtifact)})),this},makeDraggable:function(t){var e=t.tableDnDConfig;e.dragHandle&&n(e.dragHandle,t).each((function(){n(this).bind(r,(function(o){return n.tableDnD.initialiseDrag(n(this).parents("tr")[0],t,this,o,e),!1}))}))||n(t.rows).each((function(){n(this).hasClass("nodrag")?n(this).css("cursor",""):n(this).bind(r,(function(o){if("TD"===o.target.tagName)return n.tableDnD.initialiseDrag(this,t,this,o,e),!1})).css("cursor","move")}))},currentOrder:function(){var t=this.currentTable.rows;return n.map(t,(function(t){return(n(t).data("level")+t.id).replace(/\s/g,"")})).join("")},initialiseDrag:function(t,e,o,r,l){this.dragObject=t,this.currentTable=e,this.mouseOffset=this.getMouseOffset(o,r),this.originalOrder=this.currentOrder(),n(i).bind(a,this.mousemove).bind(s,this.mouseup),l.onDragStart&&l.onDragStart(e,o)},updateTables:function(){this.each((function(){this.tableDnDConfig&&n.tableDnD.makeDraggable(this)}))},mouseCoords:function(t){return t.originalEvent.changedTouches?{x:t.originalEvent.changedTouches[0].clientX,y:t.originalEvent.changedTouches[0].clientY}:t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+i.body.scrollLeft-i.body.clientLeft,y:t.clientY+i.body.scrollTop-i.body.clientTop}},getMouseOffset:function(t,e){var n,i;return e=e||o.event,i=this.getPosition(t),{x:(n=this.mouseCoords(e)).x-i.x,y:n.y-i.y}},getPosition:function(t){for(var e=0,n=0;t.offsetParent;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e+=t.offsetLeft,y:n+=t.offsetTop}},autoScroll:function(t){var e=this.currentTable.tableDnDConfig,n=o.pageYOffset,r=o.innerHeight?o.innerHeight:i.documentElement.clientHeight?i.documentElement.clientHeight:i.body.clientHeight;i.all&&(void 0!==i.compatMode&&"BackCompat"!==i.compatMode?n=i.documentElement.scrollTop:void 0!==i.body&&(n=i.body.scrollTop)),t.y-n<e.scrollAmount&&o.scrollBy(0,-e.scrollAmount)||r-(t.y-n)<e.scrollAmount&&o.scrollBy(0,e.scrollAmount)},moveVerticle:function(t,e){0!==t.vertical&&e&&this.dragObject!==e&&this.dragObject.parentNode===e.parentNode&&(0>t.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,e.nextSibling)||0<t.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,e))},moveHorizontal:function(t,e){var o,i=this.currentTable.tableDnDConfig;if(!i.hierarchyLevel||0===t.horizontal||!e||this.dragObject!==e)return null;o=n(e).data("level"),0<t.horizontal&&o>0&&n(e).find("td:first").children(":first").remove()&&n(e).data("level",--o),0>t.horizontal&&o<i.hierarchyLevel&&n(e).prev().data("level")>=o&&n(e).children(":first").prepend(i.indentArtifact)&&n(e).data("level",++o)},mousemove:function(t){var e,o,i,r,a,s=n(n.tableDnD.dragObject),l=n.tableDnD.currentTable.tableDnDConfig;return t&&t.preventDefault(),!!n.tableDnD.dragObject&&("touchmove"===t.type&&event.preventDefault(),l.onDragClass&&s.addClass(l.onDragClass)||s.css(l.onDragStyle),r=(o=n.tableDnD.mouseCoords(t)).x-n.tableDnD.mouseOffset.x,a=o.y-n.tableDnD.mouseOffset.y,n.tableDnD.autoScroll(o),e=n.tableDnD.findDropTargetRow(s,a),i=n.tableDnD.findDragDirection(r,a),n.tableDnD.moveVerticle(i,e),n.tableDnD.moveHorizontal(i,e),!1)},findDragDirection:function(t,e){var n=this.currentTable.tableDnDConfig.sensitivity,o=this.oldX,i=this.oldY,r={horizontal:t>=o-n&&t<=o+n?0:t>o?-1:1,vertical:e>=i-n&&e<=i+n?0:e>i?-1:1};return 0!==r.horizontal&&(this.oldX=t),0!==r.vertical&&(this.oldY=e),r},findDropTargetRow:function(t,e){for(var o=0,i=this.currentTable.rows,r=this.currentTable.tableDnDConfig,a=0,s=null,l=0;l<i.length;l++)if(s=i[l],a=this.getPosition(s).y,o=parseInt(s.offsetHeight)/2,0===s.offsetHeight&&(a=this.getPosition(s.firstChild).y,o=parseInt(s.firstChild.offsetHeight)/2),e>a-o&&e<a+o)return t.is(s)||r.onAllowDrop&&!r.onAllowDrop(t,s)||n(s).hasClass("nodrop")?null:s;return null},processMouseup:function(){if(!this.currentTable||!this.dragObject)return null;var t=this.currentTable.tableDnDConfig,e=this.dragObject,o=0,r=0;n(i).unbind(a,this.mousemove).unbind(s,this.mouseup),t.hierarchyLevel&&t.autoCleanRelations&&n(this.currentTable.rows).first().find("td:first").children().each((function(){(r=n(this).parents("tr:first").data("level"))&&n(this).parents("tr:first").data("level",--r)&&n(this).remove()}))&&t.hierarchyLevel>1&&n(this.currentTable.rows).each((function(){if((r=n(this).data("level"))>1)for(o=n(this).prev().data("level");r>o+1;)n(this).find("td:first").children(":first").remove(),n(this).data("level",--r)})),t.onDragClass&&n(e).removeClass(t.onDragClass)||n(e).css(t.onDropStyle),this.dragObject=null,t.onDrop&&this.originalOrder!==this.currentOrder()&&n(e).hide().fadeIn("fast")&&t.onDrop(this.currentTable,e),t.onDragStop&&t.onDragStop(this.currentTable,e),this.currentTable=null},mouseup:function(t){return t&&t.preventDefault(),n.tableDnD.processMouseup(),!1},jsonize:function(t){var e=this.currentTable;return t?JSON.stringify(this.tableData(e),null,e.tableDnDConfig.jsonPretifySeparator):JSON.stringify(this.tableData(e))},serialize:function(){return n.param(this.tableData(this.currentTable))},serializeTable:function(t){for(var e="",n=t.tableDnDConfig.serializeParamName||t.id,o=t.rows,i=0;i<o.length;i++){e.length>0&&(e+="&");var r=o[i].id;r&&t.tableDnDConfig&&t.tableDnDConfig.serializeRegexp&&(e+=n+"[]="+(r=r.match(t.tableDnDConfig.serializeRegexp)[0]))}return e},serializeTables:function(){var t=[];return n("table").each((function(){this.id&&t.push(n.param(n.tableDnD.tableData(this)))})),t.join("&")},tableData:function(t){var e,o,i,r,a=t.tableDnDConfig,s=[],l=0,c=0,d=null,u={};if(t||(t=this.currentTable),!t||!t.rows||!t.rows.length)return{error:{code:500,message:"Not a valid table."}};if(!t.id&&!a.serializeParamName)return{error:{code:500,message:"No serializable unique id provided."}};r=a.autoCleanRelations&&t.rows||n.makeArray(t.rows),e=function(t){return t&&a&&a.serializeRegexp?t.match(a.serializeRegexp)[0]:t},u[i=o=a.serializeParamName||t.id]=[],!a.autoCleanRelations&&n(r[0]).data("level")&&r.unshift({id:"undefined"});for(var h=0;h<r.length;h++)if(a.hierarchyLevel){if(0===(c=n(r[h]).data("level")||0))i=o,s=[];else if(c>l)s.push([i,l]),i=e(r[h-1].id);else if(c<l)for(var f=0;f<s.length;f++)s[f][1]===c&&(i=s[f][0]),s[f][1]>=l&&(s[f][1]=0);l=c,n.isArray(u[i])||(u[i]=[]),(d=e(r[h].id))&&u[i].push(d)}else(d=e(r[h].id))&&u[i].push(d);return u}},jQuery.fn.extend({tableDnD:n.tableDnD.build,tableDnDUpdate:n.tableDnD.updateTables,tableDnDSerialize:n.proxy(n.tableDnD.serialize,n.tableDnD),tableDnDSerializeAll:n.tableDnD.serializeTables,tableDnDData:n.proxy(n.tableDnD.tableData,n.tableDnD)})},,,,function(t,e,n){"use strict";n.r(e);
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */var o={categoryDeleteAction:".js-delete-category-row-action",customerDeleteAction:".js-delete-customer-row-action",linkRowAction:".js-link-row-action",linkRowActionClickableFirst:".js-link-row-action[data-clickable-row=1]:first",clickableTd:"td.clickable"},i={showQuery:".js-common_show_query-grid-action",exportQuery:".js-common_export_sql_manager-grid-action",showModalForm:function(t){return"#".concat(t,"_common_show_query_modal_form")},showModalGrid:function(t){return"#".concat(t,"_grid_common_show_query_modal")},modalFormSubmitBtn:".js-bulk-modal-form-submit-btn",submitModalFormBtn:".js-submit-modal-form-btn",bulkInputsBlock:function(t){return"#".concat(t)},tokenInput:function(t){return'input[name="'.concat(t,'[_token]"]')},ajaxBulkActionConfirmModal:function(t,e){return"".concat(t,"-ajax-").concat(e,"-confirm-modal")},ajaxBulkActionProgressModal:function(t,e){return"".concat(t,"-ajax-").concat(e,"-progress-modal")}},r=function(t){return"".concat(t,"-grid-confirm-modal")},a=".js-grid-table",s=".js-drag-handle",l="js-drag-handle",c=function(t){return"#".concat(t,"_grid")},d=".js-grid-panel",u=".js-grid-header",h=function(t){return".js-grid-table .js-".concat(t,"-position")},f=function(t){return".js-".concat(t,"-position:first")},p=".ps-togglable-row",m="table.table",b=".header-toolbar",g=".breadcrumb-item",v=".js-reset-search",y=".js-common_refresh_list-grid-action",w="position-row-while-drag",D=".btn-sql-submit",_=window.$,C=function(){function t(t){this.id=t,this.$container=_(c(this.id))}return t.prototype.getId=function(){return this.id},t.prototype.getContainer=function(){return this.$container},t.prototype.getHeaderContainer=function(){return this.$container.closest(d).find(u)},t.prototype.addExtension=function(t){t.extend(this)},t}();
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
function O(t){return void 0===t}
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
var T,E=window.$,L=function(){function t(t){void 0===t&&(t=void 0),this.onClick=t}return t.prototype.extend=function(t){this.initRowLinks(t),this.initConfirmableActions(t)},t.prototype.initConfirmableActions=function(t){t.getContainer().on("click",o.linkRowAction,(function(t){var e=E(t.currentTarget).data("confirm-message");e.length&&!window.confirm(e)&&t.preventDefault()}))},t.prototype.initRowLinks=function(t){var e=this.onClick;E("tr",t.getContainer()).each((function(){var t=E(this);E(o.linkRowActionClickableFirst,t).each((function(){var n=E(this),i=n.closest("td"),r=E(o.clickableTd,t).not(i),a=!1;r.addClass("cursor-pointer").mousedown((function(){E(window).mousemove((function(){a=!0,E(window).unbind("mousemove")}))})),r.mouseup((function(){var t=a;if(a=!1,E(window).unbind("mousemove"),!t){var o=n.data("confirm-message");(!o.length||window.confirm(o)&&n.attr("href"))&&(O(e)||O(n.get(0))?document.location.href=n.attr("href"):e(n.get(0)))}}))}))}))},t}(),j=function(){return(j=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},x=function(){function t(t){var e=j({id:"confirm-modal",closable:!1},t);this.buildModalContainer(e)}return t.prototype.buildModalContainer=function(t){var e=this;this.container=document.createElement("div"),this.container.classList.add("modal","fade"),this.container.id=t.id,this.dialog=document.createElement("div"),this.dialog.classList.add("modal-dialog"),t.dialogStyle&&Object.keys(t.dialogStyle).forEach((function(n){e.dialog.style[n]=t.dialogStyle[n]})),this.content=document.createElement("div"),this.content.classList.add("modal-content"),this.message=document.createElement("p"),this.message.classList.add("modal-message"),this.header=document.createElement("div"),this.header.classList.add("modal-header"),t.modalTitle&&(this.title=document.createElement("h4"),this.title.classList.add("modal-title"),this.title.innerHTML=t.modalTitle),this.closeIcon=document.createElement("button"),this.closeIcon.classList.add("close"),this.closeIcon.setAttribute("type","button"),this.closeIcon.dataset.dismiss="modal",this.closeIcon.innerHTML="Ã—",this.body=document.createElement("div"),this.body.classList.add("modal-body","text-left","font-weight-normal"),this.title&&this.header.appendChild(this.title),this.header.appendChild(this.closeIcon),this.content.append(this.header,this.body),this.body.appendChild(this.message),this.dialog.appendChild(this.content),this.container.appendChild(this.dialog)},t}(),k=function(){function t(t){var e=j({id:"confirm-modal",closable:!1,dialogStyle:{}},t);this.initContainer(e)}return t.prototype.initContainer=function(t){this.modal||(this.modal=new x(t)),this.$modal=$(this.modal.container);var e=t.id,n=t.closable;this.$modal.modal({backdrop:!!n||"static",keyboard:void 0===n||n,show:!1}),this.$modal.on("hidden.bs.modal",(function(){var n=document.querySelector("#".concat(e));n&&n.remove(),t.closeCallback&&t.closeCallback()})),document.body.appendChild(this.modal.container)},t.prototype.setTitle=function(t){return this.modal.title||(this.modal.title=document.createElement("h4"),this.modal.title.classList.add("modal-title"),this.modal.closeIcon?this.modal.header.insertBefore(this.modal.title,this.modal.closeIcon):this.modal.header.appendChild(this.modal.title)),this.modal.title.innerHTML=t,this},t.prototype.render=function(t){return this.modal.message.innerHTML=t,this},t.prototype.show=function(){return this.$modal.modal("show"),this},t.prototype.hide=function(){var t=this;return this.$modal.modal("hide"),this.$modal.on("shown.bs.modal",(function(){t.$modal.modal("hide"),t.$modal.off("shown.bs.modal")})),this},t}(),S=(T=function(t,e){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),B=function(){return(B=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},A=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},M=function(t){function e(e){return t.call(this,e)||this}return S(e,t),e.prototype.buildModalContainer=function(e){var n;t.prototype.buildModalContainer.call(this,e),this.message.classList.add("confirm-message"),this.message.innerHTML=e.confirmMessage,this.footer=document.createElement("div"),this.footer.classList.add("modal-footer"),this.closeButton=document.createElement("button"),this.closeButton.setAttribute("type","button"),this.closeButton.classList.add("btn","btn-outline-secondary","btn-lg"),this.closeButton.dataset.dismiss="modal",this.closeButton.innerHTML=e.closeButtonLabel,this.confirmButton=document.createElement("button"),this.confirmButton.setAttribute("type","button"),this.confirmButton.classList.add("btn",e.confirmButtonClass,"btn-lg","btn-confirm-submit"),this.confirmButton.dataset.dismiss="modal",this.confirmButton.innerHTML=e.confirmButtonLabel,(n=this.footer).append.apply(n,A(A([this.closeButton],e.customButtons,!1),[this.confirmButton],!1)),this.content.append(this.footer)},e}(x),P=function(t){function e(e,n,o){var i,r;r=O(e.confirmCallback)?O(n)?function(){console.error("No confirm callback provided for ConfirmModal component.")}:n:e.confirmCallback;var a=B({id:"confirm-modal",confirmMessage:"Are you sure?",closeButtonLabel:"Close",confirmButtonLabel:"Accept",confirmButtonClass:"btn-primary",customButtons:[],closable:!1,modalTitle:e.confirmTitle,dialogStyle:{},confirmCallback:r,closeCallback:null!==(i=e.closeCallback)&&void 0!==i?i:o},e);return t.call(this,a)||this}return S(e,t),e.prototype.initContainer=function(e){this.modal=new M(e),this.modal.confirmButton.addEventListener("click",e.confirmCallback),t.prototype.initContainer.call(this,e)},e}(k),z=n(4),R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),I=function(t){function e(n,o){void 0===o&&(o={});var i=t.call(this,e.parentWindowEvent)||this;return i.eventName=n,i.eventParameters=o,i}return R(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parameters",{get:function(){return this.eventParameters},enumerable:!1,configurable:!0}),e.parentWindowEvent="IframeClientEvent",e}(Event),H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(){return(F=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},N=function(t){function e(e){return t.call(this,e)||this}return H(e,t),e.prototype.buildModalContainer=function(e){t.prototype.buildModalContainer.call(this,e),this.container.classList.add("modal-iframe"),this.message.classList.add("d-none"),this.iframe=document.createElement("iframe"),this.iframe.frameBorder="0",this.iframe.scrolling="no",this.iframe.width="100%",this.iframe.setAttribute("name","".concat(e.id,"-iframe")),e.autoSize||(this.iframe.height="100%"),this.loader=document.createElement("div"),this.loader.classList.add("modal-iframe-loader"),this.spinner=document.createElement("div"),this.spinner.classList.add("spinner"),this.loader.appendChild(this.spinner),this.body.append(this.loader,this.iframe),O(e.closeButtonLabel)&&O(e.confirmButtonLabel)||(this.footer=document.createElement("div"),this.footer.classList.add("modal-footer"),O(e.closeButtonLabel)||(this.closeButton=document.createElement("button"),this.closeButton.setAttribute("type","button"),this.closeButton.classList.add("btn","btn-outline-secondary","btn-lg"),this.closeButton.dataset.dismiss="modal",this.closeButton.innerHTML=e.closeButtonLabel,this.footer.append(this.closeButton)),O(e.confirmButtonLabel)||(this.confirmButton=document.createElement("button"),this.confirmButton.setAttribute("type","button"),this.confirmButton.classList.add("btn","btn-primary","btn-lg","btn-confirm-submit"),e.closeOnConfirm&&(this.confirmButton.dataset.dismiss="modal"),this.confirmButton.innerHTML=e.confirmButtonLabel,this.footer.append(this.confirmButton)),this.content.append(this.footer))},e}(x),W=function(t){function e(e){var n=F({id:"iframe-modal",closable:!1,autoSize:!0,autoSizeContainer:"body",closeOnConfirm:!0,autoScrollUp:!0},e);return t.call(this,n)||this}return H(e,t),e.prototype.initContainer=function(e){var n=this;this.modal=new N(e),t.prototype.initContainer.call(this,e),this.autoSize=e.autoSize,this.autoSizeContainer=e.autoSizeContainer,this.modal.iframe.addEventListener("load",(function(t){n.modal.body.scroll(0,0),n.hideLoading(),e.onLoaded&&e.onLoaded(n.modal.iframe,t),n.modal.iframe.contentWindow&&(n.modal.iframe.contentWindow.addEventListener("beforeunload",(function(t){e.onUnload&&e.onUnload(n.modal.iframe,t),n.showLoading()})),n.initAutoResize())})),this.$modal.on("shown.bs.modal",(function(){n.modal.iframe.src=e.iframeUrl})),window.addEventListener(I.parentWindowEvent,(function(t){e.onIframeEvent&&e.onIframeEvent(t)})),this.modal.confirmButton&&e.confirmCallback&&this.modal.confirmButton.addEventListener("click",(function(t){e.confirmCallback&&e.confirmCallback(n.modal.iframe,t)}))},e.prototype.render=function(t,e){return void 0===e&&(e=!0),this.modal.message.innerHTML=t,this.modal.message.classList.remove("d-none"),e&&this.hideIframe(),this.autoResize(),this.hideLoading(),this},e.prototype.showLoading=function(){var t=this.getOuterHeight(this.modal.body),e=this.getOuterWidth(this.modal.body);return this.modal.loader.style.height="".concat(t,"px"),this.modal.loader.style.width="".concat(e,"px"),this.modal.loader.classList.remove("d-none"),this.modal.iframe.classList.remove("invisible"),this.modal.iframe.classList.add("invisible"),this},e.prototype.hideLoading=function(){return this.modal.iframe.classList.remove("invisible"),this.modal.iframe.classList.add("visible"),this.modal.loader.classList.add("d-none"),this},e.prototype.hide=function(){return t.prototype.hide.call(this),this.cleanResizeObserver(),this},e.prototype.hideIframe=function(){this.modal.iframe.classList.add("d-none")},e.prototype.getResizableContainer=function(){return this.autoSize&&this.modal.iframe.contentWindow?this.modal.iframe.contentWindow.document.querySelector(this.autoSizeContainer):null},e.prototype.initAutoResize=function(){var t=this,e=this.getResizableContainer();e&&(this.cleanResizeObserver(),this.resizeObserver=new z.a((function(){t.autoResize()})),this.resizeObserver.observe(e)),this.autoResize()},e.prototype.cleanResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)},e.prototype.autoResize=function(){var t=this.getResizableContainer();if(t){var e=t.scrollHeight,n=this.getOuterHeight(this.modal.message)+e;n&&(this.modal.iframe.style.height="".concat(n,"px"))}},e.prototype.getOuterHeight=function(t){if(!t.offsetHeight)return 0;var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},e.prototype.getOuterWidth=function(t){if(!t.offsetWidth)return 0;var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},e}(k),q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),G=function(){return(G=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},U=(function(t){function e(e){var n=this,o=G({iframeUrl:e.formUrl,onLoaded:function(t,o){var i,r;n.onIframeLoaded(t,o,e.onFormLoaded,null!==(i=e.cancelButtonSelector)&&void 0!==i?i:".cancel-btn",null!==(r=e.formSelector)&&void 0!==r?r:"form")},confirmCallback:function(t,o){var i;n.onConfirmCallback(t,o,e.formConfirmCallback,null!==(i=e.formSelector)&&void 0!==i?i:"form")}},e);return n=t.call(this,o)||this}q(e,t),e.prototype.onIframeLoaded=function(t,e,n,o,i){var r,a=this;if(n){var s=this.getForm(t,i);if(s)s.querySelectorAll(o).forEach((function(t){t.addEventListener("click",(function(){a.hide()}))})),n(s,new FormData(s),null!==(r=s.dataset)&&void 0!==r?r:null,e)}},e.prototype.onConfirmCallback=function(t,e,n,o){if(n){var i=this.getForm(t,o);i&&n(i,t,e)}},e.prototype.getForm=function(t,e){return t.contentWindow?t.contentWindow.document.querySelector(e):null}}(W),window.$),Q=function(){function t(){}return t.prototype.extend=function(t){var e=this;t.getContainer().on("click",".js-submit-row-action",(function(n){n.preventDefault();var o=U(n.currentTarget),i=o.data("confirmMessage"),r=o.data("title"),a=o.data("method");if(r)e.showConfirmModal(o,t,i,r,a);else{if(i.length&&!window.confirm(i))return;e.postForm(o,a)}}))},t.prototype.postForm=function(t,e){var n=["GET","POST"].includes(e),o=U("<form>",{action:t.data("url"),method:n?e:"POST"}).appendTo("body");n||o.append(U("<input>",{type:"hidden",name:"_method",value:e})),o.submit()},t.prototype.showConfirmModal=function(t,e,n,o,i){var a=this,s=t.data("confirmButtonLabel"),l=t.data("closeButtonLabel"),c=t.data("confirmButtonClass");new P({id:r(e.getId()),confirmTitle:o,confirmMessage:n,confirmButtonLabel:s,closeButtonLabel:l,confirmButtonClass:c},(function(){return a.postForm(t,i)})).show()},t}(),V=window.$,Y=function(){function t(t){var e;this.selector=".ps-sortable-column",this.idTable=null!==(e=t.attr("id"))&&void 0!==e?e:"",this.columns=t.find(this.selector)}return t.prototype.attach=function(){var t=this;this.columns.on("click",(function(e){var n=V(e.delegateTarget);t.sortByColumn(n,t.getToggledSortDirection(n))}))},t.prototype.sortBy=function(t,e){if(!this.columns.is('[data-sort-col-name="'.concat(t,'"]')))throw new Error('Cannot sort by "'.concat(t,'": invalid column'));this.sortByColumn(this.columns,e)},t.prototype.sortByColumn=function(t,e){window.location.href=this.getUrl(t.data("sortColName"),"desc"===e?"desc":"asc",t.data("sortPrefix"))},t.prototype.getToggledSortDirection=function(t){return"asc"===t.data("sortDirection")?"desc":"asc"},t.prototype.getUrl=function(t,e,n){var o=new URL(window.location.href),i=o.searchParams;return n?(i.set("".concat(n,"[orderBy]"),t),i.set("".concat(n,"[sortOrder]"),e)):(i.set("orderBy",t),i.set("sortOrder",e)),o.hash=this.idTable,o.toString()},t}(),X=function(){function t(){}return t.prototype.extend=function(t){var e=t.getContainer().find(m);new Y(e).attach()},t}();
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
const{$:J}=window;var K=function(t,e){J.post(t).then(()=>window.location.assign(e))},Z=window.$,tt=function(){function t(){}return t.prototype.extend=function(t){t.getContainer().on("click",v,(function(t){K(Z(t.currentTarget).data("url"),Z(t.currentTarget).data("redirect"))}))},t}(),et=function(){function t(){}return t.prototype.extend=function(t){t.getHeaderContainer().on("click",y,(function(){window.location.reload()}))},t}(),nt=window.$,ot=function(){function t(){}return t.prototype.extend=function(t){var e=this;t.getContainer().find(m).find(p).on("click",(function(t){t.preventDefault(),e.toggleValue(nt(t.delegateTarget))}))},t.prototype.toggleValue=function(t){var e=t.data("toggleUrl");this.submitAsForm(e)},t.prototype.submitAsForm=function(t){nt("<form>",{action:t,method:"POST"}).appendTo("body").submit()},t}(),it=window.$,rt=function(){function t(){}return t.prototype.extend=function(t){var e=this;t.getHeaderContainer().on("click",i.showQuery,(function(){return e.onShowSqlQueryClick(t)})),t.getHeaderContainer().on("click",i.exportQuery,(function(){return e.onExportSqlManagerClick(t)}))},t.prototype.onShowSqlQueryClick=function(t){var e=it(i.showModalForm(t.getId()));this.fillExportForm(e,t);var n=it(i.showModalGrid(t.getId()));n.modal("show"),n.on("click",D,(function(){return e.submit()}))},t.prototype.onExportSqlManagerClick=function(t){var e=it(i.showModalForm(t.getId()));this.fillExportForm(e,t),e.submit()},t.prototype.fillExportForm=function(t,e){var n=e.getContainer().find(a).data("query");t.find('textarea[name="sql"]').val(n),t.find('input[name="name"]').val(this.getNameFromBreadcrumb())},t.prototype.getNameFromBreadcrumb=function(){var t=it(b).find(g),e="";return t.each((function(t,n){var o=it(n),i=o.find("a").length>0?o.find("a").text():o.text();e.length>0&&(e=e.concat(" > ")),e=e.concat(i)})),e},t}(),at=n(0),st=(n(6),window.$),lt=function(){function t(t){this.grid=t}return t.prototype.extend=function(t){var e=this;this.grid=t,this.addIdsToGridTableRows(),t.getContainer().find(a).tableDnD({onDragClass:w,dragHandle:s,onDrop:function(t,n){return e.handlePositionChange(n)}}),t.getContainer().find(".js-drag-handle").hover((function(){st(this).closest("tr").addClass("hover")}),(function(){st(this).closest("tr").removeClass("hover")})),this.setReorderButtonLabel(),this.getReorderButton().on("click",(function(t){return e.oncClickReorderButton(t)}))},t.prototype.handlePositionChange=function(t){var e=st(t).find(f(this.grid.getId())),n=e.data("update-url"),o=e.data("update-method"),i={positions:this.getRowsPositions()};this.updatePosition(n,i,o)},t.prototype.getRowsPositions=function(){for(var t,e=JSON.parse(st.tableDnD.jsonize())["".concat(this.grid.getId(),"_grid_table")],n=[],o=0;o<e.length;o+=1)t=this.grid.getContainer().find("#".concat(e[o])),n.push({rowMarker:e[o],offset:t.data("dragAndDropOffset")});return this.computeMappingBetweenOldAndNewPositions(n)},t.prototype.addIdsToGridTableRows=function(){var t=0;this.grid.getContainer().find(h(this.grid.getId())).each((function(e,n){var o=st(n),i=o.data("id"),r=o.data("position"),a="row_".concat(i,"_").concat(r);o.closest("tr").attr("id",a),o.closest("td").addClass(l),o.closest("tr").data("dragAndDropOffset",t),t+=1}))},t.prototype.updatePosition=function(t,e,n){for(var o,i=["GET","POST"].includes(n),r=st("<form>",{action:t,method:i?n:"POST"}).appendTo("body"),a=e.positions.length,s=0;s<a;s+=1)o=e.positions[s],r.append(st("<input>",{type:"hidden",name:"positions[".concat(s,"][rowId]"),value:o.rowId}),st("<input>",{type:"hidden",name:"positions[".concat(s,"][oldPosition]"),value:o.oldPosition}),st("<input>",{type:"hidden",name:"positions[".concat(s,"][newPosition]"),value:o.newPosition}));i||r.append(st("<input>",{type:"hidden",name:"_method",value:n})),r.submit()},t.prototype.computeMappingBetweenOldAndNewPositions=function(t){for(var e,n=/^row_(?<rowId>\d+)_(?<oldPosition>\d+)$/,o=[],i=0;i<t.length;i+=1){var r=n.exec(t[i].rowMarker);if(r&&!O(r.groups)&&!O(r.groups.rowId)&&!O(r.groups.oldPosition)){var a=parseInt(null===(e=null==r?void 0:r.groups)||void 0===e?void 0:e.oldPosition,10);o[i]={rowId:r.groups.rowId,oldPosition:a,newPosition:a}}for(var s=0;s<t.length;s+=1)O(t[s])||O(t[s].offset)||O(o[t[s].offset])||O(o[s])||(o[t[s].offset].newPosition=o[s].oldPosition)}return o},t.prototype.isPositionsReorderActive=function(){return this.grid.getContainer().find('.ps-sortable-column[data-sort-col-name="position"]').first().data("sort-is-current")},t.prototype.getReorderButton=function(){return this.grid.getContainer().find(".js-btn-reorder-positions").first()},t.prototype.setReorderButtonLabel=function(){var t=this.getReorderButton(),e=this.isPositionsReorderActive()?t.data("label-save"):t.data("label-reorder");t.html(e)},t.prototype.oncClickReorderButton=function(t){t.preventDefault(),this.isPositionsReorderActive()?this.grid.getContainer().find(".ps-sortable-column").first().click():this.grid.getContainer().find('.ps-sortable-column[data-sort-col-name="position"]').first().click()},t}();
/**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 */
/**
 * Copyright since 2007 Carmine Di Gruttola
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to http://www.prestashop.com for more information.
 *
 *  @author    cdigruttola <c.digruttola@hotmail.it>
 *  @copyright Copyright since 2007 Carmine Di Gruttola
 *  @license   http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 *
 */
const{$:ct}=window;ct(()=>{const t=new C("is_productslider");t.addExtension(new X),t.addExtension(new L),t.addExtension(new Q),t.addExtension(new tt),t.addExtension(new et),t.addExtension(new ot),t.addExtension(new rt),t.addExtension(new lt(t)),new at.a})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL2NvbXBvbmVudHMtbWFwLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9mb3JtLXN1Ym1pdC1idXR0b24udHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL25vZGVfbW9kdWxlcy9yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwvZGlzdC9SZXNpemVPYnNlcnZlci5lcy5qcyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL25vZGVfbW9kdWxlcy90YWJsZWRuZC9kaXN0L2pxdWVyeS50YWJsZWRuZC5taW4uanMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL2dyaWQvZ3JpZC1tYXAudHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL2dyaWQvZ3JpZC50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL3R5cGVzL3R5cGVndWFyZC50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vbGluay1yb3ctYWN0aW9uLWV4dGVuc2lvbi50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvbW9kYWwvY29uZmlybS1tb2RhbC50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvbW9kYWwvbW9kYWwudHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9jb21wb25lbnRzL21vZGFsL2lmcmFtZS1ldmVudC50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvbW9kYWwvaWZyYW1lLW1vZGFsLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9tb2RhbC9mb3JtLWlmcmFtZS1tb2RhbC50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vYWN0aW9uL3Jvdy9zdWJtaXQtcm93LWFjdGlvbi1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9hcHAvdXRpbHMvdGFibGUtc29ydGluZy50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vc29ydGluZy1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvcHJlc3Rhc2hvcC9hZG1pbi1kZXYvdGhlbWVzL25ldy10aGVtZS9qcy9hcHAvdXRpbHMvcmVzZXRfc2VhcmNoLmpzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9maWx0ZXJzLXJlc2V0LWV4dGVuc2lvbi50cyIsIndlYnBhY2s6Ly8vL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9wcmVzdGFzaG9wL2FkbWluLWRldi90aGVtZXMvbmV3LXRoZW1lL2pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vcmVsb2FkLWxpc3QtZXh0ZW5zaW9uLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9jb2x1bW4tdG9nZ2xpbmctZXh0ZW5zaW9uLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9leHBvcnQtdG8tc3FsLW1hbmFnZXItZXh0ZW5zaW9uLnRzIiwid2VicGFjazovLy8vQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL3ByZXN0YXNob3AvYWRtaW4tZGV2L3RoZW1lcy9uZXctdGhlbWUvanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9wb3NpdGlvbi1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc2xpZGVyL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiJCIsIndpbmRvdyIsImRvY3VtZW50Iiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiJGJ0biIsInRhcmdldCIsImRhdGEiLCJjb25maXJtIiwibWV0aG9kIiwiYWRkSW5wdXQiLCJidG5NZXRob2QiLCJpc0dldE9yUG9zdE1ldGhvZCIsImluY2x1ZGVzIiwidHlwZSIsIiRmb3JtIiwiYWN0aW9uIiwiYXBwZW5kIiwiYXBwZW5kVG8iLCJzdWJtaXQiLCJnIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIk1hcFNoaW0iLCJNYXAiLCJnZXRJbmRleCIsImFyciIsInJlc3VsdCIsInNvbWUiLCJlbnRyeSIsImluZGV4IiwiY2xhc3NfMSIsIl9fZW50cmllc19fIiwibGVuZ3RoIiwiY29uZmlndXJhYmxlIiwic2V0IiwicHVzaCIsImRlbGV0ZSIsImVudHJpZXMiLCJzcGxpY2UiLCJoYXMiLCJjbGVhciIsImZvckVhY2giLCJjYWxsYmFjayIsImN0eCIsIl9pIiwiX2EiLCJpc0Jyb3dzZXIiLCJnbG9iYWwkMSIsImdsb2JhbCIsIk1hdGgiLCJzZWxmIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZXRUaW1lb3V0IiwiRGF0ZSIsIm5vdyIsInRyYW5zaXRpb25LZXlzIiwibXV0YXRpb25PYnNlcnZlclN1cHBvcnRlZCIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIiLCJjb25uZWN0ZWRfIiwibXV0YXRpb25FdmVudHNBZGRlZF8iLCJtdXRhdGlvbnNPYnNlcnZlcl8iLCJvYnNlcnZlcnNfIiwib25UcmFuc2l0aW9uRW5kXyIsInJlZnJlc2giLCJkZWxheSIsImxlYWRpbmdDYWxsIiwidHJhaWxpbmdDYWxsIiwibGFzdENhbGxUaW1lIiwicmVzb2x2ZVBlbmRpbmciLCJwcm94eSIsInRpbWVvdXRDYWxsYmFjayIsInRpbWVTdGFtcCIsInRocm90dGxlIiwiYWRkT2JzZXJ2ZXIiLCJvYnNlcnZlciIsImluZGV4T2YiLCJjb25uZWN0XyIsInJlbW92ZU9ic2VydmVyIiwib2JzZXJ2ZXJzIiwiZGlzY29ubmVjdF8iLCJ1cGRhdGVPYnNlcnZlcnNfIiwiYWN0aXZlT2JzZXJ2ZXJzIiwiZmlsdGVyIiwiZ2F0aGVyQWN0aXZlIiwiaGFzQWN0aXZlIiwiYnJvYWRjYXN0QWN0aXZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsInN1YnRyZWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsIl9iIiwicHJvcGVydHlOYW1lIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZV8iLCJkZWZpbmVDb25maWd1cmFibGUiLCJwcm9wcyIsImtleXMiLCJ3cml0YWJsZSIsImdldFdpbmRvd09mIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiZW1wdHlSZWN0IiwiY3JlYXRlUmVjdEluaXQiLCJ0b0Zsb2F0IiwicGFyc2VGbG9hdCIsImdldEJvcmRlcnNTaXplIiwic3R5bGVzIiwicG9zaXRpb25zIiwiYXJndW1lbnRzIiwicmVkdWNlIiwic2l6ZSIsInBvc2l0aW9uIiwiZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhZGRpbmdzIiwicG9zaXRpb25zXzEiLCJnZXRQYWRkaW5ncyIsImhvcml6UGFkIiwibGVmdCIsInJpZ2h0IiwidmVydFBhZCIsInRvcCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0IiwiYm94U2l6aW5nIiwicm91bmQiLCJkb2N1bWVudEVsZW1lbnQiLCJpc0RvY3VtZW50RWxlbWVudCIsInZlcnRTY3JvbGxiYXIiLCJob3JpelNjcm9sbGJhciIsImFicyIsImlzU1ZHR3JhcGhpY3NFbGVtZW50IiwiU1ZHR3JhcGhpY3NFbGVtZW50IiwiU1ZHRWxlbWVudCIsImdldEJCb3giLCJnZXRDb250ZW50UmVjdCIsImJib3giLCJnZXRTVkdDb250ZW50UmVjdCIsIngiLCJ5IiwiUmVzaXplT2JzZXJ2YXRpb24iLCJicm9hZGNhc3RXaWR0aCIsImJyb2FkY2FzdEhlaWdodCIsImNvbnRlbnRSZWN0XyIsImlzQWN0aXZlIiwicmVjdCIsImJyb2FkY2FzdFJlY3QiLCJSZXNpemVPYnNlcnZlckVudHJ5IiwicmVjdEluaXQiLCJDb25zdHIiLCJjb250ZW50UmVjdCIsIkRPTVJlY3RSZWFkT25seSIsIlJlc2l6ZU9ic2VydmVyU1BJIiwiY29udHJvbGxlciIsImNhbGxiYWNrQ3R4IiwiYWN0aXZlT2JzZXJ2YXRpb25zXyIsIm9ic2VydmF0aW9uc18iLCJUeXBlRXJyb3IiLCJjYWxsYmFja18iLCJjb250cm9sbGVyXyIsImNhbGxiYWNrQ3R4XyIsIkVsZW1lbnQiLCJvYnNlcnZhdGlvbnMiLCJ1bm9ic2VydmUiLCJjbGVhckFjdGl2ZSIsIl90aGlzIiwib2JzZXJ2YXRpb24iLCJtYXAiLCJXZWFrTWFwIiwiUmVzaXplT2JzZXJ2ZXIiLCJhcHBseSIsImEiLCJiIiwiZiIsImpRdWVyeSIsInJlYWR5IiwibWF0Y2giLCJzaGlmdCIsInRyaW0iLCJlYWNoIiwidGFibGVEbkQiLCJvbkRyYWdTdHlsZSIsIm9uRHJvcFN0eWxlIiwib25EcmFnQ2xhc3MiLCJvbkRyb3AiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ1N0b3AiLCJzY3JvbGxBbW91bnQiLCJzZW5zaXRpdml0eSIsImhpZXJhcmNoeUxldmVsIiwiaW5kZW50QXJ0aWZhY3QiLCJhdXRvV2lkdGhBZGp1c3QiLCJhdXRvQ2xlYW5SZWxhdGlvbnMiLCJqc29uUHJldGlmeVNlcGFyYXRvciIsInNlcmlhbGl6ZVJlZ2V4cCIsIlJlZ0V4cCIsInNlcmlhbGl6ZVBhcmFtTmFtZSIsImRyYWdIYW5kbGUiLCJjdXJyZW50VGFibGUiLCJkcmFnT2JqZWN0IiwibW91c2VPZmZzZXQiLCJvbGRYIiwib2xkWSIsImJ1aWxkIiwidGFibGVEbkRDb25maWciLCJleHRlbmQiLCJtYWtlRHJhZ2dhYmxlIiwibWFrZUluZGVudGVkIiwicm93cyIsImZpcnN0IiwiZmluZCIsImgiLCJoYXNDbGFzcyIsImFkZENsYXNzIiwiYXR0ciIsImNzcyIsIndoaXRlU3BhY2UiLCJqIiwidGV4dCIsInByZXBlbmQiLCJvZmZzZXRXaWR0aCIsImNoaWxkcmVuIiwicmVtb3ZlIiwiaW5pdGlhbGlzZURyYWciLCJwYXJlbnRzIiwidGFnTmFtZSIsImN1cnJlbnRPcmRlciIsImlkIiwicmVwbGFjZSIsImpvaW4iLCJnZXRNb3VzZU9mZnNldCIsIm9yaWdpbmFsT3JkZXIiLCJtb3VzZW1vdmUiLCJtb3VzZXVwIiwidXBkYXRlVGFibGVzIiwibW91c2VDb29yZHMiLCJvcmlnaW5hbEV2ZW50IiwiY2hhbmdlZFRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsInBhZ2VYIiwicGFnZVkiLCJib2R5Iiwic2Nyb2xsTGVmdCIsImNsaWVudExlZnQiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJnZXRQb3NpdGlvbiIsIm9mZnNldFBhcmVudCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJhdXRvU2Nyb2xsIiwicGFnZVlPZmZzZXQiLCJpbm5lckhlaWdodCIsImFsbCIsImNvbXBhdE1vZGUiLCJzY3JvbGxCeSIsIm1vdmVWZXJ0aWNsZSIsInZlcnRpY2FsIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwibW92ZUhvcml6b250YWwiLCJob3Jpem9udGFsIiwicHJldiIsImZpbmREcm9wVGFyZ2V0Um93IiwiZmluZERyYWdEaXJlY3Rpb24iLCJwYXJzZUludCIsIm9mZnNldEhlaWdodCIsImZpcnN0Q2hpbGQiLCJpcyIsIm9uQWxsb3dEcm9wIiwicHJvY2Vzc01vdXNldXAiLCJ1bmJpbmQiLCJyZW1vdmVDbGFzcyIsImhpZGUiLCJmYWRlSW4iLCJqc29uaXplIiwiSlNPTiIsInN0cmluZ2lmeSIsInRhYmxlRGF0YSIsInNlcmlhbGl6ZSIsInBhcmFtIiwic2VyaWFsaXplVGFibGUiLCJzZXJpYWxpemVUYWJsZXMiLCJrIiwiZXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsIm1ha2VBcnJheSIsInVuc2hpZnQiLCJpc0FycmF5IiwiZm4iLCJ0YWJsZURuRFVwZGF0ZSIsInRhYmxlRG5EU2VyaWFsaXplIiwidGFibGVEbkRTZXJpYWxpemVBbGwiLCJ0YWJsZURuRERhdGEiLCJjYXRlZ29yeURlbGV0ZUFjdGlvbiIsImN1c3RvbWVyRGVsZXRlQWN0aW9uIiwibGlua1Jvd0FjdGlvbiIsImxpbmtSb3dBY3Rpb25DbGlja2FibGVGaXJzdCIsImNsaWNrYWJsZVRkIiwic2hvd1F1ZXJ5IiwiZXhwb3J0UXVlcnkiLCJzaG93TW9kYWxGb3JtIiwiY29uY2F0Iiwic2hvd01vZGFsR3JpZCIsIm1vZGFsRm9ybVN1Ym1pdEJ0biIsInN1Ym1pdE1vZGFsRm9ybUJ0biIsImJ1bGtJbnB1dHNCbG9jayIsInRva2VuSW5wdXQiLCJhamF4QnVsa0FjdGlvbkNvbmZpcm1Nb2RhbCIsImJ1bGtBY3Rpb24iLCJhamF4QnVsa0FjdGlvblByb2dyZXNzTW9kYWwiLCJHcmlkIiwiJGNvbnRhaW5lciIsImdldElkIiwiZ2V0Q29udGFpbmVyIiwiZ2V0SGVhZGVyQ29udGFpbmVyIiwiY2xvc2VzdCIsImFkZEV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImlzVW5kZWZpbmVkIiwiZXh0ZW5kU3RhdGljcyIsIkxpbmtSb3dBY3Rpb25FeHRlbnNpb24iLCJvbkNsaWNrIiwidW5kZWZpbmVkIiwiZ3JpZCIsImluaXRSb3dMaW5rcyIsImluaXRDb25maXJtYWJsZUFjdGlvbnMiLCJjb25maXJtTWVzc2FnZSIsImN1cnJlbnRUYXJnZXQiLCJvbkNsaWNrQ2FsbGJhY2siLCIkcGFyZW50Um93IiwiJHJvd0FjdGlvbiIsIiRwYXJlbnRDZWxsIiwiY2xpY2thYmxlQ2VsbHMiLCJub3QiLCJpc0RyYWdnaW5nIiwibW91c2Vkb3duIiwid2FzRHJhZ2dpbmciLCJsb2NhdGlvbiIsImhyZWYiLCJfX2Fzc2lnbiIsImFzc2lnbiIsIk1vZGFsQ29udGFpbmVyIiwiaW5wdXRQYXJhbXMiLCJwYXJhbXMiLCJjbG9zYWJsZSIsImJ1aWxkTW9kYWxDb250YWluZXIiLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGlhbG9nIiwiZGlhbG9nU3R5bGUiLCJzdHlsZSIsImNvbnRlbnQiLCJoZWFkZXIiLCJtb2RhbFRpdGxlIiwidGl0bGUiLCJpbm5lckhUTUwiLCJjbG9zZUljb24iLCJzZXRBdHRyaWJ1dGUiLCJkYXRhc2V0IiwiZGlzbWlzcyIsImFwcGVuZENoaWxkIiwiTW9kYWwiLCJpbml0Q29udGFpbmVyIiwibW9kYWwiLCIkbW9kYWwiLCJiYWNrZHJvcCIsImtleWJvYXJkIiwic2hvdyIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUNhbGxiYWNrIiwic2V0VGl0bGUiLCJyZW5kZXIiLCJvZmYiLCJfX2V4dGVuZHMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiU3RyaW5nIiwiX18iLCJjb25zdHJ1Y3RvciIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsImZyb20iLCJwYWNrIiwiYXIiLCJzbGljZSIsIkNvbmZpcm1Nb2RhbENvbnRhaW5lciIsIl9zdXBlciIsImZvb3RlciIsImNsb3NlQnV0dG9uIiwiY2xvc2VCdXR0b25MYWJlbCIsImNvbmZpcm1CdXR0b24iLCJjb25maXJtQnV0dG9uQ2xhc3MiLCJjb25maXJtQnV0dG9uTGFiZWwiLCJjdXN0b21CdXR0b25zIiwiQ29uZmlybU1vZGFsIiwiY29uZmlybUNhbGxiYWNrIiwiY2FuY2VsQ2FsbGJhY2siLCJjb25maXJtTW9kYWxDYWxsYmFjayIsImNvbnNvbGUiLCJjb25maXJtVGl0bGUiLCJJZnJhbWVFdmVudCIsImV2ZW50TmFtZSIsInBhcmFtZXRlcnMiLCJwYXJlbnRXaW5kb3dFdmVudCIsImV2ZW50UGFyYW1ldGVycyIsIkV2ZW50IiwiSWZyYW1lTW9kYWxDb250YWluZXIiLCJpZnJhbWUiLCJmcmFtZUJvcmRlciIsInNjcm9sbGluZyIsImF1dG9TaXplIiwibG9hZGVyIiwic3Bpbm5lciIsImNsb3NlT25Db25maXJtIiwiSWZyYW1lTW9kYWwiLCJhdXRvU2l6ZUNvbnRhaW5lciIsImF1dG9TY3JvbGxVcCIsImxvYWRlZEV2ZW50Iiwic2Nyb2xsIiwiaGlkZUxvYWRpbmciLCJvbkxvYWRlZCIsImNvbnRlbnRXaW5kb3ciLCJ1bmxvYWRFdmVudCIsIm9uVW5sb2FkIiwic2hvd0xvYWRpbmciLCJpbml0QXV0b1Jlc2l6ZSIsInNyYyIsImlmcmFtZVVybCIsIm9uSWZyYW1lRXZlbnQiLCJoaWRlSWZyYW1lIiwiYXV0b1Jlc2l6ZSIsImJvZHlIZWlnaHQiLCJnZXRPdXRlckhlaWdodCIsImJvZHlXaWR0aCIsImdldE91dGVyV2lkdGgiLCJjbGVhblJlc2l6ZU9ic2VydmVyIiwiZ2V0UmVzaXphYmxlQ29udGFpbmVyIiwiaWZyYW1lQ29udGFpbmVyIiwicmVzaXplT2JzZXJ2ZXIiLCJpZnJhbWVTY3JvbGxIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJjb250ZW50SGVpZ2h0IiwiZWxlbWVudCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsIkZvcm1JZnJhbWVNb2RhbCIsImlmcmFtZVBhcmFtcyIsImZvcm1VcmwiLCJvbklmcmFtZUxvYWRlZCIsIm9uRm9ybUxvYWRlZCIsImNhbmNlbEJ1dHRvblNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwib25Db25maXJtQ2FsbGJhY2siLCJmb3JtQ29uZmlybUNhbGxiYWNrIiwiaWZyYW1lRm9ybSIsImdldEZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FuY2VsQnV0dG9uIiwiRm9ybURhdGEiLCJTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb24iLCIkYnV0dG9uIiwic2hvd0NvbmZpcm1Nb2RhbCIsInBvc3RGb3JtIiwiJHN1Ym1pdEJ0biIsIlRhYmxlU29ydGluZyIsInRhYmxlIiwic2VsZWN0b3IiLCJpZFRhYmxlIiwiY29sdW1ucyIsImF0dGFjaCIsIiRjb2x1bW4iLCJkZWxlZ2F0ZVRhcmdldCIsInNvcnRCeUNvbHVtbiIsImdldFRvZ2dsZWRTb3J0RGlyZWN0aW9uIiwic29ydEJ5IiwiY29sdW1uTmFtZSIsImRpcmVjdGlvbiIsIkVycm9yIiwiY29sdW1uIiwiZ2V0VXJsIiwiY29sTmFtZSIsInByZWZpeCIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsImhhc2giLCJ0b1N0cmluZyIsIlNvcnRpbmdFeHRlbnNpb24iLCIkc29ydGFibGVUYWJsZSIsInJlZGlyZWN0VXJsIiwicG9zdCIsInRoZW4iLCJGaWx0ZXJzUmVzZXRFeHRlbnNpb24iLCJSZWxvYWRMaXN0RXh0ZW5zaW9uIiwicmVsb2FkIiwiQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb24iLCJ0b2dnbGVWYWx1ZSIsInJvdyIsInRvZ2dsZVVybCIsInN1Ym1pdEFzRm9ybSIsIkV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbiIsIm9uU2hvd1NxbFF1ZXJ5Q2xpY2siLCJvbkV4cG9ydFNxbE1hbmFnZXJDbGljayIsIiRzcWxNYW5hZ2VyRm9ybSIsImZpbGxFeHBvcnRGb3JtIiwicXVlcnkiLCJ2YWwiLCJnZXROYW1lRnJvbUJyZWFkY3J1bWIiLCIkYnJlYWRjcnVtYnMiLCJpdGVtIiwiJGJyZWFkY3J1bWIiLCJicmVhZGNydW1iVGl0bGUiLCJQb3NpdGlvbkV4dGVuc2lvbiIsImFkZElkc1RvR3JpZFRhYmxlUm93cyIsImhhbmRsZVBvc2l0aW9uQ2hhbmdlIiwiaG92ZXIiLCJzZXRSZW9yZGVyQnV0dG9uTGFiZWwiLCJnZXRSZW9yZGVyQnV0dG9uIiwib25jQ2xpY2tSZW9yZGVyQnV0dG9uIiwiJHJvd1Bvc2l0aW9uQ29udGFpbmVyIiwidXBkYXRlVXJsIiwiZ2V0Um93c1Bvc2l0aW9ucyIsInVwZGF0ZVBvc2l0aW9uIiwidHJEYXRhIiwicm93c0RhdGEiLCJwYXJzZSIsImNvbXBsZXRlUm93c0RhdGEiLCJyb3dNYXJrZXIiLCJvZmZzZXQiLCJjb21wdXRlTWFwcGluZ0JldHdlZW5PbGRBbmROZXdQb3NpdGlvbnMiLCJjb3VudGVyIiwicG9zaXRpb25XcmFwcGVyIiwiJHBvc2l0aW9uV3JhcHBlciIsInJvd0lkIiwicG9zaXRpb25zTmIiLCJvbGRQb3NpdGlvbiIsIm5ld1Bvc2l0aW9uIiwicmVnZXgiLCJtYXBwaW5nIiwicmVnZXhSZXN1bHQiLCJleGVjIiwiZ3JvdXBzIiwiaXNQb3NpdGlvbnNSZW9yZGVyQWN0aXZlIiwicmVhcnJhbmdlQnV0dG9uIiwibGFiZWwiLCJodG1sIiwiY2xpY2siLCJwcm9kdWN0U2xpZGVyR3JpZCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxF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QWtCNU8sYUFBYSxJQUFJLEdBQWtCNE8sSUFFckQsSUFBSSIsImZpbGUiOiJzbGlkZXIuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJwdWJsaWNcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBtdWx0aXN0b3JlRHJvcGRvd246IHtcbiAgICAgICAgc2VhcmNoSW5wdXQ6ICcuanMtbXVsdGlzdG9yZS1kcm9wZG93bi1zZWFyY2gnLFxuICAgICAgICBzY3JvbGxiYXI6ICcuanMtbXVsdGlzdG9yZS1zY3JvbGxiYXInLFxuICAgIH0sXG4gICAgbXVsdGlzdG9yZUhlYWRlcjoge1xuICAgICAgICBtb2RhbDogJy5qcy1tdWx0aXNob3AtbW9kYWwnLFxuICAgICAgICBtb2RhbERpYWxvZzogJy5qcy1tdWx0aXNob3AtbW9kYWwtZGlhbG9nJyxcbiAgICAgICAgaGVhZGVyTXVsdGlTaG9wOiAnLmhlYWRlci1tdWx0aXNob3AnLFxuICAgICAgICBoZWFkZXJCdXR0b246ICcuanMtaGVhZGVyLW11bHRpc2hvcC1vcGVuLW1vZGFsJyxcbiAgICAgICAgc2VhcmNoSW5wdXQ6ICcuanMtbXVsdGlzaG9wLW1vZGFsLXNlYXJjaCcsXG4gICAgICAgIGpzU2Nyb2xsYmFyOiAnLmpzLW11bHRpc2hvcC1zY3JvbGxiYXInLFxuICAgICAgICBzaG9wTGlua3M6ICdhLm11bHRpc2hvcC1tb2RhbC1zaG9wLW5hbWUnLFxuICAgICAgICBncm91cFNob3BMaW5rczogJ2EubXVsdGlzaG9wLW1vZGFsLWdyb3VwLW5hbWUnLFxuICAgICAgICBzZXRDb250ZXh0VXJsOiBmdW5jdGlvbiAobG9jYXRpb24sIHVybExldHRlciwgaXRlbUlkKSB7IHJldHVybiBcIlwiLmNvbmNhdChsb2NhdGlvbiwgXCImc2V0U2hvcENvbnRleHQ9XCIpLmNvbmNhdCh1cmxMZXR0ZXIsIFwiLVwiKS5jb25jYXQoaXRlbUlkKTsgfSxcbiAgICB9LFxuICAgIHNob3BTZWxlY3Rvcjoge1xuICAgICAgICBjb250YWluZXI6ICcuc2hvcC1zZWxlY3RvcicsXG4gICAgICAgIHNlbGVjdElucHV0OiAnLnNob3Atc2VsZWN0b3ItaW5wdXQnLFxuICAgICAgICBzZWFyY2hJbnB1dDogJy5qcy1zaG9wLXNlbGVjdG9yLXNlYXJjaCcsXG4gICAgICAgIHNob3BJdGVtOiAnLnNob3Atc2VsZWN0b3Itc2hvcC1pdGVtJyxcbiAgICAgICAgc2VsZWN0ZWRDbGFzczogJ3NlbGVjdGVkLXNob3AnLFxuICAgICAgICBjdXJyZW50Q2xhc3M6ICdjdXJyZW50LXNob3AnLFxuICAgICAgICBzaG9wU3RhdHVzOiAnLnNob3Atc2VsZWN0b3Itc3RhdHVzJyxcbiAgICB9LFxuICAgIGNob2ljZVRhYmxlOiB7XG4gICAgICAgIHNlbGVjdEFsbDogJy5qcy1jaG9pY2UtdGFibGUtc2VsZWN0LWFsbCcsXG4gICAgfSxcbiAgICBtdWx0aXBsZUNob2ljZVRhYmxlOiB7XG4gICAgICAgIHNlbGVjdENvbHVtbjogJy5qcy1tdWx0aXBsZS1jaG9pY2UtdGFibGUtc2VsZWN0LWNvbHVtbicsXG4gICAgICAgIHNlbGVjdENvbHVtbkNoZWNrYm94OiBmdW5jdGlvbiAoY29sdW1uTnVtKSB7IHJldHVybiBcInRib2R5IHRyIHRkOm50aC1jaGlsZChcIi5jb25jYXQoY29sdW1uTnVtLCBcIikgaW5wdXRbdHlwZT1jaGVja2JveF1cIik7IH0sXG4gICAgfSxcbiAgICBmb3JtU3VibWl0QnV0dG9uOiAnLmpzLWZvcm0tc3VibWl0LWJ0bicsXG4gICAgbW9kdWxlQ2FyZDoge1xuICAgICAgICBtb2R1bGVJdGVtTGlzdDogZnVuY3Rpb24gKHRlY2hOYW1lKSB7IHJldHVybiBcImRpdi5tb2R1bGUtaXRlbS1saXN0W2RhdGEtdGVjaC1uYW1lPSdcIi5jb25jYXQodGVjaE5hbWUsIFwiJ11cIik7IH0sXG4gICAgICAgIG1vZHVsZUl0ZW06IGZ1bmN0aW9uICh0ZWNoTmFtZSkgeyByZXR1cm4gXCIubW9kdWxlLWl0ZW1bZGF0YS10ZWNoLW5hbWU9J1wiLmNvbmNhdCh0ZWNoTmFtZSwgXCInXVwiKTsgfSxcbiAgICB9LFxuICAgIGNvbmZpcm1Nb2RhbDogZnVuY3Rpb24gKG1vZGFsSWQpIHsgcmV0dXJuIFwiI1wiLmNvbmNhdChtb2RhbElkKTsgfSxcbiAgICB0cmFuc2xhdGFibGVGaWVsZDoge1xuICAgICAgICB0b2dnbGVUYWI6ICcudHJhbnNsYXRpb25zTG9jYWxlcy5uYXYgLm5hdi1pdGVtIGFbZGF0YS10b2dnbGU9XCJ0YWJcIl0nLFxuICAgICAgICBuYXY6ICcudHJhbnNsYXRpb25zTG9jYWxlcy5uYXYnLFxuICAgICAgICBzZWxlY3Q6ICcudHJhbnNsYXRpb24tZmllbGQnLFxuICAgICAgICBzcGVjaWZpY0xvY2FsZTogZnVuY3Rpb24gKHNlbGVjdGVkTG9jYWxlKSB7IHJldHVybiBcIi5uYXYtaXRlbSBhW2RhdGEtbG9jYWxlPVxcXCJcIi5jb25jYXQoc2VsZWN0ZWRMb2NhbGUsIFwiXFxcIl1cIik7IH0sXG4gICAgfSxcbiAgICBlbnRpdHlTZWFyY2hJbnB1dDoge1xuICAgICAgICBzZWFyY2hJbnB1dFNlbGVjdG9yOiAnLmVudGl0eS1zZWFyY2gtaW5wdXQnLFxuICAgICAgICBlbnRpdGllc0NvbnRhaW5lclNlbGVjdG9yOiAnLmVudGl0aWVzLWxpc3QnLFxuICAgICAgICBsaXN0Q29udGFpbmVyU2VsZWN0b3I6ICcuZW50aXRpZXMtbGlzdC1jb250YWluZXInLFxuICAgICAgICBlbnRpdHlJdGVtU2VsZWN0b3I6ICcuZW50aXR5LWl0ZW0nLFxuICAgICAgICBlbnRpdHlEZWxldGVTZWxlY3RvcjogJy5lbnRpdHktaXRlbS1kZWxldGUnLFxuICAgICAgICBlbXB0eVN0YXRlU2VsZWN0b3I6ICcuZW1wdHktZW50aXR5LWxpc3QnLFxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgICBzZWxlY3RDaG9pY2U6IGZ1bmN0aW9uIChsYW5ndWFnZSkgeyByZXR1cm4gXCJzZWxlY3QudHJhbnNsYXRhYmxlX2Nob2ljZVtkYXRhLWxhbmd1YWdlPVxcXCJcIi5jb25jYXQobGFuZ3VhZ2UsIFwiXFxcIl1cIik7IH0sXG4gICAgICAgIHNlbGVjdExhbmd1YWdlOiAnc2VsZWN0LnRyYW5zbGF0YWJsZV9jaG9pY2VfbGFuZ3VhZ2UnLFxuICAgIH0sXG4gICAgc3VibWl0dGFibGVJbnB1dDoge1xuICAgICAgICBpbnB1dFNlbGVjdG9yOiAnLnN1Ym1pdHRhYmxlLWlucHV0JyxcbiAgICAgICAgYnV0dG9uU2VsZWN0b3I6ICcuY2hlY2stYnV0dG9uJyxcbiAgICB9LFxuICAgIGRlbHRhUXVhbnRpdHlJbnB1dDoge1xuICAgICAgICBjb250YWluZXJTZWxlY3RvcjogJy5kZWx0YS1xdWFudGl0eScsXG4gICAgICAgIHF1YW50aXR5SW5wdXRTZWxlY3RvcjogJy5kZWx0YS1xdWFudGl0eS1xdWFudGl0eScsXG4gICAgICAgIGRlbHRhSW5wdXRTZWxlY3RvcjogJy5kZWx0YS1xdWFudGl0eS1kZWx0YScsXG4gICAgICAgIHVwZGF0ZVF1YW50aXR5U2VsZWN0b3I6ICcucXVhbnRpdHktdXBkYXRlJyxcbiAgICAgICAgbW9kaWZpZWRRdWFudGl0eUNsYXNzOiAncXVhbnRpdHktbW9kaWZpZWQnLFxuICAgICAgICBuZXdRdWFudGl0eVNlbGVjdG9yOiAnLm5ldy1xdWFudGl0eScsXG4gICAgICAgIGluaXRpYWxRdWFudGl0eVByZXZpZXdTZWxlY3RvcjogJy5pbml0aWFsLXF1YW50aXR5JyxcbiAgICB9LFxuICAgIGRpc2FibGluZ1N3aXRjaDoge1xuICAgICAgICBkaXNhYmxpbmdTZWxlY3RvcjogJy5wcy1kaXNhYmxpbmctc3dpdGNoIGlucHV0LnBzLXN3aXRjaCcsXG4gICAgfSxcbiAgICBjdXJyZW50TGVuZ3RoOiAnLmpzLWN1cnJlbnQtbGVuZ3RoJyxcbiAgICByZWNvbW1lbmRlZExlbmd0aElucHV0OiAnLmpzLXJlY29tbWVuZGVkLWxlbmd0aC1pbnB1dCcsXG4gICAgbXVsdGlzdG9yZUNoZWNrYm94OiAnLm11bHRpc3RvcmUtY2hlY2tib3gnLFxuICAgIGZvcm1Hcm91cDogJy5mb3JtLWdyb3VwJyxcbiAgICBpbnB1dE5vdENoZWNrYm94OiAnOmlucHV0Om5vdCgubXVsdGlzdG9yZS1jaGVja2JveCknLFxuICAgIGlucHV0Q29udGFpbmVyOiAnLmlucHV0LWNvbnRhaW5lcicsXG4gICAgZm9ybUNvbnRyb2xMYWJlbDogJy5mb3JtLWNvbnRyb2wtbGFiZWwnLFxuICAgIHRpbmVNY2VFZGl0b3I6IHtcbiAgICAgICAgc2VsZWN0b3I6ICcuYXV0b2xvYWRfcnRlJyxcbiAgICAgICAgc2VsZWN0b3JDbGFzczogJ2F1dG9sb2FkX3J0ZScsXG4gICAgfSxcbiAgICBjb250ZXh0dWFsTm90aWZpY2F0aW9uOiB7XG4gICAgICAgIGNsb3NlOiAnLmNvbnRleHR1YWwtbm90aWZpY2F0aW9uIC5jbG9zZScsXG4gICAgICAgIG1lc3NhZ2VCb3hJZDogJ2NvbnRlbnQtbWVzc2FnZS1ib3gnLFxuICAgICAgICBub3RpZmljYXRpb25Cb3hJZDogJ2NvbnRleHR1YWwtbm90aWZpY2F0aW9uLWJveCcsXG4gICAgICAgIG5vdGlmaWNhdGlvbkNsYXNzOiAnY29udGV4dHVhbC1ub3RpZmljYXRpb24nLFxuICAgIH0sXG4gICAgYWpheENvbmZpcm1hdGlvbjogJyNhamF4X2NvbmZpcm1hdGlvbicsXG4gICAgZGF0ZVJhbmdlOiB7XG4gICAgICAgIGNvbnRhaW5lcjogJy5kYXRlLXJhbmdlJyxcbiAgICAgICAgZW5kRGF0ZTogJy5kYXRlLXJhbmdlLWVuZC1kYXRlJyxcbiAgICAgICAgdW5saW1pdGVkQ2hlY2tib3g6ICcuZGF0ZS1yYW5nZS11bmxpbWl0ZWQnLFxuICAgIH0sXG4gICAgcHJvZ3Jlc3NNb2RhbDoge1xuICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICBtb2RhbDogJ21vZGFsLXByb2dyZXNzJyxcbiAgICAgICAgICAgIHN3aXRjaFRvRXJyb3JCdXR0b246ICdzd2l0Y2gtdG8tZXJyb3JzLWJ1dHRvbicsXG4gICAgICAgICAgICBwcm9ncmVzc1BlcmNlbnQ6ICdwcm9ncmVzcy1wZXJjZW50JyxcbiAgICAgICAgICAgIHN0b3BQcm9jZXNzaW5nOiAnc3RvcC1wcm9jZXNzaW5nJyxcbiAgICAgICAgICAgIHByb2dyZXNzSGVhZGxpbmU6ICdwcm9ncmVzcy1oZWFkbGluZScsXG4gICAgICAgICAgICBwcm9ncmVzc01lc3NhZ2U6ICdwcm9ncmVzcy1tZXNzYWdlJyxcbiAgICAgICAgICAgIHByb2dyZXNzSWNvbjogJ3Byb2dyZXNzLWljb24nLFxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAncHJvZ3Jlc3MtZXJyb3ItbWVzc2FnZScsXG4gICAgICAgICAgICBlcnJvckNvbnRhaW5lcjogJ3Byb2dyZXNzLWVycm9yLWNvbnRhaW5lcicsXG4gICAgICAgICAgICBzd2l0Y2hUb1Byb2dyZXNzQnV0dG9uOiAnc3dpdGNoLXRvLXByb2dyZXNzLWJ1dHRvbicsXG4gICAgICAgICAgICBkb3dubG9hZEVycm9yTG9nQnV0dG9uOiAnZG93bmxvYWQtZXJyb3ItbG9nJyxcbiAgICAgICAgICAgIHByb2dyZXNzQmFyRG9uZTogJ21vZGFsX3Byb2dyZXNzYmFyX2RvbmUnLFxuICAgICAgICAgICAgY2xvc2VNb2RhbEJ1dHRvbjogJ2Nsb3NlLW1vZGFsLWJ1dHRvbicsXG4gICAgICAgICAgICBwcm9ncmVzc01vZGFsRXJyb3I6ICdwcm9ncmVzcy1tb2RhbC1lcnJvcicsXG4gICAgICAgICAgICBwcm9ncmVzc1N0YXR1c0ljb246IGZ1bmN0aW9uIChzdGF0dXMpIHsgcmV0dXJuIFwicHJvZ3Jlc3MtXCIuY29uY2F0KHN0YXR1cywgXCItaWNvblwiKTsgfSxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbmltcG9ydCBDb21wb25lbnRzTWFwIGZyb20gJy4vY29tcG9uZW50cy1tYXAnO1xudmFyICQgPSB3aW5kb3cuJDtcbi8qKlxuICogQ29tcG9uZW50IHdoaWNoIGFsbG93cyBzdWJtaXR0aW5nIHZlcnkgc2ltcGxlIGZvcm1zIHdpdGhvdXQgaGF2aW5nIHRvIHVzZSA8Zm9ybT4gZWxlbWVudC5cbiAqXG4gKiBVc2VmdWwgd2hlbiBwZXJmb3JtaW5nIGFjdGlvbnMgb24gcmVzb3VyY2Ugd2hlcmUgVVJMIGNvbnRhaW5zIGFsbCBuZWVkZWQgZGF0YS5cbiAqIEZvciBleGFtcGxlLCB0byB0b2dnbGUgY2F0ZWdvcnkgc3RhdHVzIHZpYSBcIlBPU1QgL2NhdGVnb3JpZXMvMi90b2dnbGUtc3RhdHVzKVwiXG4gKiBvciBkZWxldGUgY292ZXIgaW1hZ2UgdmlhIFwiUE9TVCAvY2F0ZWdvcmllcy8yL2RlbGV0ZS1jb3Zlci1pbWFnZVwiLlxuICpcbiAqIFVzYWdlIGV4YW1wbGUgaW4gdGVtcGxhdGU6XG4gKlxuICogPGJ1dHRvbiBjbGFzcz1cImpzLWZvcm0tc3VibWl0LWJ0blwiXG4gKiAgICAgICAgIGRhdGEtZm9ybS1zdWJtaXQtdXJsPVwiL215LWN1c3RvbS11cmxcIiAgICAgICAgICAvLyAocmVxdWlyZWQpIFVSTCB0byB3aGljaCBmb3JtIHdpbGwgYmUgc3VibWl0dGVkXG4gKiAgICAgICAgIGRhdGEtbWV0aG9kPVwiR0VUfFBPU1R8REVMRVRFfFBBVENIXCIgICAgICAgICAgICAvLyAob3B0aW9uYWwpIHNwZWNpZnkgdGhlIHZlcmIgdG8gdXNlIGZvciB0aGUgcmVxdWVzdC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQT1NUIGlzIHRha2VuIGJ5IGRlZmF1bHQgaWYgbm90IHZhbHVlIGlzIHNldFxuICogICAgICAgICBkYXRhLWZvcm0tY3NyZi10b2tlbj1cIm15LWdlbmVyYXRlZC1jc3JmLXRva2VuXCIgLy8gKG9wdGlvbmFsKSB0byBpbmNyZWFzZSBzZWN1cml0eVxuICogICAgICAgICBkYXRhLWZvcm0tY29uZmlybS1tZXNzYWdlPVwiQXJlIHlvdSBzdXJlP1wiICAgICAgLy8gKG9wdGlvbmFsKSB0byBjb25maXJtIGFjdGlvbiBiZWZvcmUgc3VibWl0XG4gKiAgICAgICAgIHR5cGU9XCJidXR0b25cIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgaXRzIHNpbXBsZSBidXR0b25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBjYW4gYXZvaWQgc3VibWl0dGluZyBhY3R1YWwgZm9ybVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gb3VyIGJ1dHRvbiBpcyBkZWZpbmVkIGluc2lkZSBmb3JtXG4gKiA+XG4gKiAgICAgQ2xpY2sgbWUgdG8gc3VibWl0IGZvcm1cbiAqIDwvYnV0dG9uPlxuICpcbiAqIEluIHBhZ2Ugc3BlY2lmaWMgSlMgeW91IGhhdmUgdG8gZW5hYmxlIHRoaXMgZmVhdHVyZTpcbiAqXG4gKiBuZXcgRm9ybVN1Ym1pdEJ1dHRvbigpO1xuICovXG52YXIgRm9ybVN1Ym1pdEJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGb3JtU3VibWl0QnV0dG9uKCkge1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBDb21wb25lbnRzTWFwLmZvcm1TdWJtaXRCdXR0b24sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciAkYnRuID0gJChldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgaWYgKCRidG4uZGF0YSgnZm9ybS1jb25maXJtLW1lc3NhZ2UnKVxuICAgICAgICAgICAgICAgICYmIHdpbmRvdy5jb25maXJtKCRidG4uZGF0YSgnZm9ybS1jb25maXJtLW1lc3NhZ2UnKSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgICAgIHZhciBhZGRJbnB1dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoJGJ0bi5kYXRhKCdtZXRob2QnKSkge1xuICAgICAgICAgICAgICAgIHZhciBidG5NZXRob2QgPSAkYnRuLmRhdGEoJ21ldGhvZCcpO1xuICAgICAgICAgICAgICAgIHZhciBpc0dldE9yUG9zdE1ldGhvZCA9IFsnR0VUJywgJ1BPU1QnXS5pbmNsdWRlcyhidG5NZXRob2QpO1xuICAgICAgICAgICAgICAgIG1ldGhvZCA9IGlzR2V0T3JQb3N0TWV0aG9kID8gYnRuTWV0aG9kIDogJ1BPU1QnO1xuICAgICAgICAgICAgICAgIGlmICghaXNHZXRPclBvc3RNZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSW5wdXQgPSAkKCc8aW5wdXQ+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ19oaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ19tZXRob2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGJ0bk1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyICRmb3JtID0gJCgnPGZvcm0+Jywge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJGJ0bi5kYXRhKCdmb3JtLXN1Ym1pdC11cmwnKSxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFkZElucHV0KSB7XG4gICAgICAgICAgICAgICAgJGZvcm0uYXBwZW5kKGFkZElucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgkYnRuLmRhdGEoJ2Zvcm0tY3NyZi10b2tlbicpKSB7XG4gICAgICAgICAgICAgICAgJGZvcm0uYXBwZW5kKCQoJzxpbnB1dD4nLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdfaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ19jc3JmX3Rva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICRidG4uZGF0YSgnZm9ybS1jc3JmLXRva2VuJyksXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJGZvcm0uYXBwZW5kVG8oJ2JvZHknKS5zdWJtaXQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBGb3JtU3VibWl0QnV0dG9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZvcm1TdWJtaXRCdXR0b247XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKipcclxuICogQSBjb2xsZWN0aW9uIG9mIHNoaW1zIHRoYXQgcHJvdmlkZSBtaW5pbWFsIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIEVTNiBjb2xsZWN0aW9ucy5cclxuICpcclxuICogVGhlc2UgaW1wbGVtZW50YXRpb25zIGFyZSBub3QgbWVhbnQgdG8gYmUgdXNlZCBvdXRzaWRlIG9mIHRoZSBSZXNpemVPYnNlcnZlclxyXG4gKiBtb2R1bGVzIGFzIHRoZXkgY292ZXIgb25seSBhIGxpbWl0ZWQgcmFuZ2Ugb2YgdXNlIGNhc2VzLlxyXG4gKi9cclxuLyogZXNsaW50LWRpc2FibGUgcmVxdWlyZS1qc2RvYywgdmFsaWQtanNkb2MgKi9cclxudmFyIE1hcFNoaW0gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiBNYXAgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hcDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBpbmRleCBpbiBwcm92aWRlZCBhcnJheSB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBrZXkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheT59IGFyclxyXG4gICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEluZGV4KGFyciwga2V5KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IC0xO1xyXG4gICAgICAgIGFyci5zb21lKGZ1bmN0aW9uIChlbnRyeSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGVudHJ5WzBdID09PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGNsYXNzXzEoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzXzEucHJvdG90eXBlLCBcInNpemVcIiwge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9fZW50cmllc19fLmxlbmd0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4KHRoaXMuX19lbnRyaWVzX18sIGtleSk7XHJcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMuX19lbnRyaWVzX19baW5kZXhdO1xyXG4gICAgICAgICAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xyXG4gICAgICAgICAgICBpZiAofmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9fZW50cmllc19fW2luZGV4XVsxXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXy5wdXNoKFtrZXksIHZhbHVlXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgZW50cmllcyA9IHRoaXMuX19lbnRyaWVzX187XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4KGVudHJpZXMsIGtleSk7XHJcbiAgICAgICAgICAgIGlmICh+aW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGVudHJpZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIX5nZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18uc3BsaWNlKDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtjdHg9bnVsbF1cclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjdHgpIHtcclxuICAgICAgICAgICAgaWYgKGN0eCA9PT0gdm9pZCAwKSB7IGN0eCA9IG51bGw7IH1cclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuX19lbnRyaWVzX187IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGN0eCwgZW50cnlbMV0sIGVudHJ5WzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzXzE7XHJcbiAgICB9KCkpO1xyXG59KSgpO1xuXG4vKipcclxuICogRGV0ZWN0cyB3aGV0aGVyIHdpbmRvdyBhbmQgZG9jdW1lbnQgb2JqZWN0cyBhcmUgYXZhaWxhYmxlIGluIGN1cnJlbnQgZW52aXJvbm1lbnQuXHJcbiAqL1xyXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgPT09IGRvY3VtZW50O1xuXG4vLyBSZXR1cm5zIGdsb2JhbCBvYmplY3Qgb2YgYSBjdXJyZW50IGVudmlyb25tZW50LlxyXG52YXIgZ2xvYmFsJDEgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbC5NYXRoID09PSBNYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09PSBNYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT09IE1hdGgpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93O1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXHJcbiAgICByZXR1cm4gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcclxufSkoKTtcblxuLyoqXHJcbiAqIEEgc2hpbSBmb3IgdGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB3aGljaCBmYWxscyBiYWNrIHRvIHRoZSBzZXRUaW1lb3V0IGlmXHJcbiAqIGZpcnN0IG9uZSBpcyBub3Qgc3VwcG9ydGVkLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXF1ZXN0cycgaWRlbnRpZmllci5cclxuICovXHJcbnZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUkMSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIC8vIEl0J3MgcmVxdWlyZWQgdG8gdXNlIGEgYm91bmRlZCBmdW5jdGlvbiBiZWNhdXNlIElFIHNvbWV0aW1lcyB0aHJvd3NcclxuICAgICAgICAvLyBhbiBcIkludmFsaWQgY2FsbGluZyBvYmplY3RcIiBlcnJvciBpZiByQUYgaXMgaW52b2tlZCB3aXRob3V0IHRoZSBnbG9iYWxcclxuICAgICAgICAvLyBvYmplY3Qgb24gdGhlIGxlZnQgaGFuZCBzaWRlLlxyXG4gICAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZChnbG9iYWwkMSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrKERhdGUubm93KCkpOyB9LCAxMDAwIC8gNjApOyB9O1xyXG59KSgpO1xuXG4vLyBEZWZpbmVzIG1pbmltdW0gdGltZW91dCBiZWZvcmUgYWRkaW5nIGEgdHJhaWxpbmcgY2FsbC5cclxudmFyIHRyYWlsaW5nVGltZW91dCA9IDI7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBlbnN1cmVzIHRoYXQgcHJvdmlkZWQgY2FsbGJhY2sgd2lsbCBiZVxyXG4gKiBpbnZva2VkIG9ubHkgb25jZSBkdXJpbmcgdGhlIHNwZWNpZmllZCBkZWxheSBwZXJpb2QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUgZGVsYXkgcGVyaW9kLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgLSBEZWxheSBhZnRlciB3aGljaCB0byBpbnZva2UgY2FsbGJhY2suXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICovXHJcbmZ1bmN0aW9uIHRocm90dGxlIChjYWxsYmFjaywgZGVsYXkpIHtcclxuICAgIHZhciBsZWFkaW5nQ2FsbCA9IGZhbHNlLCB0cmFpbGluZ0NhbGwgPSBmYWxzZSwgbGFzdENhbGxUaW1lID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlcyB0aGUgb3JpZ2luYWwgY2FsbGJhY2sgZnVuY3Rpb24gYW5kIHNjaGVkdWxlcyBuZXcgaW52b2NhdGlvbiBpZlxyXG4gICAgICogdGhlIFwicHJveHlcIiB3YXMgY2FsbGVkIGR1cmluZyBjdXJyZW50IHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlc29sdmVQZW5kaW5nKCkge1xyXG4gICAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xyXG4gICAgICAgICAgICBsZWFkaW5nQ2FsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHJhaWxpbmdDYWxsKSB7XHJcbiAgICAgICAgICAgIHByb3h5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayBpbnZva2VkIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXkuIEl0IHdpbGwgZnVydGhlciBwb3N0cG9uZVxyXG4gICAgICogaW52b2NhdGlvbiBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gZGVsZWdhdGluZyBpdCB0byB0aGVcclxuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdGltZW91dENhbGxiYWNrKCkge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSQxKHJlc29sdmVQZW5kaW5nKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2NoZWR1bGVzIGludm9jYXRpb24gb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBwcm94eSgpIHtcclxuICAgICAgICB2YXIgdGltZVN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAobGVhZGluZ0NhbGwpIHtcclxuICAgICAgICAgICAgLy8gUmVqZWN0IGltbWVkaWF0ZWx5IGZvbGxvd2luZyBjYWxscy5cclxuICAgICAgICAgICAgaWYgKHRpbWVTdGFtcCAtIGxhc3RDYWxsVGltZSA8IHRyYWlsaW5nVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIG5ldyBjYWxsIHRvIGJlIGluIGludm9rZWQgd2hlbiB0aGUgcGVuZGluZyBvbmUgaXMgcmVzb2x2ZWQuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGZvciBcInRyYW5zaXRpb25zXCIgd2hpY2ggbmV2ZXIgYWN0dWFsbHkgc3RhcnRcclxuICAgICAgICAgICAgLy8gaW1tZWRpYXRlbHkgc28gdGhlcmUgaXMgYSBjaGFuY2UgdGhhdCB3ZSBtaWdodCBtaXNzIG9uZSBpZiBjaGFuZ2VcclxuICAgICAgICAgICAgLy8gaGFwcGVucyBhbWlkcyB0aGUgcGVuZGluZyBpbnZvY2F0aW9uLlxyXG4gICAgICAgICAgICB0cmFpbGluZ0NhbGwgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGVhZGluZ0NhbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICB0cmFpbGluZ0NhbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aW1lb3V0Q2FsbGJhY2ssIGRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZVN0YW1wO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByb3h5O1xyXG59XG5cbi8vIE1pbmltdW0gZGVsYXkgYmVmb3JlIGludm9raW5nIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2ZXJzLlxyXG52YXIgUkVGUkVTSF9ERUxBWSA9IDIwO1xyXG4vLyBBIGxpc3Qgb2Ygc3Vic3RyaW5ncyBvZiBDU1MgcHJvcGVydGllcyB1c2VkIHRvIGZpbmQgdHJhbnNpdGlvbiBldmVudHMgdGhhdFxyXG4vLyBtaWdodCBhZmZlY3QgZGltZW5zaW9ucyBvZiBvYnNlcnZlZCBlbGVtZW50cy5cclxudmFyIHRyYW5zaXRpb25LZXlzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ3NpemUnLCAnd2VpZ2h0J107XHJcbi8vIENoZWNrIGlmIE11dGF0aW9uT2JzZXJ2ZXIgaXMgYXZhaWxhYmxlLlxyXG52YXIgbXV0YXRpb25PYnNlcnZlclN1cHBvcnRlZCA9IHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJztcclxuLyoqXHJcbiAqIFNpbmdsZXRvbiBjb250cm9sbGVyIGNsYXNzIHdoaWNoIGhhbmRsZXMgdXBkYXRlcyBvZiBSZXNpemVPYnNlcnZlciBpbnN0YW5jZXMuXHJcbiAqL1xyXG52YXIgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgRE9NIGxpc3RlbmVycyBoYXZlIGJlZW4gYWRkZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7Ym9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUZWxscyB0aGF0IGNvbnRyb2xsZXIgaGFzIHN1YnNjcmliZWQgZm9yIE11dGF0aW9uIEV2ZW50cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSBmYWxzZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBLZWVwcyByZWZlcmVuY2UgdG8gdGhlIGluc3RhbmNlIG9mIE11dGF0aW9uT2JzZXJ2ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7TXV0YXRpb25PYnNlcnZlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBsaXN0IG9mIGNvbm5lY3RlZCBvYnNlcnZlcnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7QXJyYXk8UmVzaXplT2JzZXJ2ZXJTUEk+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzXyA9IFtdO1xyXG4gICAgICAgIHRoaXMub25UcmFuc2l0aW9uRW5kXyA9IHRoaXMub25UcmFuc2l0aW9uRW5kXy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaCA9IHRocm90dGxlKHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpLCBSRUZSRVNIX0RFTEFZKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBvYnNlcnZlciB0byBvYnNlcnZlcnMgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyU1BJfSBvYnNlcnZlciAtIE9ic2VydmVyIHRvIGJlIGFkZGVkLlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUuYWRkT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICBpZiAoIX50aGlzLm9ic2VydmVyc18uaW5kZXhPZihvYnNlcnZlcikpIHtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNfLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgbGlzdGVuZXJzIGlmIHRoZXkgaGF2ZW4ndCBiZWVuIGFkZGVkIHlldC5cclxuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkXykge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RfKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBvYnNlcnZlciBmcm9tIG9ic2VydmVycyBsaXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJTUEl9IG9ic2VydmVyIC0gT2JzZXJ2ZXIgdG8gYmUgcmVtb3ZlZC5cclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzXztcclxuICAgICAgICB2YXIgaW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XHJcbiAgICAgICAgLy8gUmVtb3ZlIG9ic2VydmVyIGlmIGl0J3MgcHJlc2VudCBpbiByZWdpc3RyeS5cclxuICAgICAgICBpZiAofmluZGV4KSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgbGlzdGVuZXJzIGlmIGNvbnRyb2xsZXIgaGFzIG5vIGNvbm5lY3RlZCBvYnNlcnZlcnMuXHJcbiAgICAgICAgaWYgKCFvYnNlcnZlcnMubGVuZ3RoICYmIHRoaXMuY29ubmVjdGVkXykge1xyXG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RfKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlcyB0aGUgdXBkYXRlIG9mIG9ic2VydmVycy4gSXQgd2lsbCBjb250aW51ZSBydW5uaW5nIHVwZGF0ZXMgaW5zb2ZhclxyXG4gICAgICogaXQgZGV0ZWN0cyBjaGFuZ2VzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNoYW5nZXNEZXRlY3RlZCA9IHRoaXMudXBkYXRlT2JzZXJ2ZXJzXygpO1xyXG4gICAgICAgIC8vIENvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpZiBjaGFuZ2VzIGhhdmUgYmVlbiBkZXRlY3RlZCBhcyB0aGVyZSBtaWdodFxyXG4gICAgICAgIC8vIGJlIGZ1dHVyZSBvbmVzIGNhdXNlZCBieSBDU1MgdHJhbnNpdGlvbnMuXHJcbiAgICAgICAgaWYgKGNoYW5nZXNEZXRlY3RlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIGV2ZXJ5IG9ic2VydmVyIGZyb20gb2JzZXJ2ZXJzIGxpc3QgYW5kIG5vdGlmaWVzIHRoZW0gb2YgcXVldWVkXHJcbiAgICAgKiBlbnRyaWVzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBcInRydWVcIiBpZiBhbnkgb2JzZXJ2ZXIgaGFzIGRldGVjdGVkIGNoYW5nZXMgaW5cclxuICAgICAqICAgICAgZGltZW5zaW9ucyBvZiBpdCdzIGVsZW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZU9ic2VydmVyc18gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQ29sbGVjdCBvYnNlcnZlcnMgdGhhdCBoYXZlIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgICAgdmFyIGFjdGl2ZU9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzXy5maWx0ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZlci5nYXRoZXJBY3RpdmUoKSwgb2JzZXJ2ZXIuaGFzQWN0aXZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGVsaXZlciBub3RpZmljYXRpb25zIGluIGEgc2VwYXJhdGUgY3ljbGUgaW4gb3JkZXIgdG8gYXZvaWQgYW55XHJcbiAgICAgICAgLy8gY29sbGlzaW9ucyBiZXR3ZWVuIG9ic2VydmVycywgZS5nLiB3aGVuIG11bHRpcGxlIGluc3RhbmNlcyBvZlxyXG4gICAgICAgIC8vIFJlc2l6ZU9ic2VydmVyIGFyZSB0cmFja2luZyB0aGUgc2FtZSBlbGVtZW50IGFuZCB0aGUgY2FsbGJhY2sgb2Ygb25lXHJcbiAgICAgICAgLy8gb2YgdGhlbSBjaGFuZ2VzIGNvbnRlbnQgZGltZW5zaW9ucyBvZiB0aGUgb2JzZXJ2ZWQgdGFyZ2V0LiBTb21ldGltZXNcclxuICAgICAgICAvLyB0aGlzIG1heSByZXN1bHQgaW4gbm90aWZpY2F0aW9ucyBiZWluZyBibG9ja2VkIGZvciB0aGUgcmVzdCBvZiBvYnNlcnZlcnMuXHJcbiAgICAgICAgYWN0aXZlT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7IHJldHVybiBvYnNlcnZlci5icm9hZGNhc3RBY3RpdmUoKTsgfSk7XHJcbiAgICAgICAgcmV0dXJuIGFjdGl2ZU9ic2VydmVycy5sZW5ndGggPiAwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgRE9NIGxpc3RlbmVycy5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUuY29ubmVjdF8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiBydW5uaW5nIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQgb3IgaWYgbGlzdGVuZXJzXHJcbiAgICAgICAgLy8gaGF2ZSBiZWVuIGFscmVhZHkgYWRkZWQuXHJcbiAgICAgICAgaWYgKCFpc0Jyb3dzZXIgfHwgdGhpcy5jb25uZWN0ZWRfKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3Vic2NyaXB0aW9uIHRvIHRoZSBcIlRyYW5zaXRpb25lbmRcIiBldmVudCBpcyB1c2VkIGFzIGEgd29ya2Fyb3VuZCBmb3JcclxuICAgICAgICAvLyBkZWxheWVkIHRyYW5zaXRpb25zLiBUaGlzIHdheSBpdCdzIHBvc3NpYmxlIHRvIGNhcHR1cmUgYXQgbGVhc3QgdGhlXHJcbiAgICAgICAgLy8gZmluYWwgc3RhdGUgb2YgYW4gZWxlbWVudC5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5vblRyYW5zaXRpb25FbmRfKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZWZyZXNoKTtcclxuICAgICAgICBpZiAobXV0YXRpb25PYnNlcnZlclN1cHBvcnRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfLm9ic2VydmUoZG9jdW1lbnQsIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc3VidHJlZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHRoaXMucmVmcmVzaCk7XHJcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbm5lY3RlZF8gPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBET00gbGlzdGVuZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5kaXNjb25uZWN0XyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHJ1bm5pbmcgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudCBvciBpZiBsaXN0ZW5lcnNcclxuICAgICAgICAvLyBoYXZlIGJlZW4gYWxyZWFkeSByZW1vdmVkLlxyXG4gICAgICAgIGlmICghaXNCcm93c2VyIHx8ICF0aGlzLmNvbm5lY3RlZF8pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5vblRyYW5zaXRpb25FbmRfKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZWZyZXNoKTtcclxuICAgICAgICBpZiAodGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8pIHtcclxuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8uZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01TdWJ0cmVlTW9kaWZpZWQnLCB0aGlzLnJlZnJlc2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkXyA9IGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogXCJUcmFuc2l0aW9uZW5kXCIgZXZlbnQgaGFuZGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtUcmFuc2l0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblRyYW5zaXRpb25FbmRfID0gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgdmFyIF9iID0gX2EucHJvcGVydHlOYW1lLCBwcm9wZXJ0eU5hbWUgPSBfYiA9PT0gdm9pZCAwID8gJycgOiBfYjtcclxuICAgICAgICAvLyBEZXRlY3Qgd2hldGhlciB0cmFuc2l0aW9uIG1heSBhZmZlY3QgZGltZW5zaW9ucyBvZiBhbiBlbGVtZW50LlxyXG4gICAgICAgIHZhciBpc1JlZmxvd1Byb3BlcnR5ID0gdHJhbnNpdGlvbktleXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIX5wcm9wZXJ0eU5hbWUuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChpc1JlZmxvd1Byb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaW5zdGFuY2Ugb2YgdGhlIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7UmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlXykge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlXyA9IG5ldyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VfO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSG9sZHMgcmVmZXJlbmNlIHRvIHRoZSBjb250cm9sbGVyJ3MgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGUge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmluc3RhbmNlXyA9IG51bGw7XHJcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyO1xyXG59KCkpO1xuXG4vKipcclxuICogRGVmaW5lcyBub24td3JpdGFibGUvZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHRoZSBwcm92aWRlZCB0YXJnZXQgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IC0gT2JqZWN0IGZvciB3aGljaCB0byBkZWZpbmUgcHJvcGVydGllcy5cclxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gUHJvcGVydGllcyB0byBiZSBkZWZpbmVkLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUYXJnZXQgb2JqZWN0LlxyXG4gKi9cclxudmFyIGRlZmluZUNvbmZpZ3VyYWJsZSA9IChmdW5jdGlvbiAodGFyZ2V0LCBwcm9wcykge1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKHByb3BzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xyXG4gICAgICAgICAgICB2YWx1ZTogcHJvcHNba2V5XSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG59KTtcblxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcclxuICogQHJldHVybnMge09iamVjdH1cclxuICovXHJcbnZhciBnZXRXaW5kb3dPZiA9IChmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAvLyBBc3N1bWUgdGhhdCB0aGUgZWxlbWVudCBpcyBhbiBpbnN0YW5jZSBvZiBOb2RlLCB3aGljaCBtZWFucyB0aGF0IGl0XHJcbiAgICAvLyBoYXMgdGhlIFwib3duZXJEb2N1bWVudFwiIHByb3BlcnR5IGZyb20gd2hpY2ggd2UgY2FuIHJldHJpZXZlIGFcclxuICAgIC8vIGNvcnJlc3BvbmRpbmcgZ2xvYmFsIG9iamVjdC5cclxuICAgIHZhciBvd25lckdsb2JhbCA9IHRhcmdldCAmJiB0YXJnZXQub3duZXJEb2N1bWVudCAmJiB0YXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcclxuICAgIC8vIFJldHVybiB0aGUgbG9jYWwgZ2xvYmFsIG9iamVjdCBpZiBpdCdzIG5vdCBwb3NzaWJsZSBleHRyYWN0IG9uZSBmcm9tXHJcbiAgICAvLyBwcm92aWRlZCBlbGVtZW50LlxyXG4gICAgcmV0dXJuIG93bmVyR2xvYmFsIHx8IGdsb2JhbCQxO1xyXG59KTtcblxuLy8gUGxhY2Vob2xkZXIgb2YgYW4gZW1wdHkgY29udGVudCByZWN0YW5nbGUuXHJcbnZhciBlbXB0eVJlY3QgPSBjcmVhdGVSZWN0SW5pdCgwLCAwLCAwLCAwKTtcclxuLyoqXHJcbiAqIENvbnZlcnRzIHByb3ZpZGVkIHN0cmluZyB0byBhIG51bWJlci5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gdG9GbG9hdCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XHJcbn1cclxuLyoqXHJcbiAqIEV4dHJhY3RzIGJvcmRlcnMgc2l6ZSBmcm9tIHByb3ZpZGVkIHN0eWxlcy5cclxuICpcclxuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcclxuICogQHBhcmFtIHsuLi5zdHJpbmd9IHBvc2l0aW9ucyAtIEJvcmRlcnMgcG9zaXRpb25zICh0b3AsIHJpZ2h0LCAuLi4pXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRCb3JkZXJzU2l6ZShzdHlsZXMpIHtcclxuICAgIHZhciBwb3NpdGlvbnMgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgcG9zaXRpb25zW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc2l0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKHNpemUsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gc3R5bGVzWydib3JkZXItJyArIHBvc2l0aW9uICsgJy13aWR0aCddO1xyXG4gICAgICAgIHJldHVybiBzaXplICsgdG9GbG9hdCh2YWx1ZSk7XHJcbiAgICB9LCAwKTtcclxufVxyXG4vKipcclxuICogRXh0cmFjdHMgcGFkZGluZ3Mgc2l6ZXMgZnJvbSBwcm92aWRlZCBzdHlsZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhZGRpbmdzIGJveC5cclxuICovXHJcbmZ1bmN0aW9uIGdldFBhZGRpbmdzKHN0eWxlcykge1xyXG4gICAgdmFyIHBvc2l0aW9ucyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J107XHJcbiAgICB2YXIgcGFkZGluZ3MgPSB7fTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgcG9zaXRpb25zXzEgPSBwb3NpdGlvbnM7IF9pIDwgcG9zaXRpb25zXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gcG9zaXRpb25zXzFbX2ldO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1sncGFkZGluZy0nICsgcG9zaXRpb25dO1xyXG4gICAgICAgIHBhZGRpbmdzW3Bvc2l0aW9uXSA9IHRvRmxvYXQodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhZGRpbmdzO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHByb3ZpZGVkIFNWRyBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1NWR0dyYXBoaWNzRWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCBjb250ZW50IHJlY3RhbmdsZSBvZiB3aGljaCBuZWVkc1xyXG4gKiAgICAgIHRvIGJlIGNhbGN1bGF0ZWQuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXHJcbmZ1bmN0aW9uIGdldFNWR0NvbnRlbnRSZWN0KHRhcmdldCkge1xyXG4gICAgdmFyIGJib3ggPSB0YXJnZXQuZ2V0QkJveCgpO1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlY3RJbml0KDAsIDAsIGJib3gud2lkdGgsIGJib3guaGVpZ2h0KTtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBjb250ZW50IHJlY3RhbmdsZSBvZiBwcm92aWRlZCBIVE1MRWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCBmb3Igd2hpY2ggdG8gY2FsY3VsYXRlIHRoZSBjb250ZW50IHJlY3RhbmdsZS5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCh0YXJnZXQpIHtcclxuICAgIC8vIENsaWVudCB3aWR0aCAmIGhlaWdodCBwcm9wZXJ0aWVzIGNhbid0IGJlXHJcbiAgICAvLyB1c2VkIGV4Y2x1c2l2ZWx5IGFzIHRoZXkgcHJvdmlkZSByb3VuZGVkIHZhbHVlcy5cclxuICAgIHZhciBjbGllbnRXaWR0aCA9IHRhcmdldC5jbGllbnRXaWR0aCwgY2xpZW50SGVpZ2h0ID0gdGFyZ2V0LmNsaWVudEhlaWdodDtcclxuICAgIC8vIEJ5IHRoaXMgY29uZGl0aW9uIHdlIGNhbiBjYXRjaCBhbGwgbm9uLXJlcGxhY2VkIGlubGluZSwgaGlkZGVuIGFuZFxyXG4gICAgLy8gZGV0YWNoZWQgZWxlbWVudHMuIFRob3VnaCBlbGVtZW50cyB3aXRoIHdpZHRoICYgaGVpZ2h0IHByb3BlcnRpZXMgbGVzc1xyXG4gICAgLy8gdGhhbiAwLjUgd2lsbCBiZSBkaXNjYXJkZWQgYXMgd2VsbC5cclxuICAgIC8vXHJcbiAgICAvLyBXaXRob3V0IGl0IHdlIHdvdWxkIG5lZWQgdG8gaW1wbGVtZW50IHNlcGFyYXRlIG1ldGhvZHMgZm9yIGVhY2ggb2ZcclxuICAgIC8vIHRob3NlIGNhc2VzIGFuZCBpdCdzIG5vdCBwb3NzaWJsZSB0byBwZXJmb3JtIGEgcHJlY2lzZSBhbmQgcGVyZm9ybWFuY2VcclxuICAgIC8vIGVmZmVjdGl2ZSB0ZXN0IGZvciBoaWRkZW4gZWxlbWVudHMuIEUuZy4gZXZlbiBqUXVlcnkncyAnOnZpc2libGUnIGZpbHRlclxyXG4gICAgLy8gZ2l2ZXMgd3JvbmcgcmVzdWx0cyBmb3IgZWxlbWVudHMgd2l0aCB3aWR0aCAmIGhlaWdodCBsZXNzIHRoYW4gMC41LlxyXG4gICAgaWYgKCFjbGllbnRXaWR0aCAmJiAhY2xpZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIGVtcHR5UmVjdDtcclxuICAgIH1cclxuICAgIHZhciBzdHlsZXMgPSBnZXRXaW5kb3dPZih0YXJnZXQpLmdldENvbXB1dGVkU3R5bGUodGFyZ2V0KTtcclxuICAgIHZhciBwYWRkaW5ncyA9IGdldFBhZGRpbmdzKHN0eWxlcyk7XHJcbiAgICB2YXIgaG9yaXpQYWQgPSBwYWRkaW5ncy5sZWZ0ICsgcGFkZGluZ3MucmlnaHQ7XHJcbiAgICB2YXIgdmVydFBhZCA9IHBhZGRpbmdzLnRvcCArIHBhZGRpbmdzLmJvdHRvbTtcclxuICAgIC8vIENvbXB1dGVkIHN0eWxlcyBvZiB3aWR0aCAmIGhlaWdodCBhcmUgYmVpbmcgdXNlZCBiZWNhdXNlIHRoZXkgYXJlIHRoZVxyXG4gICAgLy8gb25seSBkaW1lbnNpb25zIGF2YWlsYWJsZSB0byBKUyB0aGF0IGNvbnRhaW4gbm9uLXJvdW5kZWQgdmFsdWVzLiBJdCBjb3VsZFxyXG4gICAgLy8gYmUgcG9zc2libGUgdG8gdXRpbGl6ZSB0aGUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlmIG9ubHkgaXQncyBkYXRhIHdhc24ndFxyXG4gICAgLy8gYWZmZWN0ZWQgYnkgQ1NTIHRyYW5zZm9ybWF0aW9ucyBsZXQgYWxvbmUgcGFkZGluZ3MsIGJvcmRlcnMgYW5kIHNjcm9sbCBiYXJzLlxyXG4gICAgdmFyIHdpZHRoID0gdG9GbG9hdChzdHlsZXMud2lkdGgpLCBoZWlnaHQgPSB0b0Zsb2F0KHN0eWxlcy5oZWlnaHQpO1xyXG4gICAgLy8gV2lkdGggJiBoZWlnaHQgaW5jbHVkZSBwYWRkaW5ncyBhbmQgYm9yZGVycyB3aGVuIHRoZSAnYm9yZGVyLWJveCcgYm94XHJcbiAgICAvLyBtb2RlbCBpcyBhcHBsaWVkIChleGNlcHQgZm9yIElFKS5cclxuICAgIGlmIChzdHlsZXMuYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcclxuICAgICAgICAvLyBGb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgcmVxdWlyZWQgdG8gaGFuZGxlIEludGVybmV0IEV4cGxvcmVyIHdoaWNoXHJcbiAgICAgICAgLy8gZG9lc24ndCBpbmNsdWRlIHBhZGRpbmdzIGFuZCBib3JkZXJzIHRvIGNvbXB1dGVkIENTUyBkaW1lbnNpb25zLlxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gV2UgY2FuIHNheSB0aGF0IGlmIENTUyBkaW1lbnNpb25zICsgcGFkZGluZ3MgYXJlIGVxdWFsIHRvIHRoZSBcImNsaWVudFwiXHJcbiAgICAgICAgLy8gcHJvcGVydGllcyB0aGVuIGl0J3MgZWl0aGVyIElFLCBhbmQgdGh1cyB3ZSBkb24ndCBuZWVkIHRvIHN1YnRyYWN0XHJcbiAgICAgICAgLy8gYW55dGhpbmcsIG9yIGFuIGVsZW1lbnQgbWVyZWx5IGRvZXNuJ3QgaGF2ZSBwYWRkaW5ncy9ib3JkZXJzIHN0eWxlcy5cclxuICAgICAgICBpZiAoTWF0aC5yb3VuZCh3aWR0aCArIGhvcml6UGFkKSAhPT0gY2xpZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgd2lkdGggLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAnbGVmdCcsICdyaWdodCcpICsgaG9yaXpQYWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChNYXRoLnJvdW5kKGhlaWdodCArIHZlcnRQYWQpICE9PSBjbGllbnRIZWlnaHQpIHtcclxuICAgICAgICAgICAgaGVpZ2h0IC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3RvcCcsICdib3R0b20nKSArIHZlcnRQYWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gRm9sbG93aW5nIHN0ZXBzIGNhbid0IGJlIGFwcGxpZWQgdG8gdGhlIGRvY3VtZW50J3Mgcm9vdCBlbGVtZW50IGFzIGl0c1xyXG4gICAgLy8gY2xpZW50W1dpZHRoL0hlaWdodF0gcHJvcGVydGllcyByZXByZXNlbnQgdmlld3BvcnQgYXJlYSBvZiB0aGUgd2luZG93LlxyXG4gICAgLy8gQmVzaWRlcywgaXQncyBhcyB3ZWxsIG5vdCBuZWNlc3NhcnkgYXMgdGhlIDxodG1sPiBpdHNlbGYgbmVpdGhlciBoYXNcclxuICAgIC8vIHJlbmRlcmVkIHNjcm9sbCBiYXJzIG5vciBpdCBjYW4gYmUgY2xpcHBlZC5cclxuICAgIGlmICghaXNEb2N1bWVudEVsZW1lbnQodGFyZ2V0KSkge1xyXG4gICAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMgKG9ubHkgaW4gRmlyZWZveCwgYWN0dWFsbHkpIENTUyB3aWR0aCAmIGhlaWdodFxyXG4gICAgICAgIC8vIGluY2x1ZGUgc2Nyb2xsIGJhcnMgc2l6ZSB3aGljaCBjYW4gYmUgcmVtb3ZlZCBhdCB0aGlzIHN0ZXAgYXMgc2Nyb2xsXHJcbiAgICAgICAgLy8gYmFycyBhcmUgdGhlIG9ubHkgZGlmZmVyZW5jZSBiZXR3ZWVuIHJvdW5kZWQgZGltZW5zaW9ucyArIHBhZGRpbmdzXHJcbiAgICAgICAgLy8gYW5kIFwiY2xpZW50XCIgcHJvcGVydGllcywgdGhvdWdoIHRoYXQgaXMgbm90IGFsd2F5cyB0cnVlIGluIENocm9tZS5cclxuICAgICAgICB2YXIgdmVydFNjcm9sbGJhciA9IE1hdGgucm91bmQod2lkdGggKyBob3JpelBhZCkgLSBjbGllbnRXaWR0aDtcclxuICAgICAgICB2YXIgaG9yaXpTY3JvbGxiYXIgPSBNYXRoLnJvdW5kKGhlaWdodCArIHZlcnRQYWQpIC0gY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIC8vIENocm9tZSBoYXMgYSByYXRoZXIgd2VpcmQgcm91bmRpbmcgb2YgXCJjbGllbnRcIiBwcm9wZXJ0aWVzLlxyXG4gICAgICAgIC8vIEUuZy4gZm9yIGFuIGVsZW1lbnQgd2l0aCBjb250ZW50IHdpZHRoIG9mIDMxNC4ycHggaXQgc29tZXRpbWVzIGdpdmVzXHJcbiAgICAgICAgLy8gdGhlIGNsaWVudCB3aWR0aCBvZiAzMTVweCBhbmQgZm9yIHRoZSB3aWR0aCBvZiAzMTQuN3B4IGl0IG1heSBnaXZlXHJcbiAgICAgICAgLy8gMzE0cHguIEFuZCBpdCBkb2Vzbid0IGhhcHBlbiBhbGwgdGhlIHRpbWUuIFNvIGp1c3QgaWdub3JlIHRoaXMgZGVsdGFcclxuICAgICAgICAvLyBhcyBhIG5vbi1yZWxldmFudC5cclxuICAgICAgICBpZiAoTWF0aC5hYnModmVydFNjcm9sbGJhcikgIT09IDEpIHtcclxuICAgICAgICAgICAgd2lkdGggLT0gdmVydFNjcm9sbGJhcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGhvcml6U2Nyb2xsYmFyKSAhPT0gMSkge1xyXG4gICAgICAgICAgICBoZWlnaHQgLT0gaG9yaXpTY3JvbGxiYXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNyZWF0ZVJlY3RJbml0KHBhZGRpbmdzLmxlZnQsIHBhZGRpbmdzLnRvcCwgd2lkdGgsIGhlaWdodCk7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIHByb3ZpZGVkIGVsZW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgdGhlIFNWR0dyYXBoaWNzRWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxudmFyIGlzU1ZHR3JhcGhpY3NFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIFNvbWUgYnJvd3NlcnMsIG5hbWVseSBJRSBhbmQgRWRnZSwgZG9uJ3QgaGF2ZSB0aGUgU1ZHR3JhcGhpY3NFbGVtZW50XHJcbiAgICAvLyBpbnRlcmZhY2UuXHJcbiAgICBpZiAodHlwZW9mIFNWR0dyYXBoaWNzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5TVkdHcmFwaGljc0VsZW1lbnQ7IH07XHJcbiAgICB9XHJcbiAgICAvLyBJZiBpdCdzIHNvLCB0aGVuIGNoZWNrIHRoYXQgZWxlbWVudCBpcyBhdCBsZWFzdCBhbiBpbnN0YW5jZSBvZiB0aGVcclxuICAgIC8vIFNWR0VsZW1lbnQgYW5kIHRoYXQgaXQgaGFzIHRoZSBcImdldEJCb3hcIiBtZXRob2QuXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gKHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuU1ZHRWxlbWVudCAmJlxyXG4gICAgICAgIHR5cGVvZiB0YXJnZXQuZ2V0QkJveCA9PT0gJ2Z1bmN0aW9uJyk7IH07XHJcbn0pKCk7XHJcbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBwcm92aWRlZCBlbGVtZW50IGlzIGEgZG9jdW1lbnQgZWxlbWVudCAoPGh0bWw+KS5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gaXNEb2N1bWVudEVsZW1lbnQodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gdGFyZ2V0ID09PSBnZXRXaW5kb3dPZih0YXJnZXQpLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBhbiBhcHByb3ByaWF0ZSBjb250ZW50IHJlY3RhbmdsZSBmb3IgcHJvdmlkZWQgaHRtbCBvciBzdmcgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHdoaWNoIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXHJcbmZ1bmN0aW9uIGdldENvbnRlbnRSZWN0KHRhcmdldCkge1xyXG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcclxuICAgICAgICByZXR1cm4gZW1wdHlSZWN0O1xyXG4gICAgfVxyXG4gICAgaWYgKGlzU1ZHR3JhcGhpY3NFbGVtZW50KHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gZ2V0U1ZHQ29udGVudFJlY3QodGFyZ2V0KTtcclxuICAgIH1cclxuICAgIHJldHVybiBnZXRIVE1MRWxlbWVudENvbnRlbnRSZWN0KHRhcmdldCk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgcmVjdGFuZ2xlIHdpdGggYW4gaW50ZXJmYWNlIG9mIHRoZSBET01SZWN0UmVhZE9ubHkuXHJcbiAqIFNwZWM6IGh0dHBzOi8vZHJhZnRzLmZ4dGYub3JnL2dlb21ldHJ5LyNkb21yZWN0cmVhZG9ubHlcclxuICpcclxuICogQHBhcmFtIHtET01SZWN0SW5pdH0gcmVjdEluaXQgLSBPYmplY3Qgd2l0aCByZWN0YW5nbGUncyB4L3kgY29vcmRpbmF0ZXMgYW5kIGRpbWVuc2lvbnMuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0UmVhZE9ubHl9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVSZWFkT25seVJlY3QoX2EpIHtcclxuICAgIHZhciB4ID0gX2EueCwgeSA9IF9hLnksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcclxuICAgIC8vIElmIERPTVJlY3RSZWFkT25seSBpcyBhdmFpbGFibGUgdXNlIGl0IGFzIGEgcHJvdG90eXBlIGZvciB0aGUgcmVjdGFuZ2xlLlxyXG4gICAgdmFyIENvbnN0ciA9IHR5cGVvZiBET01SZWN0UmVhZE9ubHkgIT09ICd1bmRlZmluZWQnID8gRE9NUmVjdFJlYWRPbmx5IDogT2JqZWN0O1xyXG4gICAgdmFyIHJlY3QgPSBPYmplY3QuY3JlYXRlKENvbnN0ci5wcm90b3R5cGUpO1xyXG4gICAgLy8gUmVjdGFuZ2xlJ3MgcHJvcGVydGllcyBhcmUgbm90IHdyaXRhYmxlIGFuZCBub24tZW51bWVyYWJsZS5cclxuICAgIGRlZmluZUNvbmZpZ3VyYWJsZShyZWN0LCB7XHJcbiAgICAgICAgeDogeCwgeTogeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCxcclxuICAgICAgICB0b3A6IHksXHJcbiAgICAgICAgcmlnaHQ6IHggKyB3aWR0aCxcclxuICAgICAgICBib3R0b206IGhlaWdodCArIHksXHJcbiAgICAgICAgbGVmdDogeFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVjdDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBET01SZWN0SW5pdCBvYmplY3QgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGRpbWVuc2lvbnMgYW5kIHRoZSB4L3kgY29vcmRpbmF0ZXMuXHJcbiAqIFNwZWM6IGh0dHBzOi8vZHJhZnRzLmZ4dGYub3JnL2dlb21ldHJ5LyNkaWN0ZGVmLWRvbXJlY3Rpbml0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlLlxyXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gUmVjdGFuZ2xlJ3Mgd2lkdGguXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBSZWN0YW5nbGUncyBoZWlnaHQuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJlY3RJbml0KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcclxufVxuXG4vKipcclxuICogQ2xhc3MgdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgY29tcHV0YXRpb25zIG9mIHRoZSBjb250ZW50IHJlY3RhbmdsZSBvZlxyXG4gKiBwcm92aWRlZCBET00gZWxlbWVudCBhbmQgZm9yIGtlZXBpbmcgdHJhY2sgb2YgaXQncyBjaGFuZ2VzLlxyXG4gKi9cclxudmFyIFJlc2l6ZU9ic2VydmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBvYnNlcnZlZC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0KSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQnJvYWRjYXN0ZWQgd2lkdGggb2YgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0V2lkdGggPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJyb2FkY2FzdGVkIGhlaWdodCBvZiBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5icm9hZGNhc3RIZWlnaHQgPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgbGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtET01SZWN0SW5pdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNvbnRlbnRSZWN0XyA9IGNyZWF0ZVJlY3RJbml0KDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIGFuZCB0ZWxscyB3aGV0aGVyIGl0J3Mgd2lkdGggb3IgaGVpZ2h0IHByb3BlcnRpZXNcclxuICAgICAqIGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCBicm9hZGNhc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmF0aW9uLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVjdCA9IGdldENvbnRlbnRSZWN0KHRoaXMudGFyZ2V0KTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRSZWN0XyA9IHJlY3Q7XHJcbiAgICAgICAgcmV0dXJuIChyZWN0LndpZHRoICE9PSB0aGlzLmJyb2FkY2FzdFdpZHRoIHx8XHJcbiAgICAgICAgICAgIHJlY3QuaGVpZ2h0ICE9PSB0aGlzLmJyb2FkY2FzdEhlaWdodCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzICdicm9hZGNhc3RXaWR0aCcgYW5kICdicm9hZGNhc3RIZWlnaHQnIHByb3BlcnRpZXMgd2l0aCBhIGRhdGFcclxuICAgICAqIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydGllcyBvZiB0aGUgbGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9IExhc3Qgb2JzZXJ2ZWQgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmF0aW9uLnByb3RvdHlwZS5icm9hZGNhc3RSZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5jb250ZW50UmVjdF87XHJcbiAgICAgICAgdGhpcy5icm9hZGNhc3RXaWR0aCA9IHJlY3Qud2lkdGg7XHJcbiAgICAgICAgdGhpcy5icm9hZGNhc3RIZWlnaHQgPSByZWN0LmhlaWdodDtcclxuICAgICAgICByZXR1cm4gcmVjdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2YXRpb247XHJcbn0oKSk7XG5cbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmVyRW50cnkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRoYXQgaXMgYmVpbmcgb2JzZXJ2ZWQuXHJcbiAgICAgKiBAcGFyYW0ge0RPTVJlY3RJbml0fSByZWN0SW5pdCAtIERhdGEgb2YgdGhlIGVsZW1lbnQncyBjb250ZW50IHJlY3RhbmdsZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJFbnRyeSh0YXJnZXQsIHJlY3RJbml0KSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRSZWN0ID0gY3JlYXRlUmVhZE9ubHlSZWN0KHJlY3RJbml0KTtcclxuICAgICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb24gZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIG5vdCB3cml0YWJsZVxyXG4gICAgICAgIC8vIGFuZCBhcmUgYWxzbyBub3QgZW51bWVyYWJsZSBpbiB0aGUgbmF0aXZlIGltcGxlbWVudGF0aW9uLlxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gUHJvcGVydHkgYWNjZXNzb3JzIGFyZSBub3QgYmVpbmcgdXNlZCBhcyB0aGV5J2QgcmVxdWlyZSB0byBkZWZpbmUgYVxyXG4gICAgICAgIC8vIHByaXZhdGUgV2Vha01hcCBzdG9yYWdlIHdoaWNoIG1heSBjYXVzZSBtZW1vcnkgbGVha3MgaW4gYnJvd3NlcnMgdGhhdFxyXG4gICAgICAgIC8vIGRvbid0IHN1cHBvcnQgdGhpcyB0eXBlIG9mIGNvbGxlY3Rpb25zLlxyXG4gICAgICAgIGRlZmluZUNvbmZpZ3VyYWJsZSh0aGlzLCB7IHRhcmdldDogdGFyZ2V0LCBjb250ZW50UmVjdDogY29udGVudFJlY3QgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJFbnRyeTtcclxufSgpKTtcblxudmFyIFJlc2l6ZU9ic2VydmVyU1BJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGludm9rZWRcclxuICAgICAqICAgICAgd2hlbiBvbmUgb2YgdGhlIG9ic2VydmVkIGVsZW1lbnRzIGNoYW5nZXMgaXQncyBjb250ZW50IGRpbWVuc2lvbnMuXHJcbiAgICAgKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn0gY29udHJvbGxlciAtIENvbnRyb2xsZXIgaW5zdGFuY2Ugd2hpY2hcclxuICAgICAqICAgICAgaXMgcmVzcG9uc2libGUgZm9yIHRoZSB1cGRhdGVzIG9mIG9ic2VydmVyLlxyXG4gICAgICogQHBhcmFtIHtSZXNpemVPYnNlcnZlcn0gY2FsbGJhY2tDdHggLSBSZWZlcmVuY2UgdG8gdGhlIHB1YmxpY1xyXG4gICAgICogICAgICBSZXNpemVPYnNlcnZlciBpbnN0YW5jZSB3aGljaCB3aWxsIGJlIHBhc3NlZCB0byBjYWxsYmFjayBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJTUEkoY2FsbGJhY2ssIGNvbnRyb2xsZXIsIGNhbGxiYWNrQ3R4KSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiByZXNpemUgb2JzZXJ2YXRpb25zIHRoYXQgaGF2ZSBkZXRlY3RlZCBjaGFuZ2VzIGluIGRpbWVuc2lvbnNcclxuICAgICAgICAgKiBvZiBlbGVtZW50cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtBcnJheTxSZXNpemVPYnNlcnZhdGlvbj59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVnaXN0cnkgb2YgdGhlIFJlc2l6ZU9ic2VydmF0aW9uIGluc3RhbmNlcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtNYXA8RWxlbWVudCwgUmVzaXplT2JzZXJ2YXRpb24+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb25zXyA9IG5ldyBNYXBTaGltKCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2FsbGJhY2sgcHJvdmlkZWQgYXMgcGFyYW1ldGVyIDEgaXMgbm90IGEgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tfID0gY2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyXyA9IGNvbnRyb2xsZXI7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja0N0eF8gPSBjYWxsYmFja0N0eDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIG9ic2VydmluZyBwcm92aWRlZCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBvYnNlcnZlZC5cclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIHRoZSBFbGVtZW50IGludGVyZmFjZS5cclxuICAgICAgICBpZiAodHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICEoRWxlbWVudCBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLkVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlIFwiRWxlbWVudFwiLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2JzZXJ2YXRpb25zID0gdGhpcy5vYnNlcnZhdGlvbnNfO1xyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgZWxlbWVudCBpcyBhbHJlYWR5IGJlaW5nIG9ic2VydmVkLlxyXG4gICAgICAgIGlmIChvYnNlcnZhdGlvbnMuaGFzKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYnNlcnZhdGlvbnMuc2V0KHRhcmdldCwgbmV3IFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCkpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlcl8uYWRkT2JzZXJ2ZXIodGhpcyk7XHJcbiAgICAgICAgLy8gRm9yY2UgdGhlIHVwZGF0ZSBvZiBvYnNlcnZhdGlvbnMuXHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyXy5yZWZyZXNoKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyBvYnNlcnZpbmcgcHJvdmlkZWQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gc3RvcCBvYnNlcnZpbmcuXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xyXG4gICAgUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEbyBub3RoaW5nIGlmIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIHRoZSBFbGVtZW50IGludGVyZmFjZS5cclxuICAgICAgICBpZiAodHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICEoRWxlbWVudCBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLkVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlIFwiRWxlbWVudFwiLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2JzZXJ2YXRpb25zID0gdGhpcy5vYnNlcnZhdGlvbnNfO1xyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgZWxlbWVudCBpcyBub3QgYmVpbmcgb2JzZXJ2ZWQuXHJcbiAgICAgICAgaWYgKCFvYnNlcnZhdGlvbnMuaGFzKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYnNlcnZhdGlvbnMuZGVsZXRlKHRhcmdldCk7XHJcbiAgICAgICAgaWYgKCFvYnNlcnZhdGlvbnMuc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJfLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIG9ic2VydmluZyBhbGwgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcclxuICAgICAgICB0aGlzLm9ic2VydmF0aW9uc18uY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJfLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29sbGVjdHMgb2JzZXJ2YXRpb24gaW5zdGFuY2VzIHRoZSBhc3NvY2lhdGVkIGVsZW1lbnQgb2Ygd2hpY2ggaGFzIGNoYW5nZWRcclxuICAgICAqIGl0J3MgY29udGVudCByZWN0YW5nbGUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5nYXRoZXJBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmNsZWFyQWN0aXZlKCk7XHJcbiAgICAgICAgdGhpcy5vYnNlcnZhdGlvbnNfLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChvYnNlcnZhdGlvbi5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLnB1c2gob2JzZXJ2YXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VzIGluaXRpYWwgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBhIGxpc3Qgb2YgUmVzaXplT2JzZXJ2ZXJFbnRyeVxyXG4gICAgICogaW5zdGFuY2VzIGNvbGxlY3RlZCBmcm9tIGFjdGl2ZSByZXNpemUgb2JzZXJ2YXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuYnJvYWRjYXN0QWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIERvIG5vdGhpbmcgaWYgb2JzZXJ2ZXIgZG9lc24ndCBoYXZlIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN0eCA9IHRoaXMuY2FsbGJhY2tDdHhfO1xyXG4gICAgICAgIC8vIENyZWF0ZSBSZXNpemVPYnNlcnZlckVudHJ5IGluc3RhbmNlIGZvciBldmVyeSBhY3RpdmUgb2JzZXJ2YXRpb24uXHJcbiAgICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ubWFwKGZ1bmN0aW9uIChvYnNlcnZhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob2JzZXJ2YXRpb24udGFyZ2V0LCBvYnNlcnZhdGlvbi5icm9hZGNhc3RSZWN0KCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tfLmNhbGwoY3R4LCBlbnRyaWVzLCBjdHgpO1xyXG4gICAgICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgY29sbGVjdGlvbiBvZiBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXHJcbiAgICBSZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuY2xlYXJBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLnNwbGljZSgwKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRlbGxzIHdoZXRoZXIgb2JzZXJ2ZXIgaGFzIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIFJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5oYXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5sZW5ndGggPiAwO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlclNQSTtcclxufSgpKTtcblxuLy8gUmVnaXN0cnkgb2YgaW50ZXJuYWwgb2JzZXJ2ZXJzLiBJZiBXZWFrTWFwIGlzIG5vdCBhdmFpbGFibGUgdXNlIGN1cnJlbnQgc2hpbVxyXG4vLyBmb3IgdGhlIE1hcCBjb2xsZWN0aW9uIGFzIGl0IGhhcyBhbGwgcmVxdWlyZWQgbWV0aG9kcyBhbmQgYmVjYXVzZSBXZWFrTWFwXHJcbi8vIGNhbid0IGJlIGZ1bGx5IHBvbHlmaWxsZWQgYW55d2F5LlxyXG52YXIgb2JzZXJ2ZXJzID0gdHlwZW9mIFdlYWtNYXAgIT09ICd1bmRlZmluZWQnID8gbmV3IFdlYWtNYXAoKSA6IG5ldyBNYXBTaGltKCk7XHJcbi8qKlxyXG4gKiBSZXNpemVPYnNlcnZlciBBUEkuIEVuY2Fwc3VsYXRlcyB0aGUgUmVzaXplT2JzZXJ2ZXIgU1BJIGltcGxlbWVudGF0aW9uXHJcbiAqIGV4cG9zaW5nIG9ubHkgdGhvc2UgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoZSBzcGVjLlxyXG4gKi9cclxudmFyIFJlc2l6ZU9ic2VydmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFJlc2l6ZU9ic2VydmVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGludm9rZWQgd2hlblxyXG4gICAgICogICAgICBkaW1lbnNpb25zIG9mIHRoZSBvYnNlcnZlZCBlbGVtZW50cyBjaGFuZ2UuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlc2l6ZU9ic2VydmVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb250cm9sbGVyID0gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyU1BJKGNhbGxiYWNrLCBjb250cm9sbGVyLCB0aGlzKTtcclxuICAgICAgICBvYnNlcnZlcnMuc2V0KHRoaXMsIG9ic2VydmVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlcjtcclxufSgpKTtcclxuLy8gRXhwb3NlIHB1YmxpYyBtZXRob2RzIG9mIFJlc2l6ZU9ic2VydmVyLlxyXG5bXHJcbiAgICAnb2JzZXJ2ZScsXHJcbiAgICAndW5vYnNlcnZlJyxcclxuICAgICdkaXNjb25uZWN0J1xyXG5dLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xyXG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiAoX2EgPSBvYnNlcnZlcnMuZ2V0KHRoaXMpKVttZXRob2RdLmFwcGx5KF9hLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxufSk7XG5cbnZhciBpbmRleCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBFeHBvcnQgZXhpc3RpbmcgaW1wbGVtZW50YXRpb24gaWYgYXZhaWxhYmxlLlxyXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwkMS5SZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gZ2xvYmFsJDEuUmVzaXplT2JzZXJ2ZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XHJcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuIiwiLyohIGpxdWVyeS50YWJsZWRuZC5qcyAyMC0xMS0yMDIwICovXG4hZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9XCJ0b3VjaHN0YXJ0IG1vdXNlZG93blwiLGY9XCJ0b3VjaG1vdmUgbW91c2Vtb3ZlXCIsZz1cInRvdWNoZW5kIG1vdXNldXBcIjthKGMpLnJlYWR5KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9e30sYz1hLm1hdGNoKC8oW147Ol0rKS9nKXx8W107Yy5sZW5ndGg7KWJbYy5zaGlmdCgpXT1jLnNoaWZ0KCkudHJpbSgpO3JldHVybiBifWEoXCJ0YWJsZVwiKS5lYWNoKGZ1bmN0aW9uKCl7XCJkbmRcIj09PWEodGhpcykuZGF0YShcInRhYmxlXCIpJiZhKHRoaXMpLnRhYmxlRG5EKHtvbkRyYWdTdHlsZTphKHRoaXMpLmRhdGEoXCJvbmRyYWdzdHlsZVwiKSYmYihhKHRoaXMpLmRhdGEoXCJvbmRyYWdzdHlsZVwiKSl8fG51bGwsb25Ecm9wU3R5bGU6YSh0aGlzKS5kYXRhKFwib25kcm9wc3R5bGVcIikmJmIoYSh0aGlzKS5kYXRhKFwib25kcm9wc3R5bGVcIikpfHxudWxsLG9uRHJhZ0NsYXNzOmEodGhpcykuZGF0YShcIm9uZHJhZ2NsYXNzXCIpPT09ZCYmXCJ0RG5EX3doaWxlRHJhZ1wifHxhKHRoaXMpLmRhdGEoXCJvbmRyYWdjbGFzc1wiKSxvbkRyb3A6YSh0aGlzKS5kYXRhKFwib25kcm9wXCIpJiZuZXcgRnVuY3Rpb24oXCJ0YWJsZVwiLFwicm93XCIsYSh0aGlzKS5kYXRhKFwib25kcm9wXCIpKSxvbkRyYWdTdGFydDphKHRoaXMpLmRhdGEoXCJvbmRyYWdzdGFydFwiKSYmbmV3IEZ1bmN0aW9uKFwidGFibGVcIixcInJvd1wiLGEodGhpcykuZGF0YShcIm9uZHJhZ3N0YXJ0XCIpKSxvbkRyYWdTdG9wOmEodGhpcykuZGF0YShcIm9uZHJhZ3N0b3BcIikmJm5ldyBGdW5jdGlvbihcInRhYmxlXCIsXCJyb3dcIixhKHRoaXMpLmRhdGEoXCJvbmRyYWdzdG9wXCIpKSxzY3JvbGxBbW91bnQ6YSh0aGlzKS5kYXRhKFwic2Nyb2xsYW1vdW50XCIpfHw1LHNlbnNpdGl2aXR5OmEodGhpcykuZGF0YShcInNlbnNpdGl2aXR5XCIpfHwxMCxoaWVyYXJjaHlMZXZlbDphKHRoaXMpLmRhdGEoXCJoaWVyYXJjaHlsZXZlbFwiKXx8MCxpbmRlbnRBcnRpZmFjdDphKHRoaXMpLmRhdGEoXCJpbmRlbnRhcnRpZmFjdFwiKXx8JzxkaXYgY2xhc3M9XCJpbmRlbnRcIj4mbmJzcDs8L2Rpdj4nLGF1dG9XaWR0aEFkanVzdDphKHRoaXMpLmRhdGEoXCJhdXRvd2lkdGhhZGp1c3RcIil8fCEwLGF1dG9DbGVhblJlbGF0aW9uczphKHRoaXMpLmRhdGEoXCJhdXRvY2xlYW5yZWxhdGlvbnNcIil8fCEwLGpzb25QcmV0aWZ5U2VwYXJhdG9yOmEodGhpcykuZGF0YShcImpzb25wcmV0aWZ5c2VwYXJhdG9yXCIpfHxcIlxcdFwiLHNlcmlhbGl6ZVJlZ2V4cDphKHRoaXMpLmRhdGEoXCJzZXJpYWxpemVyZWdleHBcIikmJm5ldyBSZWdFeHAoYSh0aGlzKS5kYXRhKFwic2VyaWFsaXplcmVnZXhwXCIpKXx8L1teXFwtXSokLyxzZXJpYWxpemVQYXJhbU5hbWU6YSh0aGlzKS5kYXRhKFwic2VyaWFsaXplcGFyYW1uYW1lXCIpfHwhMSxkcmFnSGFuZGxlOmEodGhpcykuZGF0YShcImRyYWdoYW5kbGVcIil8fG51bGx9KX0pfSksalF1ZXJ5LnRhYmxlRG5EPXtjdXJyZW50VGFibGU6bnVsbCxkcmFnT2JqZWN0Om51bGwsbW91c2VPZmZzZXQ6bnVsbCxvbGRYOjAsb2xkWTowLGJ1aWxkOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnRhYmxlRG5EQ29uZmlnPWEuZXh0ZW5kKHtvbkRyYWdTdHlsZTpudWxsLG9uRHJvcFN0eWxlOm51bGwsb25EcmFnQ2xhc3M6XCJ0RG5EX3doaWxlRHJhZ1wiLG9uRHJvcDpudWxsLG9uRHJhZ1N0YXJ0Om51bGwsb25EcmFnU3RvcDpudWxsLHNjcm9sbEFtb3VudDo1LHNlbnNpdGl2aXR5OjEwLGhpZXJhcmNoeUxldmVsOjAsaW5kZW50QXJ0aWZhY3Q6JzxkaXYgY2xhc3M9XCJpbmRlbnRcIj4mbmJzcDs8L2Rpdj4nLGF1dG9XaWR0aEFkanVzdDohMCxhdXRvQ2xlYW5SZWxhdGlvbnM6ITAsanNvblByZXRpZnlTZXBhcmF0b3I6XCJcXHRcIixzZXJpYWxpemVSZWdleHA6L1teXFwtXSokLyxzZXJpYWxpemVQYXJhbU5hbWU6ITEsZHJhZ0hhbmRsZTpudWxsfSxifHx7fSksYS50YWJsZURuRC5tYWtlRHJhZ2dhYmxlKHRoaXMpLHRoaXMudGFibGVEbkRDb25maWcuaGllcmFyY2h5TGV2ZWwmJmEudGFibGVEbkQubWFrZUluZGVudGVkKHRoaXMpfSksdGhpc30sbWFrZUluZGVudGVkOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLnRhYmxlRG5EQ29uZmlnLGY9Yi5yb3dzLGc9YShmKS5maXJzdCgpLmZpbmQoXCJ0ZDpmaXJzdFwiKVswXSxoPTAsaT0wO2lmKGEoYikuaGFzQ2xhc3MoXCJpbmR0ZFwiKSlyZXR1cm4gbnVsbDtkPWEoYikuYWRkQ2xhc3MoXCJpbmR0ZFwiKS5hdHRyKFwic3R5bGVcIiksYShiKS5jc3Moe3doaXRlU3BhY2U6XCJub3dyYXBcIn0pO2Zvcih2YXIgaj0wO2o8Zi5sZW5ndGg7aisrKWk8YShmW2pdKS5maW5kKFwidGQ6Zmlyc3RcIikudGV4dCgpLmxlbmd0aCYmKGk9YShmW2pdKS5maW5kKFwidGQ6Zmlyc3RcIikudGV4dCgpLmxlbmd0aCxjPWopO2ZvcihhKGcpLmNzcyh7d2lkdGg6XCJhdXRvXCJ9KSxqPTA7ajxlLmhpZXJhcmNoeUxldmVsO2orKylhKGZbY10pLmZpbmQoXCJ0ZDpmaXJzdFwiKS5wcmVwZW5kKGUuaW5kZW50QXJ0aWZhY3QpO2ZvcihnJiZhKGcpLmNzcyh7d2lkdGg6Zy5vZmZzZXRXaWR0aH0pLGQmJmEoYikuY3NzKGQpLGo9MDtqPGUuaGllcmFyY2h5TGV2ZWw7aisrKWEoZltjXSkuZmluZChcInRkOmZpcnN0XCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLnJlbW92ZSgpO3JldHVybiBlLmhpZXJhcmNoeUxldmVsJiZhKGYpLmVhY2goZnVuY3Rpb24oKXsoaD1hKHRoaXMpLmRhdGEoXCJsZXZlbFwiKXx8MCk8PWUuaGllcmFyY2h5TGV2ZWwmJmEodGhpcykuZGF0YShcImxldmVsXCIsaCl8fGEodGhpcykuZGF0YShcImxldmVsXCIsMCk7Zm9yKHZhciBiPTA7YjxhKHRoaXMpLmRhdGEoXCJsZXZlbFwiKTtiKyspYSh0aGlzKS5maW5kKFwidGQ6Zmlyc3RcIikucHJlcGVuZChlLmluZGVudEFydGlmYWN0KX0pLHRoaXN9LG1ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oYil7dmFyIGM9Yi50YWJsZURuRENvbmZpZztjLmRyYWdIYW5kbGUmJmEoYy5kcmFnSGFuZGxlLGIpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoZSxmdW5jdGlvbihkKXtyZXR1cm4gYS50YWJsZURuRC5pbml0aWFsaXNlRHJhZyhhKHRoaXMpLnBhcmVudHMoXCJ0clwiKVswXSxiLHRoaXMsZCxjKSwhMX0pfSl8fGEoYi5yb3dzKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5oYXNDbGFzcyhcIm5vZHJhZ1wiKT9hKHRoaXMpLmNzcyhcImN1cnNvclwiLFwiXCIpOmEodGhpcykuYmluZChlLGZ1bmN0aW9uKGQpe2lmKFwiVERcIj09PWQudGFyZ2V0LnRhZ05hbWUpcmV0dXJuIGEudGFibGVEbkQuaW5pdGlhbGlzZURyYWcodGhpcyxiLHRoaXMsZCxjKSwhMX0pLmNzcyhcImN1cnNvclwiLFwibW92ZVwiKX0pfSxjdXJyZW50T3JkZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmN1cnJlbnRUYWJsZS5yb3dzO3JldHVybiBhLm1hcChiLGZ1bmN0aW9uKGIpe3JldHVybihhKGIpLmRhdGEoXCJsZXZlbFwiKStiLmlkKS5yZXBsYWNlKC9cXHMvZyxcIlwiKX0pLmpvaW4oXCJcIil9LGluaXRpYWxpc2VEcmFnOmZ1bmN0aW9uKGIsZCxlLGgsaSl7dGhpcy5kcmFnT2JqZWN0PWIsdGhpcy5jdXJyZW50VGFibGU9ZCx0aGlzLm1vdXNlT2Zmc2V0PXRoaXMuZ2V0TW91c2VPZmZzZXQoZSxoKSx0aGlzLm9yaWdpbmFsT3JkZXI9dGhpcy5jdXJyZW50T3JkZXIoKSxhKGMpLmJpbmQoZix0aGlzLm1vdXNlbW92ZSkuYmluZChnLHRoaXMubW91c2V1cCksaS5vbkRyYWdTdGFydCYmaS5vbkRyYWdTdGFydChkLGUpfSx1cGRhdGVUYWJsZXM6ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnRhYmxlRG5EQ29uZmlnJiZhLnRhYmxlRG5ELm1ha2VEcmFnZ2FibGUodGhpcyl9KX0sbW91c2VDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcz97eDphLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCx5OmEub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZfTphLnBhZ2VYfHxhLnBhZ2VZP3t4OmEucGFnZVgseTphLnBhZ2VZfTp7eDphLmNsaWVudFgrYy5ib2R5LnNjcm9sbExlZnQtYy5ib2R5LmNsaWVudExlZnQseTphLmNsaWVudFkrYy5ib2R5LnNjcm9sbFRvcC1jLmJvZHkuY2xpZW50VG9wfX0sZ2V0TW91c2VPZmZzZXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlO3JldHVybiBjPWN8fGIuZXZlbnQsZT10aGlzLmdldFBvc2l0aW9uKGEpLGQ9dGhpcy5tb3VzZUNvb3JkcyhjKSx7eDpkLngtZS54LHk6ZC55LWUueX19LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9MDthLm9mZnNldFBhcmVudDspYis9YS5vZmZzZXRMZWZ0LGMrPWEub2Zmc2V0VG9wLGE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGIrPWEub2Zmc2V0TGVmdCxjKz1hLm9mZnNldFRvcCx7eDpiLHk6Y319LGF1dG9TY3JvbGw6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5jdXJyZW50VGFibGUudGFibGVEbkRDb25maWcsZT1iLnBhZ2VZT2Zmc2V0LGY9Yi5pbm5lckhlaWdodD9iLmlubmVySGVpZ2h0OmMuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodD9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6Yy5ib2R5LmNsaWVudEhlaWdodDtjLmFsbCYmKHZvaWQgMCE9PWMuY29tcGF0TW9kZSYmXCJCYWNrQ29tcGF0XCIhPT1jLmNvbXBhdE1vZGU/ZT1jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A6dm9pZCAwIT09Yy5ib2R5JiYoZT1jLmJvZHkuc2Nyb2xsVG9wKSksYS55LWU8ZC5zY3JvbGxBbW91bnQmJmIuc2Nyb2xsQnkoMCwtZC5zY3JvbGxBbW91bnQpfHxmLShhLnktZSk8ZC5zY3JvbGxBbW91bnQmJmIuc2Nyb2xsQnkoMCxkLnNjcm9sbEFtb3VudCl9LG1vdmVWZXJ0aWNsZTpmdW5jdGlvbihhLGIpezAhPT1hLnZlcnRpY2FsJiZiJiZ0aGlzLmRyYWdPYmplY3QhPT1iJiZ0aGlzLmRyYWdPYmplY3QucGFyZW50Tm9kZT09PWIucGFyZW50Tm9kZSYmKDA+YS52ZXJ0aWNhbCYmdGhpcy5kcmFnT2JqZWN0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuZHJhZ09iamVjdCxiLm5leHRTaWJsaW5nKXx8MDxhLnZlcnRpY2FsJiZ0aGlzLmRyYWdPYmplY3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5kcmFnT2JqZWN0LGIpKX0sbW92ZUhvcml6b250YWw6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXRoaXMuY3VycmVudFRhYmxlLnRhYmxlRG5EQ29uZmlnO2lmKCFlLmhpZXJhcmNoeUxldmVsfHwwPT09Yi5ob3Jpem9udGFsfHwhY3x8dGhpcy5kcmFnT2JqZWN0IT09YylyZXR1cm4gbnVsbDtkPWEoYykuZGF0YShcImxldmVsXCIpLDA8Yi5ob3Jpem9udGFsJiZkPjAmJmEoYykuZmluZChcInRkOmZpcnN0XCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLnJlbW92ZSgpJiZhKGMpLmRhdGEoXCJsZXZlbFwiLC0tZCksMD5iLmhvcml6b250YWwmJmQ8ZS5oaWVyYXJjaHlMZXZlbCYmYShjKS5wcmV2KCkuZGF0YShcImxldmVsXCIpPj1kJiZhKGMpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLnByZXBlbmQoZS5pbmRlbnRBcnRpZmFjdCkmJmEoYykuZGF0YShcImxldmVsXCIsKytkKX0sbW91c2Vtb3ZlOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaD1hKGEudGFibGVEbkQuZHJhZ09iamVjdCksaT1hLnRhYmxlRG5ELmN1cnJlbnRUYWJsZS50YWJsZURuRENvbmZpZztyZXR1cm4gYiYmYi5wcmV2ZW50RGVmYXVsdCgpLCEhYS50YWJsZURuRC5kcmFnT2JqZWN0JiYoXCJ0b3VjaG1vdmVcIj09PWIudHlwZSYmZXZlbnQucHJldmVudERlZmF1bHQoKSxpLm9uRHJhZ0NsYXNzJiZoLmFkZENsYXNzKGkub25EcmFnQ2xhc3MpfHxoLmNzcyhpLm9uRHJhZ1N0eWxlKSxkPWEudGFibGVEbkQubW91c2VDb29yZHMoYiksZj1kLngtYS50YWJsZURuRC5tb3VzZU9mZnNldC54LGc9ZC55LWEudGFibGVEbkQubW91c2VPZmZzZXQueSxhLnRhYmxlRG5ELmF1dG9TY3JvbGwoZCksYz1hLnRhYmxlRG5ELmZpbmREcm9wVGFyZ2V0Um93KGgsZyksZT1hLnRhYmxlRG5ELmZpbmREcmFnRGlyZWN0aW9uKGYsZyksYS50YWJsZURuRC5tb3ZlVmVydGljbGUoZSxjKSxhLnRhYmxlRG5ELm1vdmVIb3Jpem9udGFsKGUsYyksITEpfSxmaW5kRHJhZ0RpcmVjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3VycmVudFRhYmxlLnRhYmxlRG5EQ29uZmlnLnNlbnNpdGl2aXR5LGQ9dGhpcy5vbGRYLGU9dGhpcy5vbGRZLGY9ZC1jLGc9ZCtjLGg9ZS1jLGk9ZStjLGo9e2hvcml6b250YWw6YT49ZiYmYTw9Zz8wOmE+ZD8tMToxLHZlcnRpY2FsOmI+PWgmJmI8PWk/MDpiPmU/LTE6MX07cmV0dXJuIDAhPT1qLmhvcml6b250YWwmJih0aGlzLm9sZFg9YSksMCE9PWoudmVydGljYWwmJih0aGlzLm9sZFk9Yiksan0sZmluZERyb3BUYXJnZXRSb3c6ZnVuY3Rpb24oYixjKXtmb3IodmFyIGQ9MCxlPXRoaXMuY3VycmVudFRhYmxlLnJvd3MsZj10aGlzLmN1cnJlbnRUYWJsZS50YWJsZURuRENvbmZpZyxnPTAsaD1udWxsLGk9MDtpPGUubGVuZ3RoO2krKylpZihoPWVbaV0sZz10aGlzLmdldFBvc2l0aW9uKGgpLnksZD1wYXJzZUludChoLm9mZnNldEhlaWdodCkvMiwwPT09aC5vZmZzZXRIZWlnaHQmJihnPXRoaXMuZ2V0UG9zaXRpb24oaC5maXJzdENoaWxkKS55LGQ9cGFyc2VJbnQoaC5maXJzdENoaWxkLm9mZnNldEhlaWdodCkvMiksYz5nLWQmJmM8ZytkKXJldHVybiBiLmlzKGgpfHxmLm9uQWxsb3dEcm9wJiYhZi5vbkFsbG93RHJvcChiLGgpfHxhKGgpLmhhc0NsYXNzKFwibm9kcm9wXCIpP251bGw6aDtyZXR1cm4gbnVsbH0scHJvY2Vzc01vdXNldXA6ZnVuY3Rpb24oKXtpZighdGhpcy5jdXJyZW50VGFibGV8fCF0aGlzLmRyYWdPYmplY3QpcmV0dXJuIG51bGw7dmFyIGI9dGhpcy5jdXJyZW50VGFibGUudGFibGVEbkRDb25maWcsZD10aGlzLmRyYWdPYmplY3QsZT0wLGg9MDthKGMpLnVuYmluZChmLHRoaXMubW91c2Vtb3ZlKS51bmJpbmQoZyx0aGlzLm1vdXNldXApLGIuaGllcmFyY2h5TGV2ZWwmJmIuYXV0b0NsZWFuUmVsYXRpb25zJiZhKHRoaXMuY3VycmVudFRhYmxlLnJvd3MpLmZpcnN0KCkuZmluZChcInRkOmZpcnN0XCIpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpeyhoPWEodGhpcykucGFyZW50cyhcInRyOmZpcnN0XCIpLmRhdGEoXCJsZXZlbFwiKSkmJmEodGhpcykucGFyZW50cyhcInRyOmZpcnN0XCIpLmRhdGEoXCJsZXZlbFwiLC0taCkmJmEodGhpcykucmVtb3ZlKCl9KSYmYi5oaWVyYXJjaHlMZXZlbD4xJiZhKHRoaXMuY3VycmVudFRhYmxlLnJvd3MpLmVhY2goZnVuY3Rpb24oKXtpZigoaD1hKHRoaXMpLmRhdGEoXCJsZXZlbFwiKSk+MSlmb3IoZT1hKHRoaXMpLnByZXYoKS5kYXRhKFwibGV2ZWxcIik7aD5lKzE7KWEodGhpcykuZmluZChcInRkOmZpcnN0XCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLnJlbW92ZSgpLGEodGhpcykuZGF0YShcImxldmVsXCIsLS1oKX0pLGIub25EcmFnQ2xhc3MmJmEoZCkucmVtb3ZlQ2xhc3MoYi5vbkRyYWdDbGFzcyl8fGEoZCkuY3NzKGIub25Ecm9wU3R5bGUpLHRoaXMuZHJhZ09iamVjdD1udWxsLGIub25Ecm9wJiZ0aGlzLm9yaWdpbmFsT3JkZXIhPT10aGlzLmN1cnJlbnRPcmRlcigpJiZhKGQpLmhpZGUoKS5mYWRlSW4oXCJmYXN0XCIpJiZiLm9uRHJvcCh0aGlzLmN1cnJlbnRUYWJsZSxkKSxiLm9uRHJhZ1N0b3AmJmIub25EcmFnU3RvcCh0aGlzLmN1cnJlbnRUYWJsZSxkKSx0aGlzLmN1cnJlbnRUYWJsZT1udWxsfSxtb3VzZXVwOmZ1bmN0aW9uKGIpe3JldHVybiBiJiZiLnByZXZlbnREZWZhdWx0KCksYS50YWJsZURuRC5wcm9jZXNzTW91c2V1cCgpLCExfSxqc29uaXplOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3VycmVudFRhYmxlO3JldHVybiBhP0pTT04uc3RyaW5naWZ5KHRoaXMudGFibGVEYXRhKGIpLG51bGwsYi50YWJsZURuRENvbmZpZy5qc29uUHJldGlmeVNlcGFyYXRvcik6SlNPTi5zdHJpbmdpZnkodGhpcy50YWJsZURhdGEoYikpfSxzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5wYXJhbSh0aGlzLnRhYmxlRGF0YSh0aGlzLmN1cnJlbnRUYWJsZSkpfSxzZXJpYWxpemVUYWJsZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9XCJcIixjPWEudGFibGVEbkRDb25maWcuc2VyaWFsaXplUGFyYW1OYW1lfHxhLmlkLGQ9YS5yb3dzLGU9MDtlPGQubGVuZ3RoO2UrKyl7Yi5sZW5ndGg+MCYmKGIrPVwiJlwiKTt2YXIgZj1kW2VdLmlkO2YmJmEudGFibGVEbkRDb25maWcmJmEudGFibGVEbkRDb25maWcuc2VyaWFsaXplUmVnZXhwJiYoZj1mLm1hdGNoKGEudGFibGVEbkRDb25maWcuc2VyaWFsaXplUmVnZXhwKVswXSxiKz1jK1wiW109XCIrZil9cmV0dXJuIGJ9LHNlcmlhbGl6ZVRhYmxlczpmdW5jdGlvbigpe3ZhciBiPVtdO3JldHVybiBhKFwidGFibGVcIikuZWFjaChmdW5jdGlvbigpe3RoaXMuaWQmJmIucHVzaChhLnBhcmFtKGEudGFibGVEbkQudGFibGVEYXRhKHRoaXMpKSl9KSxiLmpvaW4oXCImXCIpfSx0YWJsZURhdGE6ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZz1iLnRhYmxlRG5EQ29uZmlnLGg9W10saT0wLGo9MCxrPW51bGwsbD17fTtpZihifHwoYj10aGlzLmN1cnJlbnRUYWJsZSksIWJ8fCFiLnJvd3N8fCFiLnJvd3MubGVuZ3RoKXJldHVybntlcnJvcjp7Y29kZTo1MDAsbWVzc2FnZTpcIk5vdCBhIHZhbGlkIHRhYmxlLlwifX07aWYoIWIuaWQmJiFnLnNlcmlhbGl6ZVBhcmFtTmFtZSlyZXR1cm57ZXJyb3I6e2NvZGU6NTAwLG1lc3NhZ2U6XCJObyBzZXJpYWxpemFibGUgdW5pcXVlIGlkIHByb3ZpZGVkLlwifX07Zj1nLmF1dG9DbGVhblJlbGF0aW9ucyYmYi5yb3dzfHxhLm1ha2VBcnJheShiLnJvd3MpLGQ9Zy5zZXJpYWxpemVQYXJhbU5hbWV8fGIuaWQsZT1kLGM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmcmJmcuc2VyaWFsaXplUmVnZXhwP2EubWF0Y2goZy5zZXJpYWxpemVSZWdleHApWzBdOmF9LGxbZV09W10sIWcuYXV0b0NsZWFuUmVsYXRpb25zJiZhKGZbMF0pLmRhdGEoXCJsZXZlbFwiKSYmZi51bnNoaWZ0KHtpZDpcInVuZGVmaW5lZFwifSk7Zm9yKHZhciBtPTA7bTxmLmxlbmd0aDttKyspaWYoZy5oaWVyYXJjaHlMZXZlbCl7aWYoMD09PShqPWEoZlttXSkuZGF0YShcImxldmVsXCIpfHwwKSllPWQsaD1bXTtlbHNlIGlmKGo+aSloLnB1c2goW2UsaV0pLGU9YyhmW20tMV0uaWQpO2Vsc2UgaWYoajxpKWZvcih2YXIgbj0wO248aC5sZW5ndGg7bisrKWhbbl1bMV09PT1qJiYoZT1oW25dWzBdKSxoW25dWzFdPj1pJiYoaFtuXVsxXT0wKTtpPWosYS5pc0FycmF5KGxbZV0pfHwobFtlXT1bXSksaz1jKGZbbV0uaWQpLGsmJmxbZV0ucHVzaChrKX1lbHNlKGs9YyhmW21dLmlkKSkmJmxbZV0ucHVzaChrKTtyZXR1cm4gbH19LGpRdWVyeS5mbi5leHRlbmQoe3RhYmxlRG5EOmEudGFibGVEbkQuYnVpbGQsdGFibGVEbkRVcGRhdGU6YS50YWJsZURuRC51cGRhdGVUYWJsZXMsdGFibGVEbkRTZXJpYWxpemU6YS5wcm94eShhLnRhYmxlRG5ELnNlcmlhbGl6ZSxhLnRhYmxlRG5EKSx0YWJsZURuRFNlcmlhbGl6ZUFsbDphLnRhYmxlRG5ELnNlcmlhbGl6ZVRhYmxlcyx0YWJsZURuRERhdGE6YS5wcm94eShhLnRhYmxlRG5ELnRhYmxlRGF0YSxhLnRhYmxlRG5EKX0pfShqUXVlcnksd2luZG93LHdpbmRvdy5kb2N1bWVudCk7IiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGJ1bGtzOiB7XG4gICAgICAgIGRlbGV0ZUNhdGVnb3JpZXM6ICcuanMtZGVsZXRlLWNhdGVnb3JpZXMtYnVsay1hY3Rpb24nLFxuICAgICAgICBkZWxldGVDYXRlZ29yaWVzTW9kYWw6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIjXCIuY29uY2F0KGlkLCBcIl9ncmlkX2RlbGV0ZV9jYXRlZ29yaWVzX21vZGFsXCIpOyB9LFxuICAgICAgICBjaGVja2VkQ2hlY2tib3g6ICcuanMtYnVsay1hY3Rpb24tY2hlY2tib3g6Y2hlY2tlZCcsXG4gICAgICAgIGRlbGV0ZUN1c3RvbWVyczogJy5qcy1kZWxldGUtY3VzdG9tZXJzLWJ1bGstYWN0aW9uJyxcbiAgICAgICAgZGVsZXRlQ3VzdG9tZXJNb2RhbDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIiNcIi5jb25jYXQoaWQsIFwiX2dyaWRfZGVsZXRlX2N1c3RvbWVyc19tb2RhbFwiKTsgfSxcbiAgICAgICAgc3VibWl0RGVsZXRlQ2F0ZWdvcmllczogJy5qcy1zdWJtaXQtZGVsZXRlLWNhdGVnb3JpZXMnLFxuICAgICAgICBzdWJtaXREZWxldGVDdXN0b21lcnM6ICcuanMtc3VibWl0LWRlbGV0ZS1jdXN0b21lcnMnLFxuICAgICAgICBjYXRlZ29yaWVzVG9EZWxldGU6ICcjZGVsZXRlX2NhdGVnb3JpZXNfY2F0ZWdvcmllc190b19kZWxldGUnLFxuICAgICAgICBjdXN0b21lcnNUb0RlbGV0ZTogJyNkZWxldGVfY3VzdG9tZXJzX2N1c3RvbWVyc190b19kZWxldGUnLFxuICAgICAgICBhY3Rpb25TZWxlY3RBbGw6ICcuanMtYnVsay1hY3Rpb24tc2VsZWN0LWFsbCcsXG4gICAgICAgIGJ1bGtBY3Rpb25DaGVja2JveDogJy5qcy1idWxrLWFjdGlvbi1jaGVja2JveCcsXG4gICAgICAgIGJ1bGtBY3Rpb25CdG46ICcuanMtYnVsay1hY3Rpb25zLWJ0bicsXG4gICAgICAgIG9wZW5UYWJzQnRuOiAnLmpzLWJ1bGstYWN0aW9uLWJ0bi5vcGVuX3RhYnMnLFxuICAgICAgICB0YWJsZUNob2ljZU9wdGlvbnM6ICd0YWJsZS50YWJsZSAuanMtY2hvaWNlLW9wdGlvbnMnLFxuICAgICAgICBjaG9pY2VPcHRpb25zOiAnLmpzLWNob2ljZS1vcHRpb25zJyxcbiAgICAgICAgbW9kYWxGb3JtU3VibWl0QnRuOiAnLmpzLWJ1bGstbW9kYWwtZm9ybS1zdWJtaXQtYnRuJyxcbiAgICAgICAgc3VibWl0QWN0aW9uOiAnLmpzLWJ1bGstYWN0aW9uLXN1Ym1pdC1idG4nLFxuICAgICAgICBhamF4QWN0aW9uOiAnLmpzLWJ1bGstYWN0aW9uLWFqYXgtYnRuJyxcbiAgICAgICAgZ3JpZFN1Ym1pdEFjdGlvbjogJy5qcy1ncmlkLWFjdGlvbi1zdWJtaXQtYnRuJyxcbiAgICB9LFxuICAgIHJvd3M6IHtcbiAgICAgICAgY2F0ZWdvcnlEZWxldGVBY3Rpb246ICcuanMtZGVsZXRlLWNhdGVnb3J5LXJvdy1hY3Rpb24nLFxuICAgICAgICBjdXN0b21lckRlbGV0ZUFjdGlvbjogJy5qcy1kZWxldGUtY3VzdG9tZXItcm93LWFjdGlvbicsXG4gICAgICAgIGxpbmtSb3dBY3Rpb246ICcuanMtbGluay1yb3ctYWN0aW9uJyxcbiAgICAgICAgbGlua1Jvd0FjdGlvbkNsaWNrYWJsZUZpcnN0OiAnLmpzLWxpbmstcm93LWFjdGlvbltkYXRhLWNsaWNrYWJsZS1yb3c9MV06Zmlyc3QnLFxuICAgICAgICBjbGlja2FibGVUZDogJ3RkLmNsaWNrYWJsZScsXG4gICAgfSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICAgIHNob3dRdWVyeTogJy5qcy1jb21tb25fc2hvd19xdWVyeS1ncmlkLWFjdGlvbicsXG4gICAgICAgIGV4cG9ydFF1ZXJ5OiAnLmpzLWNvbW1vbl9leHBvcnRfc3FsX21hbmFnZXItZ3JpZC1hY3Rpb24nLFxuICAgICAgICBzaG93TW9kYWxGb3JtOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiLmNvbmNhdChpZCwgXCJfY29tbW9uX3Nob3dfcXVlcnlfbW9kYWxfZm9ybVwiKTsgfSxcbiAgICAgICAgc2hvd01vZGFsR3JpZDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIiNcIi5jb25jYXQoaWQsIFwiX2dyaWRfY29tbW9uX3Nob3dfcXVlcnlfbW9kYWxcIik7IH0sXG4gICAgICAgIG1vZGFsRm9ybVN1Ym1pdEJ0bjogJy5qcy1idWxrLW1vZGFsLWZvcm0tc3VibWl0LWJ0bicsXG4gICAgICAgIHN1Ym1pdE1vZGFsRm9ybUJ0bjogJy5qcy1zdWJtaXQtbW9kYWwtZm9ybS1idG4nLFxuICAgICAgICBidWxrSW5wdXRzQmxvY2s6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIjXCIuY29uY2F0KGlkKTsgfSxcbiAgICAgICAgdG9rZW5JbnB1dDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcImlucHV0W25hbWU9XFxcIlwiLmNvbmNhdChpZCwgXCJbX3Rva2VuXVxcXCJdXCIpOyB9LFxuICAgICAgICBhamF4QnVsa0FjdGlvbkNvbmZpcm1Nb2RhbDogZnVuY3Rpb24gKGlkLCBidWxrQWN0aW9uKSB7IHJldHVybiBcIlwiLmNvbmNhdChpZCwgXCItYWpheC1cIikuY29uY2F0KGJ1bGtBY3Rpb24sIFwiLWNvbmZpcm0tbW9kYWxcIik7IH0sXG4gICAgICAgIGFqYXhCdWxrQWN0aW9uUHJvZ3Jlc3NNb2RhbDogZnVuY3Rpb24gKGlkLCBidWxrQWN0aW9uKSB7IHJldHVybiBcIlwiLmNvbmNhdChpZCwgXCItYWpheC1cIikuY29uY2F0KGJ1bGtBY3Rpb24sIFwiLXByb2dyZXNzLW1vZGFsXCIpOyB9LFxuICAgIH0sXG4gICAgcG9zaXRpb246IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIuanMtXCIuY29uY2F0KGlkLCBcIi1wb3NpdGlvbjpmaXJzdFwiKTsgfSxcbiAgICBjb25maXJtTW9kYWw6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCJcIi5jb25jYXQoaWQsIFwiLWdyaWQtY29uZmlybS1tb2RhbFwiKTsgfSxcbiAgICBncmlkVGFibGU6ICcuanMtZ3JpZC10YWJsZScsXG4gICAgZHJhZ0hhbmRsZXI6ICcuanMtZHJhZy1oYW5kbGUnLFxuICAgIGRyYWdIYW5kbGVyQ2xhc3M6ICdqcy1kcmFnLWhhbmRsZScsXG4gICAgc3BlY2lmaWNHcmlkVGFibGU6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCJcIi5jb25jYXQoaWQsIFwiX2dyaWRfdGFibGVcIik7IH0sXG4gICAgZ3JpZDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIiNcIi5jb25jYXQoaWQsIFwiX2dyaWRcIik7IH0sXG4gICAgZ3JpZFBhbmVsOiAnLmpzLWdyaWQtcGFuZWwnLFxuICAgIGdyaWRIZWFkZXI6ICcuanMtZ3JpZC1oZWFkZXInLFxuICAgIGdyaWRQb3NpdGlvbjogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIi5qcy1cIi5jb25jYXQoaWQsIFwiLXBvc2l0aW9uXCIpOyB9LFxuICAgIGdyaWRUYWJsZVBvc2l0aW9uOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiLmpzLWdyaWQtdGFibGUgLmpzLVwiLmNvbmNhdChpZCwgXCItcG9zaXRpb25cIik7IH0sXG4gICAgZ3JpZFBvc2l0aW9uRmlyc3Q6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIuanMtXCIuY29uY2F0KGlkLCBcIi1wb3NpdGlvbjpmaXJzdFwiKTsgfSxcbiAgICBzZWxlY3RQb3NpdGlvbjogJ2pzLXBvc2l0aW9uJyxcbiAgICB0b2dnbGFibGVSb3c6ICcucHMtdG9nZ2xhYmxlLXJvdycsXG4gICAgZHJvcGRvd25JdGVtOiAnLmpzLWRyb3Bkb3duLWl0ZW0nLFxuICAgIHRhYmxlOiAndGFibGUudGFibGUnLFxuICAgIGhlYWRlclRvb2xiYXI6ICcuaGVhZGVyLXRvb2xiYXInLFxuICAgIGJyZWFkY3J1bWJJdGVtOiAnLmJyZWFkY3J1bWItaXRlbScsXG4gICAgcmVzZXRTZWFyY2g6ICcuanMtcmVzZXQtc2VhcmNoJyxcbiAgICBleHBhbmQ6ICcuanMtZXhwYW5kJyxcbiAgICBjb2xsYXBzZTogJy5qcy1jb2xsYXBzZScsXG4gICAgY29sdW1uRmlsdGVyczogJy5jb2x1bW4tZmlsdGVycycsXG4gICAgZ3JpZFNlYXJjaEJ1dHRvbjogJy5ncmlkLXNlYXJjaC1idXR0b24nLFxuICAgIGdyaWRSZXNldEJ1dHRvbjogJy5ncmlkLXJlc2V0LWJ1dHRvbicsXG4gICAgaW5wdXRBbmRTZWxlY3Q6ICdpbnB1dDpub3QoLmpzLWJ1bGstYWN0aW9uLXNlbGVjdC1hbGwpLCBzZWxlY3QnLFxuICAgIHByZXZpZXdUb2dnbGU6ICcucHJldmlldy10b2dnbGUnLFxuICAgIHByZXZpZXdSb3c6ICcucHJldmlldy1yb3cnLFxuICAgIGdyaWRUYm9keTogJy5ncmlkLXRhYmxlIHRib2R5JyxcbiAgICB0ck5vdFByZXZpZXdSb3c6ICd0cjpub3QoLnByZXZpZXctcm93KScsXG4gICAgY29tbW9uUmVmcmVzaExpc3RBY3Rpb246ICcuanMtY29tbW9uX3JlZnJlc2hfbGlzdC1ncmlkLWFjdGlvbicsXG4gICAgZmlsdGVyRm9ybTogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIiNcIi5jb25jYXQoaWQsIFwiX2ZpbHRlcl9mb3JtXCIpOyB9LFxuICAgIG9uRHJhZ0NsYXNzOiAncG9zaXRpb24tcm93LXdoaWxlLWRyYWcnLFxuICAgIHNxbFN1Ym1pdDogJy5idG4tc3FsLXN1Ym1pdCcsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgR3JpZCBldmVudHNcbiAqL1xudmFyIEdyaWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogR3JpZCBpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JpZChpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoR3JpZE1hcC5ncmlkKHRoaXMuaWQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGdyaWQgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGdyaWQgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fVxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBncmlkIGhlYWRlciBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtqUXVlcnl9XG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuZ2V0SGVhZGVyQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udGFpbmVyLmNsb3Nlc3QoR3JpZE1hcC5ncmlkUGFuZWwpLmZpbmQoR3JpZE1hcC5ncmlkSGVhZGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkIHdpdGggZXh0ZXJuYWwgZXh0ZW5zaW9uc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV4dGVuc2lvblxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmFkZEV4dGVuc2lvbiA9IGZ1bmN0aW9uIChleHRlbnNpb24pIHtcbiAgICAgICAgZXh0ZW5zaW9uLmV4dGVuZCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBHcmlkO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEdyaWQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG4vKipcbiAqIEFzc2VydCB0aGF0IHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcbn1cbi8qKlxuICogQXNzZXJ0IHRoYXQgaW5wdXQgZXhpc3QgaXMgYW4gSFRNTElucHV0RWxlbWVudCBhbmQgaWYgc28gcmV0dXJucyBpdHMgY2hlY2tlZCBzdGF0dXNcbiAqXG4gKiBAcGFyYW0gaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hlY2tlZChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgaW5wdXQuY2hlY2tlZDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbmltcG9ydCBHcmlkTWFwIGZyb20gJ0Bjb21wb25lbnRzL2dyaWQvZ3JpZC1tYXAnO1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdAUFNUeXBlcy90eXBlZ3VhcmQnO1xudmFyICQgPSB3aW5kb3cuJDtcbi8qKlxuICogQ2xhc3MgTGlua1Jvd0FjdGlvbkV4dGVuc2lvbiBoYW5kbGVzIGxpbmsgcm93IGFjdGlvbnNcbiAqL1xudmFyIExpbmtSb3dBY3Rpb25FeHRlbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGlua1Jvd0FjdGlvbkV4dGVuc2lvbihvbkNsaWNrKSB7XG4gICAgICAgIGlmIChvbkNsaWNrID09PSB2b2lkIDApIHsgb25DbGljayA9IHVuZGVmaW5lZDsgfVxuICAgICAgICB0aGlzLm9uQ2xpY2sgPSBvbkNsaWNrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgZ3JpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICovXG4gICAgTGlua1Jvd0FjdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdGhpcy5pbml0Um93TGlua3MoZ3JpZCk7XG4gICAgICAgIHRoaXMuaW5pdENvbmZpcm1hYmxlQWN0aW9ucyhncmlkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5pbml0Q29uZmlybWFibGVBY3Rpb25zID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgZ3JpZC5nZXRDb250YWluZXIoKS5vbignY2xpY2snLCBHcmlkTWFwLnJvd3MubGlua1Jvd0FjdGlvbiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgY29uZmlybU1lc3NhZ2UgPSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2NvbmZpcm0tbWVzc2FnZScpO1xuICAgICAgICAgICAgaWYgKGNvbmZpcm1NZXNzYWdlLmxlbmd0aCAmJiAhd2luZG93LmNvbmZpcm0oY29uZmlybU1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYSBjbGljayBldmVudCBvbiByb3dzIHRoYXQgbWF0Y2hlcyB0aGUgZmlyc3QgbGluayBhY3Rpb24gKGlmIHByZXNlbnQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5pbml0Um93TGlua3MgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgb25DbGlja0NhbGxiYWNrID0gdGhpcy5vbkNsaWNrO1xuICAgICAgICAkKCd0cicsIGdyaWQuZ2V0Q29udGFpbmVyKCkpLmVhY2goZnVuY3Rpb24gaW5pdEVhY2hSb3coKSB7XG4gICAgICAgICAgICB2YXIgJHBhcmVudFJvdyA9ICQodGhpcyk7XG4gICAgICAgICAgICAkKEdyaWRNYXAucm93cy5saW5rUm93QWN0aW9uQ2xpY2thYmxlRmlyc3QsICRwYXJlbnRSb3cpLmVhY2goZnVuY3Rpb24gcHJvcGFnYXRlRmlyc3RMaW5rQWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkcm93QWN0aW9uID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgJHBhcmVudENlbGwgPSAkcm93QWN0aW9uLmNsb3Nlc3QoJ3RkJyk7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrYWJsZUNlbGxzID0gJChHcmlkTWFwLnJvd3MuY2xpY2thYmxlVGQsICRwYXJlbnRSb3cpLm5vdCgkcGFyZW50Q2VsbCk7XG4gICAgICAgICAgICAgICAgdmFyIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbGlja2FibGVDZWxscy5hZGRDbGFzcygnY3Vyc29yLXBvaW50ZXInKS5tb3VzZWRvd24oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykubW91c2Vtb3ZlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnVuYmluZCgnbW91c2Vtb3ZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNsaWNrYWJsZUNlbGxzLm1vdXNldXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2FzRHJhZ2dpbmcgPSBpc0RyYWdnaW5nO1xuICAgICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS51bmJpbmQoJ21vdXNlbW92ZScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdhc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybU1lc3NhZ2UgPSAkcm93QWN0aW9uLmRhdGEoJ2NvbmZpcm0tbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtTWVzc2FnZS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAod2luZG93LmNvbmZpcm0oY29uZmlybU1lc3NhZ2UpICYmICRyb3dBY3Rpb24uYXR0cignaHJlZicpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQob25DbGlja0NhbGxiYWNrKSAmJiAhaXNVbmRlZmluZWQoJHJvd0FjdGlvbi5nZXQoMCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2tDYWxsYmFjaygkcm93QWN0aW9uLmdldCgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gJHJvd0FjdGlvbi5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTGlua1Jvd0FjdGlvbkV4dGVuc2lvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG4vKiBlc2xpbnQgbWF4LWNsYXNzZXMtcGVyLWZpbGU6IFtcImVycm9yXCIsIDJdICovXG5pbXBvcnQgeyBNb2RhbENvbnRhaW5lciwgTW9kYWwsIH0gZnJvbSAnQGNvbXBvbmVudHMvbW9kYWwvbW9kYWwnO1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdAUFNUeXBlcy90eXBlZ3VhcmQnO1xuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gYnVpbGQgdGhlIG1vZGFsIERPTSBlbGVtZW50cywgaXQgaXMgbm90IHVzYWJsZSBhcyBpcyBiZWNhdXNlIGl0IGRvZXNuJ3QgZXZlbiBoYXZlIGEgc2hvd1xuICogbWV0aG9kIGFuZCB0aGUgZWxlbWVudHMgYXJlIGNyZWF0ZWQgYnV0IG5vdCBhZGRlZCB0byB0aGUgRE9NLiBJdCBqdXN0IGNyZWF0ZXMgYSBiYXNpYyBET00gc3RydWN0dXJlIG9mIGFcbiAqIEJvb3RzdHJhcCBtb2RhbCwgdGh1cyBrZWVwaW5nIHRoZSBsb2dpYyBjbGFzcyBvZiB0aGUgbW9kYWwgc2VwYXJhdGVkLlxuICpcbiAqIFRoaXMgY29udGFpbmVyIGlzIGJ1aWx0IG9uIHRoZSBiYXNpYyBNb2RhbENvbnRhaW5lciBhbmQgYWRkcyBzb21lIGNvbmZpcm0vY2FuY2VsIGJ1dHRvbnMgYWxvbmcgd2l0aCBhIG1lc3NhZ2VcbiAqIGluIHRoZSBib2R5LCBpdCBpcyBtb3N0bHkgdXNlZCBhcyBhIFJpY2ggY29uZmlybSBkaWFsb2cgYm94LlxuICovXG52YXIgQ29uZmlybU1vZGFsQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb25maXJtTW9kYWxDb250YWluZXIsIF9zdXBlcik7XG4gICAgLyogVGhpcyBjb25zdHJ1Y3RvciBpcyBpbXBvcnRhbnQgdG8gZm9yY2UgdGhlIGlucHV0IHR5cGUgYnV0IEVTTGludCBpcyBub3QgaGFwcHkgYWJvdXQgaXQqL1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVzZWxlc3MtY29uc3RydWN0b3IgKi9cbiAgICBmdW5jdGlvbiBDb25maXJtTW9kYWxDb250YWluZXIocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwYXJhbXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIENvbmZpcm1Nb2RhbENvbnRhaW5lci5wcm90b3R5cGUuYnVpbGRNb2RhbENvbnRhaW5lciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmJ1aWxkTW9kYWxDb250YWluZXIuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgICAgICAvLyBNb2RhbCBtZXNzYWdlIGVsZW1lbnRcbiAgICAgICAgdGhpcy5tZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2NvbmZpcm0tbWVzc2FnZScpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UuaW5uZXJIVE1MID0gcGFyYW1zLmNvbmZpcm1NZXNzYWdlO1xuICAgICAgICAvLyBNb2RhbCBmb290ZXIgZWxlbWVudFxuICAgICAgICB0aGlzLmZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmZvb3Rlci5jbGFzc0xpc3QuYWRkKCdtb2RhbC1mb290ZXInKTtcbiAgICAgICAgLy8gTW9kYWwgY2xvc2UgYnV0dG9uIGVsZW1lbnRcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nLCAnYnRuLW91dGxpbmUtc2Vjb25kYXJ5JywgJ2J0bi1sZycpO1xuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmRhdGFzZXQuZGlzbWlzcyA9ICdtb2RhbCc7XG4gICAgICAgIHRoaXMuY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gcGFyYW1zLmNsb3NlQnV0dG9uTGFiZWw7XG4gICAgICAgIC8vIE1vZGFsIGNvbmZpcm0gYnV0dG9uIGVsZW1lbnRcbiAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuY29uZmlybUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuY29uZmlybUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nLCBwYXJhbXMuY29uZmlybUJ1dHRvbkNsYXNzLCAnYnRuLWxnJywgJ2J0bi1jb25maXJtLXN1Ym1pdCcpO1xuICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24uZGF0YXNldC5kaXNtaXNzID0gJ21vZGFsJztcbiAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uLmlubmVySFRNTCA9IHBhcmFtcy5jb25maXJtQnV0dG9uTGFiZWw7XG4gICAgICAgIC8vIEFwcGVuZGluZyBlbGVtZW50IHRvIHRoZSBtb2RhbFxuICAgICAgICAoX2EgPSB0aGlzLmZvb3RlcikuYXBwZW5kLmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW3RoaXMuY2xvc2VCdXR0b25dLCBwYXJhbXMuY3VzdG9tQnV0dG9ucywgZmFsc2UpLCBbdGhpcy5jb25maXJtQnV0dG9uXSwgZmFsc2UpKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZCh0aGlzLmZvb3Rlcik7XG4gICAgfTtcbiAgICByZXR1cm4gQ29uZmlybU1vZGFsQ29udGFpbmVyO1xufShNb2RhbENvbnRhaW5lcikpO1xuZXhwb3J0IHsgQ29uZmlybU1vZGFsQ29udGFpbmVyIH07XG4vKipcbiAqIENvbmZpcm1Nb2RhbCBjb21wb25lbnRcbiAqXG4gKiBAcGFyYW0ge0lucHV0Q29uZmlybU1vZGFsUGFyYW1zfSBwYXJhbXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpcm1DYWxsYmFjayBAZGVwcmVjYXRlZCBZb3Ugc2hvdWxkIHJlbHkgb24gdGhlIGNvbmZpcm1DYWxsYmFjayBwYXJhbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FuY2VsQ2FsbGJhY2sgQGRlcHJlY2F0ZWQgWW91IHNob3VsZCByZWx5IG9uIHRoZSBjbG9zZUNhbGxiYWNrIHBhcmFtXG4gKi9cbnZhciBDb25maXJtTW9kYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbmZpcm1Nb2RhbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25maXJtTW9kYWwoaW5wdXRQYXJhbXMsIGNvbmZpcm1DYWxsYmFjaywgY2FuY2VsQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY29uZmlybU1vZGFsQ2FsbGJhY2s7XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoaW5wdXRQYXJhbXMuY29uZmlybUNhbGxiYWNrKSkge1xuICAgICAgICAgICAgY29uZmlybU1vZGFsQ2FsbGJhY2sgPSBpbnB1dFBhcmFtcy5jb25maXJtQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWlzVW5kZWZpbmVkKGNvbmZpcm1DYWxsYmFjaykpIHtcbiAgICAgICAgICAgIGNvbmZpcm1Nb2RhbENhbGxiYWNrID0gY29uZmlybUNhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2Uga2VwdCB0aGUgcGFyYW1ldGVycyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhpcyBmb3JjZXMgdXMgdG8ga2VlcCB0aGUgcGFyYW0gY29uZmlybUNhbGxiYWNrIGFzIG9wdGlvbmFsXG4gICAgICAgICAgICAvLyBidXQgd2hlbiB3ZSByZW1vdmUgZGVwcmVjYXRpb24gaXQgd2lsbCBiZWNvbWUgbWFuZGF0b3J5LCBhIGNvbmZpcm0gY2FsbGJhY2sgc2hvdWxkIGFsd2F5cyBiZSBzcGVjaWZpZWRcbiAgICAgICAgICAgIGNvbmZpcm1Nb2RhbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGNvbmZpcm0gY2FsbGJhY2sgcHJvdmlkZWQgZm9yIENvbmZpcm1Nb2RhbCBjb21wb25lbnQuJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbXMgPSBfX2Fzc2lnbih7IGlkOiAnY29uZmlybS1tb2RhbCcsIGNvbmZpcm1NZXNzYWdlOiAnQXJlIHlvdSBzdXJlPycsIGNsb3NlQnV0dG9uTGFiZWw6ICdDbG9zZScsIGNvbmZpcm1CdXR0b25MYWJlbDogJ0FjY2VwdCcsIGNvbmZpcm1CdXR0b25DbGFzczogJ2J0bi1wcmltYXJ5JywgY3VzdG9tQnV0dG9uczogW10sIGNsb3NhYmxlOiBmYWxzZSwgbW9kYWxUaXRsZTogaW5wdXRQYXJhbXMuY29uZmlybVRpdGxlLCBkaWFsb2dTdHlsZToge30sIGNvbmZpcm1DYWxsYmFjazogY29uZmlybU1vZGFsQ2FsbGJhY2ssIGNsb3NlQ2FsbGJhY2s6IChfYSA9IGlucHV0UGFyYW1zLmNsb3NlQ2FsbGJhY2spICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNhbmNlbENhbGxiYWNrIH0sIGlucHV0UGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHBhcmFtcykgfHwgdGhpcztcbiAgICB9XG4gICAgQ29uZmlybU1vZGFsLnByb3RvdHlwZS5pbml0Q29udGFpbmVyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB0aGlzLm1vZGFsID0gbmV3IENvbmZpcm1Nb2RhbENvbnRhaW5lcihwYXJhbXMpO1xuICAgICAgICB0aGlzLm1vZGFsLmNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwYXJhbXMuY29uZmlybUNhbGxiYWNrKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5pbml0Q29udGFpbmVyLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB9O1xuICAgIHJldHVybiBDb25maXJtTW9kYWw7XG59KE1vZGFsKSk7XG5leHBvcnQgeyBDb25maXJtTW9kYWwgfTtcbmV4cG9ydCBkZWZhdWx0IENvbmZpcm1Nb2RhbDtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgdXNlZCB0byBidWlsZCB0aGUgbW9kYWwgRE9NIGVsZW1lbnRzLCBpdCBpcyBub3QgdXNhYmxlIGFzIGlzIGJlY2F1c2UgaXQgZG9lc24ndCBldmVuIGhhdmUgYSBzaG93XG4gKiBtZXRob2QgYW5kIHRoZSBlbGVtZW50cyBhcmUgY3JlYXRlZCBidXQgbm90IGFkZGVkIHRvIHRoZSBET00uIEl0IGp1c3QgY3JlYXRlcyBhIGJhc2ljIERPTSBzdHJ1Y3R1cmUgb2YgYVxuICogQm9vdHN0cmFwIG1vZGFsLCB0aHVzIGtlZXBpbmcgdGhlIGxvZ2ljIGNsYXNzIG9mIHRoZSBtb2RhbCBzZXBhcmF0ZWQuXG4gKlxuICogVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBtb2RhbCBjb250YWluZXIgKG9ubHkgdGhlIG1vZGFsIGFuZCBkaWFsb2cgYm94LCB3aXRoIGEgY2xvc2UgaWNvblxuICogYW5kIGFuIG9wdGlvbmFsIHRpdGxlKS4gTm8gZm9vdGVyIGFuZCBubyBjb250ZW50IGlzIGhhbmRsZWQuXG4gKlxuICogQHBhcmFtIHtNb2RhbFBhcmFtc30gcGFyYW1zXG4gKi9cbnZhciBNb2RhbENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RhbENvbnRhaW5lcihpbnB1dFBhcmFtcykge1xuICAgICAgICB2YXIgcGFyYW1zID0gX19hc3NpZ24oeyBpZDogJ2NvbmZpcm0tbW9kYWwnLCBjbG9zYWJsZTogZmFsc2UgfSwgaW5wdXRQYXJhbXMpO1xuICAgICAgICB0aGlzLmJ1aWxkTW9kYWxDb250YWluZXIocGFyYW1zKTtcbiAgICB9XG4gICAgTW9kYWxDb250YWluZXIucHJvdG90eXBlLmJ1aWxkTW9kYWxDb250YWluZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIE1haW4gbW9kYWwgZWxlbWVudFxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbCcsICdmYWRlJyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gcGFyYW1zLmlkO1xuICAgICAgICAvLyBNb2RhbCBkaWFsb2cgZWxlbWVudFxuICAgICAgICB0aGlzLmRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmRpYWxvZy5jbGFzc0xpc3QuYWRkKCdtb2RhbC1kaWFsb2cnKTtcbiAgICAgICAgaWYgKHBhcmFtcy5kaWFsb2dTdHlsZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zLmRpYWxvZ1N0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgX3RoaXMuZGlhbG9nLnN0eWxlW2tleV0gPSBwYXJhbXMuZGlhbG9nU3R5bGVba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1vZGFsIGNvbnRlbnQgZWxlbWVudFxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsLWNvbnRlbnQnKTtcbiAgICAgICAgLy8gTW9kYWwgbWVzc2FnZSBlbGVtZW50XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW1lc3NhZ2UnKTtcbiAgICAgICAgLy8gTW9kYWwgaGVhZGVyIGVsZW1lbnRcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWwtaGVhZGVyJyk7XG4gICAgICAgIC8vIE1vZGFsIHRpdGxlIGVsZW1lbnRcbiAgICAgICAgaWYgKHBhcmFtcy5tb2RhbFRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDQnKTtcbiAgICAgICAgICAgIHRoaXMudGl0bGUuY2xhc3NMaXN0LmFkZCgnbW9kYWwtdGl0bGUnKTtcbiAgICAgICAgICAgIHRoaXMudGl0bGUuaW5uZXJIVE1MID0gcGFyYW1zLm1vZGFsVGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTW9kYWwgY2xvc2UgYnV0dG9uIGljb25cbiAgICAgICAgdGhpcy5jbG9zZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgdGhpcy5jbG9zZUljb24uY2xhc3NMaXN0LmFkZCgnY2xvc2UnKTtcbiAgICAgICAgdGhpcy5jbG9zZUljb24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLmNsb3NlSWNvbi5kYXRhc2V0LmRpc21pc3MgPSAnbW9kYWwnO1xuICAgICAgICB0aGlzLmNsb3NlSWNvbi5pbm5lckhUTUwgPSAnw5cnO1xuICAgICAgICAvLyBNb2RhbCBib2R5IGVsZW1lbnRcbiAgICAgICAgdGhpcy5ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuYm9keS5jbGFzc0xpc3QuYWRkKCdtb2RhbC1ib2R5JywgJ3RleHQtbGVmdCcsICdmb250LXdlaWdodC1ub3JtYWwnKTtcbiAgICAgICAgLy8gQ29uc3RydWN0aW5nIHRoZSBtb2RhbFxuICAgICAgICBpZiAodGhpcy50aXRsZSkge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXIuYXBwZW5kQ2hpbGQodGhpcy50aXRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oZWFkZXIuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZUljb24pO1xuICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKHRoaXMuaGVhZGVyLCB0aGlzLmJvZHkpO1xuICAgICAgICB0aGlzLmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5tZXNzYWdlKTtcbiAgICAgICAgdGhpcy5kaWFsb2cuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kaWFsb2cpO1xuICAgIH07XG4gICAgcmV0dXJuIE1vZGFsQ29udGFpbmVyO1xufSgpKTtcbmV4cG9ydCB7IE1vZGFsQ29udGFpbmVyIH07XG4vKipcbiAqIE1vZGFsIGNvbXBvbmVudFxuICpcbiAqIEBwYXJhbSB7SW5wdXRNb2RhbFBhcmFtc30gcGFyYW1zXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbG9zZUNhbGxiYWNrXG4gKi9cbnZhciBNb2RhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2RhbChpbnB1dFBhcmFtcykge1xuICAgICAgICB2YXIgcGFyYW1zID0gX19hc3NpZ24oeyBpZDogJ2NvbmZpcm0tbW9kYWwnLCBjbG9zYWJsZTogZmFsc2UsIGRpYWxvZ1N0eWxlOiB7fSB9LCBpbnB1dFBhcmFtcyk7XG4gICAgICAgIHRoaXMuaW5pdENvbnRhaW5lcihwYXJhbXMpO1xuICAgIH1cbiAgICBNb2RhbC5wcm90b3R5cGUuaW5pdENvbnRhaW5lciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBtb2RhbCwgY2hlY2sgaWYgaXQgYWxyZWFkeSBleGlzdHMgVGhpcyBhbGxvd3MgY2hpbGQgY2xhc3NlcyB0byB1c2UgdGhlaXIgY3VzdG9tIGNvbnRhaW5lclxuICAgICAgICBpZiAoIXRoaXMubW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWxDb250YWluZXIocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBqUXVlcnkgbW9kYWwgb2JqZWN0XG4gICAgICAgIHRoaXMuJG1vZGFsID0gJCh0aGlzLm1vZGFsLmNvbnRhaW5lcik7XG4gICAgICAgIHZhciBpZCA9IHBhcmFtcy5pZCwgY2xvc2FibGUgPSBwYXJhbXMuY2xvc2FibGU7XG4gICAgICAgIHRoaXMuJG1vZGFsLm1vZGFsKHtcbiAgICAgICAgICAgIGJhY2tkcm9wOiBjbG9zYWJsZSA/IHRydWUgOiAnc3RhdGljJyxcbiAgICAgICAgICAgIGtleWJvYXJkOiBjbG9zYWJsZSAhPT0gdW5kZWZpbmVkID8gY2xvc2FibGUgOiB0cnVlLFxuICAgICAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiRtb2RhbC5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIi5jb25jYXQoaWQpKTtcbiAgICAgICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgICAgIG1vZGFsLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmFtcy5jbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmNsb3NlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbC5jb250YWluZXIpO1xuICAgIH07XG4gICAgTW9kYWwucHJvdG90eXBlLnNldFRpdGxlID0gZnVuY3Rpb24gKG1vZGFsVGl0bGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1vZGFsLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsLnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDQnKTtcbiAgICAgICAgICAgIHRoaXMubW9kYWwudGl0bGUuY2xhc3NMaXN0LmFkZCgnbW9kYWwtdGl0bGUnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGFsLmNsb3NlSWNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaGVhZGVyLmluc2VydEJlZm9yZSh0aGlzLm1vZGFsLnRpdGxlLCB0aGlzLm1vZGFsLmNsb3NlSWNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmhlYWRlci5hcHBlbmRDaGlsZCh0aGlzLm1vZGFsLnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGFsLnRpdGxlLmlubmVySFRNTCA9IG1vZGFsVGl0bGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgTW9kYWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIHRoaXMubW9kYWwubWVzc2FnZS5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE1vZGFsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLiRtb2RhbC5tb2RhbCgnc2hvdycpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLiRtb2RhbC5tb2RhbCgnaGlkZScpO1xuICAgICAgICAvLyBTb21ldGltZXMgbW9kYWwgYW5pbWF0aW9uIGlzIHN0aWxsIGluIHByb2dyZXNzIGFuZCBoaWRpbmcgZmFpbHMsIHNvIHdlIGF0dGFjaCBldmVudCBsaXN0ZW5lciBmb3IgdGhhdCBjYXNlLlxuICAgICAgICB0aGlzLiRtb2RhbC5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy4kbW9kYWwubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgIF90aGlzLiRtb2RhbC5vZmYoJ3Nob3duLmJzLm1vZGFsJyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBNb2RhbDtcbn0oKSk7XG5leHBvcnQgeyBNb2RhbCB9O1xuZXhwb3J0IGRlZmF1bHQgTW9kYWw7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIElmcmFtZUV2ZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJZnJhbWVFdmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJZnJhbWVFdmVudChldmVudE5hbWUsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgaWYgKHBhcmFtZXRlcnMgPT09IHZvaWQgMCkgeyBwYXJhbWV0ZXJzID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgSWZyYW1lRXZlbnQucGFyZW50V2luZG93RXZlbnQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgX3RoaXMuZXZlbnRQYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSWZyYW1lRXZlbnQucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJZnJhbWVFdmVudC5wcm90b3R5cGUsIFwicGFyYW1ldGVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRQYXJhbWV0ZXJzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSWZyYW1lRXZlbnQucGFyZW50V2luZG93RXZlbnQgPSAnSWZyYW1lQ2xpZW50RXZlbnQnO1xuICAgIHJldHVybiBJZnJhbWVFdmVudDtcbn0oRXZlbnQpKTtcbmV4cG9ydCBkZWZhdWx0IElmcmFtZUV2ZW50O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG4vKiBlc2xpbnQgbWF4LWNsYXNzZXMtcGVyLWZpbGU6IFtcImVycm9yXCIsIDJdICovXG5pbXBvcnQgUmVzaXplT2JzZXJ2ZXIgZnJvbSAncmVzaXplLW9ic2VydmVyLXBvbHlmaWxsJztcbmltcG9ydCB7IE1vZGFsQ29udGFpbmVyLCBNb2RhbCwgfSBmcm9tICdAY29tcG9uZW50cy9tb2RhbC9tb2RhbCc7XG5pbXBvcnQgSWZyYW1lRXZlbnQgZnJvbSAnQGNvbXBvbmVudHMvbW9kYWwvaWZyYW1lLWV2ZW50JztcbmltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnQFBTVHlwZXMvdHlwZWd1YXJkJztcbi8qKlxuICogVGhpcyBjbGFzcyBpcyB1c2VkIHRvIGJ1aWxkIHRoZSBtb2RhbCBET00gZWxlbWVudHMsIGl0IGlzIG5vdCB1c2FibGUgYXMgaXMgYmVjYXVzZSBpdCBkb2Vzbid0IGV2ZW4gaGF2ZSBhIHNob3dcbiAqIG1ldGhvZCBhbmQgdGhlIGVsZW1lbnRzIGFyZSBjcmVhdGVkIGJ1dCBub3QgYWRkZWQgdG8gdGhlIERPTS4gSXQganVzdCBjcmVhdGVzIGEgYmFzaWMgRE9NIHN0cnVjdHVyZSBvZiBhXG4gKiBCb290c3RyYXAgbW9kYWwsIHRodXMga2VlcGluZyB0aGUgbG9naWMgY2xhc3Mgb2YgdGhlIG1vZGFsIHNlcGFyYXRlZC5cbiAqXG4gKiBUaGlzIGNvbnRhaW5lciBpcyBidWlsdCBvbiB0aGUgYmFzaWMgTW9kYWxDb250YWluZXIgYW5kIGFkZHMgYW4gaWZyYW1lIHRvIGxvYWQgZXh0ZXJuYWwgY29udGVudCBhbG9uZyB3aXRoIGFcbiAqIGxvYWRlciBkaXYgb24gdG9wIG9mIGl0LlxuICpcbiAqIEBwYXJhbSB7SW5wdXRJZnJhbWVNb2RhbFBhcmFtc30gaW5wdXRQYXJhbXNcbiAqL1xudmFyIElmcmFtZU1vZGFsQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJZnJhbWVNb2RhbENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICAvKiBUaGlzIGNvbnN0cnVjdG9yIGlzIGltcG9ydGFudCB0byBmb3JjZSB0aGUgaW5wdXQgdHlwZSBidXQgRVNMaW50IGlzIG5vdCBoYXBweSBhYm91dCBpdCovXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdXNlbGVzcy1jb25zdHJ1Y3RvciAqL1xuICAgIGZ1bmN0aW9uIElmcmFtZU1vZGFsQ29udGFpbmVyKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcGFyYW1zKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJZnJhbWVNb2RhbENvbnRhaW5lci5wcm90b3R5cGUuYnVpbGRNb2RhbENvbnRhaW5lciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5idWlsZE1vZGFsQ29udGFpbmVyLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWwtaWZyYW1lJyk7XG4gICAgICAgIC8vIE1lc3NhZ2UgaXMgaGlkZGVuIGJ5IGRlZmF1bHRcbiAgICAgICAgdGhpcy5tZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xuICAgICAgICB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICB0aGlzLmlmcmFtZS5mcmFtZUJvcmRlciA9ICcwJztcbiAgICAgICAgdGhpcy5pZnJhbWUuc2Nyb2xsaW5nID0gJ25vJztcbiAgICAgICAgdGhpcy5pZnJhbWUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuaWZyYW1lLnNldEF0dHJpYnV0ZSgnbmFtZScsIFwiXCIuY29uY2F0KHBhcmFtcy5pZCwgXCItaWZyYW1lXCIpKTtcbiAgICAgICAgaWYgKCFwYXJhbXMuYXV0b1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmxvYWRlci5jbGFzc0xpc3QuYWRkKCdtb2RhbC1pZnJhbWUtbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLnNwaW5uZXIuY2xhc3NMaXN0LmFkZCgnc3Bpbm5lcicpO1xuICAgICAgICB0aGlzLmxvYWRlci5hcHBlbmRDaGlsZCh0aGlzLnNwaW5uZXIpO1xuICAgICAgICB0aGlzLmJvZHkuYXBwZW5kKHRoaXMubG9hZGVyLCB0aGlzLmlmcmFtZSk7XG4gICAgICAgIC8vIE1vZGFsIGZvb3RlciBlbGVtZW50XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQocGFyYW1zLmNsb3NlQnV0dG9uTGFiZWwpIHx8ICFpc1VuZGVmaW5lZChwYXJhbXMuY29uZmlybUJ1dHRvbkxhYmVsKSkge1xuICAgICAgICAgICAgdGhpcy5mb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMuZm9vdGVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWZvb3RlcicpO1xuICAgICAgICAgICAgLy8gTW9kYWwgY2xvc2UgYnV0dG9uIGVsZW1lbnRcbiAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQocGFyYW1zLmNsb3NlQnV0dG9uTGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuJywgJ2J0bi1vdXRsaW5lLXNlY29uZGFyeScsICdidG4tbGcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLmRhdGFzZXQuZGlzbWlzcyA9ICdtb2RhbCc7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSBwYXJhbXMuY2xvc2VCdXR0b25MYWJlbDtcbiAgICAgICAgICAgICAgICB0aGlzLmZvb3Rlci5hcHBlbmQodGhpcy5jbG9zZUJ1dHRvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNb2RhbCBjb25maXJtIGJ1dHRvbiBlbGVtZW50XG4gICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHBhcmFtcy5jb25maXJtQnV0dG9uTGFiZWwpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuJywgJ2J0bi1wcmltYXJ5JywgJ2J0bi1sZycsICdidG4tY29uZmlybS1zdWJtaXQnKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNsb3NlT25Db25maXJtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUJ1dHRvbi5kYXRhc2V0LmRpc21pc3MgPSAnbW9kYWwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24uaW5uZXJIVE1MID0gcGFyYW1zLmNvbmZpcm1CdXR0b25MYWJlbDtcbiAgICAgICAgICAgICAgICB0aGlzLmZvb3Rlci5hcHBlbmQodGhpcy5jb25maXJtQnV0dG9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFwcGVuZGluZyBlbGVtZW50IHRvIHRoZSBtb2RhbFxuICAgICAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZCh0aGlzLmZvb3Rlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJZnJhbWVNb2RhbENvbnRhaW5lcjtcbn0oTW9kYWxDb250YWluZXIpKTtcbmV4cG9ydCB7IElmcmFtZU1vZGFsQ29udGFpbmVyIH07XG4vKipcbiAqIFRoaXMgbW9kYWwgb3BlbnMgYW4gdXJsIGluc2lkZSBhIG1vZGFsLCBpdCB0aGVuIGNhbiBoYW5kbGUgdHdvIHNwZWNpZmljIGNhbGxiYWNrc1xuICogLSBvbkxvYWRlZDogY2FsbGVkIHdoZW4gdGhlIGlmcmFtZSBoYXMganVzdGUgYmVlbiByZWZyZXNoZWRcbiAqIC0gb25VbmxvYWQ6IGNhbGxlZCB3aGVuIHRoZSBpZnJhbWUgaXMgYWJvdXQgdG8gcmVmcmVzaCAoc28gaXQgaXMgdW5sb2FkZWQpXG4gKi9cbnZhciBJZnJhbWVNb2RhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWZyYW1lTW9kYWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSWZyYW1lTW9kYWwoaW5wdXRQYXJhbXMpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IF9fYXNzaWduKHsgaWQ6ICdpZnJhbWUtbW9kYWwnLCBjbG9zYWJsZTogZmFsc2UsIGF1dG9TaXplOiB0cnVlLCBhdXRvU2l6ZUNvbnRhaW5lcjogJ2JvZHknLCBjbG9zZU9uQ29uZmlybTogdHJ1ZSwgYXV0b1Njcm9sbFVwOiB0cnVlIH0sIGlucHV0UGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHBhcmFtcykgfHwgdGhpcztcbiAgICB9XG4gICAgSWZyYW1lTW9kYWwucHJvdG90eXBlLmluaXRDb250YWluZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIENvbnN0cnVjdCB0aGUgY29udGFpbmVyXG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgSWZyYW1lTW9kYWxDb250YWluZXIocGFyYW1zKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5pbml0Q29udGFpbmVyLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICAgICAgdGhpcy5hdXRvU2l6ZSA9IHBhcmFtcy5hdXRvU2l6ZTtcbiAgICAgICAgdGhpcy5hdXRvU2l6ZUNvbnRhaW5lciA9IHBhcmFtcy5hdXRvU2l6ZUNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5tb2RhbC5pZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uIChsb2FkZWRFdmVudCkge1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHRoZSBib2R5IGNvbnRhaW5lciBiYWNrIHRvIHRoZSB0b3AgYWZ0ZXIgaWZyYW1lIGxvYWRlZFxuICAgICAgICAgICAgX3RoaXMubW9kYWwuYm9keS5zY3JvbGwoMCwgMCk7XG4gICAgICAgICAgICBfdGhpcy5oaWRlTG9hZGluZygpO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5vbkxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5vbkxvYWRlZChfdGhpcy5tb2RhbC5pZnJhbWUsIGxvYWRlZEV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5tb2RhbC5pZnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgICAgIF90aGlzLm1vZGFsLmlmcmFtZS5jb250ZW50V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGZ1bmN0aW9uICh1bmxvYWRFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLm9uVW5sb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMub25VbmxvYWQoX3RoaXMubW9kYWwuaWZyYW1lLCB1bmxvYWRFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBBdXRvIHJlc2l6ZSB0aGUgaWZyYW1lIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIF90aGlzLmluaXRBdXRvUmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiRtb2RhbC5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5tb2RhbC5pZnJhbWUuc3JjID0gcGFyYW1zLmlmcmFtZVVybDtcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKElmcmFtZUV2ZW50LnBhcmVudFdpbmRvd0V2ZW50LCAoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAocGFyYW1zLm9uSWZyYW1lRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMub25JZnJhbWVFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKHRoaXMubW9kYWwuY29uZmlybUJ1dHRvbiAmJiBwYXJhbXMuY29uZmlybUNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsLmNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmNvbmZpcm1DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY29uZmlybUNhbGxiYWNrKF90aGlzLm1vZGFsLmlmcmFtZSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNvbnRlbnQsIGhpZGVJZnJhbWUpIHtcbiAgICAgICAgaWYgKGhpZGVJZnJhbWUgPT09IHZvaWQgMCkgeyBoaWRlSWZyYW1lID0gdHJ1ZTsgfVxuICAgICAgICB0aGlzLm1vZGFsLm1lc3NhZ2UuaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgdGhpcy5tb2RhbC5tZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xuICAgICAgICBpZiAoaGlkZUlmcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlSWZyYW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdXRvUmVzaXplKCk7XG4gICAgICAgIHRoaXMuaGlkZUxvYWRpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuc2hvd0xvYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBib2R5SGVpZ2h0ID0gdGhpcy5nZXRPdXRlckhlaWdodCh0aGlzLm1vZGFsLmJvZHkpO1xuICAgICAgICB2YXIgYm9keVdpZHRoID0gdGhpcy5nZXRPdXRlcldpZHRoKHRoaXMubW9kYWwuYm9keSk7XG4gICAgICAgIHRoaXMubW9kYWwubG9hZGVyLnN0eWxlLmhlaWdodCA9IFwiXCIuY29uY2F0KGJvZHlIZWlnaHQsIFwicHhcIik7XG4gICAgICAgIHRoaXMubW9kYWwubG9hZGVyLnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQoYm9keVdpZHRoLCBcInB4XCIpO1xuICAgICAgICB0aGlzLm1vZGFsLmxvYWRlci5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICAgICAgdGhpcy5tb2RhbC5pZnJhbWUuY2xhc3NMaXN0LnJlbW92ZSgnaW52aXNpYmxlJyk7XG4gICAgICAgIHRoaXMubW9kYWwuaWZyYW1lLmNsYXNzTGlzdC5hZGQoJ2ludmlzaWJsZScpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIElmcmFtZU1vZGFsLnByb3RvdHlwZS5oaWRlTG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5pZnJhbWUuY2xhc3NMaXN0LnJlbW92ZSgnaW52aXNpYmxlJyk7XG4gICAgICAgIHRoaXMubW9kYWwuaWZyYW1lLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICAgICAgdGhpcy5tb2RhbC5sb2FkZXIuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSWZyYW1lTW9kYWwucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuaGlkZS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmNsZWFuUmVzaXplT2JzZXJ2ZXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuaGlkZUlmcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5tb2RhbC5pZnJhbWUuY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuZ2V0UmVzaXphYmxlQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvU2l6ZSAmJiB0aGlzLm1vZGFsLmlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RhbC5pZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuYXV0b1NpemVDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgSWZyYW1lTW9kYWwucHJvdG90eXBlLmluaXRBdXRvUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaWZyYW1lQ29udGFpbmVyID0gdGhpcy5nZXRSZXNpemFibGVDb250YWluZXIoKTtcbiAgICAgICAgaWYgKGlmcmFtZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5jbGVhblJlc2l6ZU9ic2VydmVyKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hdXRvUmVzaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShpZnJhbWVDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXV0b1Jlc2l6ZSgpO1xuICAgIH07XG4gICAgSWZyYW1lTW9kYWwucHJvdG90eXBlLmNsZWFuUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZU9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJZnJhbWVNb2RhbC5wcm90b3R5cGUuYXV0b1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlmcmFtZUNvbnRhaW5lciA9IHRoaXMuZ2V0UmVzaXphYmxlQ29udGFpbmVyKCk7XG4gICAgICAgIGlmIChpZnJhbWVDb250YWluZXIpIHtcbiAgICAgICAgICAgIHZhciBpZnJhbWVTY3JvbGxIZWlnaHQgPSBpZnJhbWVDb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSB0aGlzLmdldE91dGVySGVpZ2h0KHRoaXMubW9kYWwubWVzc2FnZSlcbiAgICAgICAgICAgICAgICArIGlmcmFtZVNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgIC8vIEF2b2lkIGFwcGx5aW5nIGhlaWdodCBvZiAwIChvbiBmaXJzdCBsb2FkIGZvciBleGFtcGxlKVxuICAgICAgICAgICAgaWYgKGNvbnRlbnRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBmb3JjZSB0aGUgaWZyYW1lIHRvIGl0cyByZWFsIGhlaWdodCBhbmQgaXQncyB0aGUgY29udGFpbmVyIHRoYXQgaGFuZGxlcyB0aGUgb3ZlcmZsb3cgd2l0aCBzY3JvbGxiYXJzXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5pZnJhbWUuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoY29udGVudEhlaWdodCwgXCJweFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgSWZyYW1lTW9kYWwucHJvdG90eXBlLmdldE91dGVySGVpZ2h0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGVpZ2h0IGlzIDAgaXQgaXMgbGlrZWx5IGVtcHR5IG9yIGhpZGRlbiwgdGhlbiBubyBuZWVkIHRvIGNvbXB1dGUgdGhlIG1hcmdpblxuICAgICAgICBpZiAoIWVsZW1lbnQub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgIGhlaWdodCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3AsIDEwKSArIHBhcnNlSW50KHN0eWxlLm1hcmdpbkJvdHRvbSwgMTApO1xuICAgICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH07XG4gICAgSWZyYW1lTW9kYWwucHJvdG90eXBlLmdldE91dGVyV2lkdGggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBoZWlnaHQgaXMgMCBpdCBpcyBsaWtlbHkgZW1wdHkgb3IgaGlkZGVuLCB0aGVuIG5vIG5lZWQgdG8gY29tcHV0ZSB0aGUgbWFyZ2luXG4gICAgICAgIGlmICghZWxlbWVudC5vZmZzZXRXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgd2lkdGggKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luTGVmdCwgMTApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQsIDEwKTtcbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG4gICAgcmV0dXJuIElmcmFtZU1vZGFsO1xufShNb2RhbCkpO1xuZXhwb3J0IHsgSWZyYW1lTW9kYWwgfTtcbmV4cG9ydCBkZWZhdWx0IElmcmFtZU1vZGFsO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5pbXBvcnQgSWZyYW1lTW9kYWwgZnJvbSAnQGNvbXBvbmVudHMvbW9kYWwvaWZyYW1lLW1vZGFsJztcbi8qKlxuICogVGhpcyBtb2RhbCBvcGVucyBhbiB1cmwgY29udGFpbmluZyBhIGZvcm0gaW5zaWRlIGEgbW9kYWwgYW5kIHdhdGNoZXMgZm9yIHRoZSBzdWJtaXQgKHZpYSBpZnJhbWUgbG9hZGluZylcbiAqIE9uIGVhY2ggbG9hZCBpdCBpcyBhYmxlIHRvIHJldHVybiBkYXRhIGZyb20gdGhlIGZvcm0gdmlhIHRoZSBvbkZvcm1Mb2FkZWQgY2FsbGJhY2tcbiAqL1xudmFyIEZvcm1JZnJhbWVNb2RhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRm9ybUlmcmFtZU1vZGFsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZvcm1JZnJhbWVNb2RhbChwYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGlmcmFtZVBhcmFtcyA9IF9fYXNzaWduKHsgaWZyYW1lVXJsOiBwYXJhbXMuZm9ybVVybCwgb25Mb2FkZWQ6IGZ1bmN0aW9uIChpZnJhbWUsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbklmcmFtZUxvYWRlZChpZnJhbWUsIGV2ZW50LCBwYXJhbXMub25Gb3JtTG9hZGVkLCAoX2EgPSBwYXJhbXMuY2FuY2VsQnV0dG9uU2VsZWN0b3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcuY2FuY2VsLWJ0bicsIChfYiA9IHBhcmFtcy5mb3JtU2VsZWN0b3IpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdmb3JtJyk7XG4gICAgICAgICAgICB9LCBjb25maXJtQ2FsbGJhY2s6IGZ1bmN0aW9uIChpZnJhbWUsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQ29uZmlybUNhbGxiYWNrKGlmcmFtZSwgZXZlbnQsIHBhcmFtcy5mb3JtQ29uZmlybUNhbGxiYWNrLCAoX2EgPSBwYXJhbXMuZm9ybVNlbGVjdG9yKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnZm9ybScpO1xuICAgICAgICAgICAgfSB9LCBwYXJhbXMpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGlmcmFtZVBhcmFtcykgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGb3JtSWZyYW1lTW9kYWwucHJvdG90eXBlLm9uSWZyYW1lTG9hZGVkID0gZnVuY3Rpb24gKGlmcmFtZSwgZXZlbnQsIG9uRm9ybUxvYWRlZCwgY2FuY2VsQnV0dG9uU2VsZWN0b3IsIGZvcm1TZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghb25Gb3JtTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlmcmFtZUZvcm0gPSB0aGlzLmdldEZvcm0oaWZyYW1lLCBmb3JtU2VsZWN0b3IpO1xuICAgICAgICBpZiAoIWlmcmFtZUZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDbG9zZSBtb2RhbCB3aGVuIGNhbmNlbCBidXR0b24gaXMgY2xpY2tlZFxuICAgICAgICB2YXIgY2FuY2VsQnV0dG9ucyA9IGlmcmFtZUZvcm0ucXVlcnlTZWxlY3RvckFsbChjYW5jZWxCdXR0b25TZWxlY3Rvcik7XG4gICAgICAgIGNhbmNlbEJ1dHRvbnMuZm9yRWFjaChmdW5jdGlvbiAoY2FuY2VsQnV0dG9uKSB7XG4gICAgICAgICAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBvbkZvcm1Mb2FkZWQoaWZyYW1lRm9ybSwgbmV3IEZvcm1EYXRhKGlmcmFtZUZvcm0pLCAoX2EgPSBpZnJhbWVGb3JtLmRhdGFzZXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwsIGV2ZW50KTtcbiAgICB9O1xuICAgIEZvcm1JZnJhbWVNb2RhbC5wcm90b3R5cGUub25Db25maXJtQ2FsbGJhY2sgPSBmdW5jdGlvbiAoaWZyYW1lLCBldmVudCwgZm9ybUNvbmZpcm1DYWxsYmFjaywgZm9ybVNlbGVjdG9yKSB7XG4gICAgICAgIGlmICghZm9ybUNvbmZpcm1DYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZnJhbWVGb3JtID0gdGhpcy5nZXRGb3JtKGlmcmFtZSwgZm9ybVNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCFpZnJhbWVGb3JtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9ybUNvbmZpcm1DYWxsYmFjayhpZnJhbWVGb3JtLCBpZnJhbWUsIGV2ZW50KTtcbiAgICB9O1xuICAgIEZvcm1JZnJhbWVNb2RhbC5wcm90b3R5cGUuZ2V0Rm9ybSA9IGZ1bmN0aW9uIChpZnJhbWUsIGZvcm1TZWxlY3Rvcikge1xuICAgICAgICBpZiAoIWlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xuICAgIH07XG4gICAgcmV0dXJuIEZvcm1JZnJhbWVNb2RhbDtcbn0oSWZyYW1lTW9kYWwpKTtcbmV4cG9ydCB7IEZvcm1JZnJhbWVNb2RhbCB9O1xuIiwiaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG5pbXBvcnQgeyBDb25maXJtTW9kYWwgfSBmcm9tICdAY29tcG9uZW50cy9tb2RhbCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb24gaGFuZGxlcyBzdWJtaXR0aW5nIG9mIHJvdyBhY3Rpb25cbiAqL1xudmFyIFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChncmlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGdyaWQuZ2V0Q29udGFpbmVyKCkub24oJ2NsaWNrJywgJy5qcy1zdWJtaXQtcm93LWFjdGlvbicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIHZhciBjb25maXJtTWVzc2FnZSA9ICRidXR0b24uZGF0YSgnY29uZmlybU1lc3NhZ2UnKTtcbiAgICAgICAgICAgIHZhciBjb25maXJtVGl0bGUgPSAkYnV0dG9uLmRhdGEoJ3RpdGxlJyk7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gJGJ1dHRvbi5kYXRhKCdtZXRob2QnKTtcbiAgICAgICAgICAgIGlmIChjb25maXJtVGl0bGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93Q29uZmlybU1vZGFsKCRidXR0b24sIGdyaWQsIGNvbmZpcm1NZXNzYWdlLCBjb25maXJtVGl0bGUsIG1ldGhvZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybU1lc3NhZ2UubGVuZ3RoICYmICF3aW5kb3cuY29uZmlybShjb25maXJtTWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5wb3N0Rm9ybSgkYnV0dG9uLCBtZXRob2QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUucG9zdEZvcm0gPSBmdW5jdGlvbiAoJGJ1dHRvbiwgbWV0aG9kKSB7XG4gICAgICAgIHZhciBpc0dldE9yUG9zdE1ldGhvZCA9IFsnR0VUJywgJ1BPU1QnXS5pbmNsdWRlcyhtZXRob2QpO1xuICAgICAgICB2YXIgJGZvcm0gPSAkKCc8Zm9ybT4nLCB7XG4gICAgICAgICAgICBhY3Rpb246ICRidXR0b24uZGF0YSgndXJsJyksXG4gICAgICAgICAgICBtZXRob2Q6IGlzR2V0T3JQb3N0TWV0aG9kID8gbWV0aG9kIDogJ1BPU1QnLFxuICAgICAgICB9KS5hcHBlbmRUbygnYm9keScpO1xuICAgICAgICBpZiAoIWlzR2V0T3JQb3N0TWV0aG9kKSB7XG4gICAgICAgICAgICAkZm9ybS5hcHBlbmQoJCgnPGlucHV0PicsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnX21ldGhvZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1ldGhvZCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAkZm9ybS5zdWJtaXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkc3VibWl0QnRuXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpcm1NZXNzYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpcm1UaXRsZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAgICAgKi9cbiAgICBTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb24ucHJvdG90eXBlLnNob3dDb25maXJtTW9kYWwgPSBmdW5jdGlvbiAoJHN1Ym1pdEJ0biwgZ3JpZCwgY29uZmlybU1lc3NhZ2UsIGNvbmZpcm1UaXRsZSwgbWV0aG9kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb25maXJtQnV0dG9uTGFiZWwgPSAkc3VibWl0QnRuLmRhdGEoJ2NvbmZpcm1CdXR0b25MYWJlbCcpO1xuICAgICAgICB2YXIgY2xvc2VCdXR0b25MYWJlbCA9ICRzdWJtaXRCdG4uZGF0YSgnY2xvc2VCdXR0b25MYWJlbCcpO1xuICAgICAgICB2YXIgY29uZmlybUJ1dHRvbkNsYXNzID0gJHN1Ym1pdEJ0bi5kYXRhKCdjb25maXJtQnV0dG9uQ2xhc3MnKTtcbiAgICAgICAgdmFyIG1vZGFsID0gbmV3IENvbmZpcm1Nb2RhbCh7XG4gICAgICAgICAgICBpZDogR3JpZE1hcC5jb25maXJtTW9kYWwoZ3JpZC5nZXRJZCgpKSxcbiAgICAgICAgICAgIGNvbmZpcm1UaXRsZTogY29uZmlybVRpdGxlLFxuICAgICAgICAgICAgY29uZmlybU1lc3NhZ2U6IGNvbmZpcm1NZXNzYWdlLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvbkxhYmVsOiBjb25maXJtQnV0dG9uTGFiZWwsXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbkxhYmVsOiBjbG9zZUJ1dHRvbkxhYmVsLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiBjb25maXJtQnV0dG9uQ2xhc3MsXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBvc3RGb3JtKCRzdWJtaXRCdG4sIG1ldGhvZCk7IH0pO1xuICAgICAgICBtb2RhbC5zaG93KCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3VibWl0Um93QWN0aW9uRXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbnZhciAkID0gd2luZG93LiQ7XG4vKipcbiAqIE1ha2VzIGEgdGFibGUgc29ydGFibGUgYnkgY29sdW1ucy5cbiAqIFRoaXMgZm9yY2VzIGEgcGFnZSByZWxvYWQgd2l0aCBtb3JlIHF1ZXJ5IHBhcmFtZXRlcnMuXG4gKi9cbnZhciBUYWJsZVNvcnRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHRhYmxlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGFibGVTb3J0aW5nKHRhYmxlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9ICcucHMtc29ydGFibGUtY29sdW1uJztcbiAgICAgICAgdGhpcy5pZFRhYmxlID0gKF9hID0gdGFibGUuYXR0cignaWQnKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IHRhYmxlLmZpbmQodGhpcy5zZWxlY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSBsaXN0ZW5lcnNcbiAgICAgKi9cbiAgICBUYWJsZVNvcnRpbmcucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb2x1bW5zLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgJGNvbHVtbiA9ICQoZS5kZWxlZ2F0ZVRhcmdldCk7XG4gICAgICAgICAgICBfdGhpcy5zb3J0QnlDb2x1bW4oJGNvbHVtbiwgX3RoaXMuZ2V0VG9nZ2xlZFNvcnREaXJlY3Rpb24oJGNvbHVtbikpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNvcnQgdXNpbmcgYSBjb2x1bW4gbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2x1bW5OYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbiBcImFzY1wiIG9yIFwiZGVzY1wiXG4gICAgICovXG4gICAgVGFibGVTb3J0aW5nLnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbiAoY29sdW1uTmFtZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciAkY29sdW1uID0gdGhpcy5jb2x1bW5zLmlzKFwiW2RhdGEtc29ydC1jb2wtbmFtZT1cXFwiXCIuY29uY2F0KGNvbHVtbk5hbWUsIFwiXFxcIl1cIikpO1xuICAgICAgICBpZiAoISRjb2x1bW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzb3J0IGJ5IFxcXCJcIi5jb25jYXQoY29sdW1uTmFtZSwgXCJcXFwiOiBpbnZhbGlkIGNvbHVtblwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3J0QnlDb2x1bW4odGhpcy5jb2x1bW5zLCBkaXJlY3Rpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU29ydCB1c2luZyBhIGNvbHVtbiBlbGVtZW50XG4gICAgICogQHBhcmFtIHtqUXVlcnl9IGNvbHVtblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gXCJhc2NcIiBvciBcImRlc2NcIlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGFibGVTb3J0aW5nLnByb3RvdHlwZS5zb3J0QnlDb2x1bW4gPSBmdW5jdGlvbiAoY29sdW1uLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmdldFVybChjb2x1bW4uZGF0YSgnc29ydENvbE5hbWUnKSwgZGlyZWN0aW9uID09PSAnZGVzYycgPyAnZGVzYycgOiAnYXNjJywgY29sdW1uLmRhdGEoJ3NvcnRQcmVmaXgnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbnZlcnRlZCBkaXJlY3Rpb24gdG8gc29ydCBhY2NvcmRpbmcgdG8gdGhlIGNvbHVtbidzIGN1cnJlbnQgb25lXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IGNvbHVtblxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRhYmxlU29ydGluZy5wcm90b3R5cGUuZ2V0VG9nZ2xlZFNvcnREaXJlY3Rpb24gPSBmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZGF0YSgnc29ydERpcmVjdGlvbicpID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdXJsIGZvciB0aGUgc29ydGVkIHRhYmxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRhYmxlU29ydGluZy5wcm90b3R5cGUuZ2V0VXJsID0gZnVuY3Rpb24gKGNvbE5hbWUsIGRpcmVjdGlvbiwgcHJlZml4KSB7XG4gICAgICAgIHZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHVybC5zZWFyY2hQYXJhbXM7XG4gICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoXCJcIi5jb25jYXQocHJlZml4LCBcIltvcmRlckJ5XVwiKSwgY29sTmFtZSk7XG4gICAgICAgICAgICBwYXJhbXMuc2V0KFwiXCIuY29uY2F0KHByZWZpeCwgXCJbc29ydE9yZGVyXVwiKSwgZGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ29yZGVyQnknLCBjb2xOYW1lKTtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ3NvcnRPcmRlcicsIGRpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdXJsLmhhc2ggPSB0aGlzLmlkVGFibGU7XG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIHJldHVybiBUYWJsZVNvcnRpbmc7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVGFibGVTb3J0aW5nO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IFRhYmxlU29ydGluZyBmcm9tICdAYXBwL3V0aWxzL3RhYmxlLXNvcnRpbmcnO1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG4vKipcbiAqIENsYXNzIFJlbG9hZExpc3RFeHRlbnNpb24gZXh0ZW5kcyBncmlkIHdpdGggXCJMaXN0IHJlbG9hZFwiIGFjdGlvblxuICovXG52YXIgU29ydGluZ0V4dGVuc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTb3J0aW5nRXh0ZW5zaW9uKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgZ3JpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICovXG4gICAgU29ydGluZ0V4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyICRzb3J0YWJsZVRhYmxlID0gZ3JpZC5nZXRDb250YWluZXIoKS5maW5kKEdyaWRNYXAudGFibGUpO1xuICAgICAgICBuZXcgVGFibGVTb3J0aW5nKCRzb3J0YWJsZVRhYmxlKS5hdHRhY2goKTtcbiAgICB9O1xuICAgIHJldHVybiBTb3J0aW5nRXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFNvcnRpbmdFeHRlbnNpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5cbi8qKlxuICogU2VuZCBhIFBvc3QgUmVxdWVzdCB0byByZXNldCBzZWFyY2ggQWN0aW9uLlxuICovXG5cbmNvbnN0IHskfSA9IHdpbmRvdztcblxuY29uc3QgaW5pdCA9IGZ1bmN0aW9uIHJlc2V0U2VhcmNoKHVybCwgcmVkaXJlY3RVcmwpIHtcbiAgJC5wb3N0KHVybCkudGhlbigoKSA9PiB3aW5kb3cubG9jYXRpb24uYXNzaWduKHJlZGlyZWN0VXJsKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbml0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IHJlc2V0U2VhcmNoIGZyb20gJ0BhcHAvdXRpbHMvcmVzZXRfc2VhcmNoJztcbmltcG9ydCBHcmlkTWFwIGZyb20gJ0Bjb21wb25lbnRzL2dyaWQvZ3JpZC1tYXAnO1xudmFyICQgPSB3aW5kb3cuJDtcbi8qKlxuICogQ2xhc3MgRmlsdGVyc1Jlc2V0RXh0ZW5zaW9uIGV4dGVuZHMgZ3JpZCB3aXRoIGZpbHRlcnMgcmVzZXR0aW5nXG4gKi9cbnZhciBGaWx0ZXJzUmVzZXRFeHRlbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyc1Jlc2V0RXh0ZW5zaW9uKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgZ3JpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICovXG4gICAgRmlsdGVyc1Jlc2V0RXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICBncmlkLmdldENvbnRhaW5lcigpLm9uKCdjbGljaycsIEdyaWRNYXAucmVzZXRTZWFyY2gsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmVzZXRTZWFyY2goJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKCd1cmwnKSwgJChldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKCdyZWRpcmVjdCcpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyc1Jlc2V0RXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZpbHRlcnNSZXNldEV4dGVuc2lvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbmltcG9ydCBHcmlkTWFwIGZyb20gJ0Bjb21wb25lbnRzL2dyaWQvZ3JpZC1tYXAnO1xuLyoqXG4gKiBDbGFzcyBSZWxvYWRMaXN0RXh0ZW5zaW9uIGV4dGVuZHMgZ3JpZCB3aXRoIFwiTGlzdCByZWxvYWRcIiBhY3Rpb25cbiAqL1xudmFyIFJlbG9hZExpc3RFeHRlbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVsb2FkTGlzdEV4dGVuc2lvbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIFJlbG9hZExpc3RFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChncmlkKSB7XG4gICAgICAgIGdyaWRcbiAgICAgICAgICAgIC5nZXRIZWFkZXJDb250YWluZXIoKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIEdyaWRNYXAuY29tbW9uUmVmcmVzaExpc3RBY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVsb2FkTGlzdEV4dGVuc2lvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSZWxvYWRMaXN0RXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBSZWxvYWRMaXN0RXh0ZW5zaW9uIGV4dGVuZHMgZ3JpZCB3aXRoIFwiQ29sdW1uIHRvZ2dsaW5nXCIgZmVhdHVyZVxuICovXG52YXIgQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBDb2x1bW5Ub2dnbGluZ0V4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyICR0YWJsZSA9IGdyaWQuZ2V0Q29udGFpbmVyKCkuZmluZChHcmlkTWFwLnRhYmxlKTtcbiAgICAgICAgJHRhYmxlLmZpbmQoR3JpZE1hcC50b2dnbGFibGVSb3cpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBfdGhpcy50b2dnbGVWYWx1ZSgkKGUuZGVsZWdhdGVUYXJnZXQpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gcm93XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDb2x1bW5Ub2dnbGluZ0V4dGVuc2lvbi5wcm90b3R5cGUudG9nZ2xlVmFsdWUgPSBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciB0b2dnbGVVcmwgPSByb3cuZGF0YSgndG9nZ2xlVXJsJyk7XG4gICAgICAgIHRoaXMuc3VibWl0QXNGb3JtKHRvZ2dsZVVybCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdWJtaXRzIHJlcXVlc3QgdXJsIGFzIGZvcm1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0b2dnbGVVcmxcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENvbHVtblRvZ2dsaW5nRXh0ZW5zaW9uLnByb3RvdHlwZS5zdWJtaXRBc0Zvcm0gPSBmdW5jdGlvbiAodG9nZ2xlVXJsKSB7XG4gICAgICAgIHZhciAkZm9ybSA9ICQoJzxmb3JtPicsIHtcbiAgICAgICAgICAgIGFjdGlvbjogdG9nZ2xlVXJsLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIH0pLmFwcGVuZFRvKCdib2R5Jyk7XG4gICAgICAgICRmb3JtLnN1Ym1pdCgpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbHVtblRvZ2dsaW5nRXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvbHVtblRvZ2dsaW5nRXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24gZXh0ZW5kcyBncmlkIHdpdGggZXhwb3J0aW5nIHF1ZXJ5IHRvIFNRTCBNYW5hZ2VyXG4gKi9cbnZhciBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgZ3JpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICovXG4gICAgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBncmlkXG4gICAgICAgICAgICAuZ2V0SGVhZGVyQ29udGFpbmVyKClcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBHcmlkTWFwLmFjdGlvbnMuc2hvd1F1ZXJ5LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vblNob3dTcWxRdWVyeUNsaWNrKGdyaWQpOyB9KTtcbiAgICAgICAgZ3JpZFxuICAgICAgICAgICAgLmdldEhlYWRlckNvbnRhaW5lcigpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgR3JpZE1hcC5hY3Rpb25zLmV4cG9ydFF1ZXJ5LCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vbkV4cG9ydFNxbE1hbmFnZXJDbGljayhncmlkKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gY2xpY2tpbmcgb24gdGhlIFwic2hvdyBzcWwgcXVlcnlcIiB0b29sYmFyIGJ1dHRvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbi5wcm90b3R5cGUub25TaG93U3FsUXVlcnlDbGljayA9IGZ1bmN0aW9uIChncmlkKSB7XG4gICAgICAgIHZhciAkc3FsTWFuYWdlckZvcm0gPSAkKEdyaWRNYXAuYWN0aW9ucy5zaG93TW9kYWxGb3JtKGdyaWQuZ2V0SWQoKSkpO1xuICAgICAgICB0aGlzLmZpbGxFeHBvcnRGb3JtKCRzcWxNYW5hZ2VyRm9ybSwgZ3JpZCk7XG4gICAgICAgIHZhciAkbW9kYWwgPSAkKEdyaWRNYXAuYWN0aW9ucy5zaG93TW9kYWxHcmlkKGdyaWQuZ2V0SWQoKSkpO1xuICAgICAgICAkbW9kYWwubW9kYWwoJ3Nob3cnKTtcbiAgICAgICAgJG1vZGFsLm9uKCdjbGljaycsIEdyaWRNYXAuc3FsU3VibWl0LCBmdW5jdGlvbiAoKSB7IHJldHVybiAkc3FsTWFuYWdlckZvcm0uc3VibWl0KCk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGNsaWNraW5nIG9uIHRoZSBcImV4cG9ydCB0byB0aGUgc3FsIHF1ZXJ5XCIgdG9vbGJhciBidXR0b25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24ucHJvdG90eXBlLm9uRXhwb3J0U3FsTWFuYWdlckNsaWNrID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyICRzcWxNYW5hZ2VyRm9ybSA9ICQoR3JpZE1hcC5hY3Rpb25zLnNob3dNb2RhbEZvcm0oZ3JpZC5nZXRJZCgpKSk7XG4gICAgICAgIHRoaXMuZmlsbEV4cG9ydEZvcm0oJHNxbE1hbmFnZXJGb3JtLCBncmlkKTtcbiAgICAgICAgJHNxbE1hbmFnZXJGb3JtLnN1Ym1pdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlsbCBleHBvcnQgZm9ybSB3aXRoIFNRTCBhbmQgaXQncyBuYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJHNxbE1hbmFnZXJGb3JtXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbi5wcm90b3R5cGUuZmlsbEV4cG9ydEZvcm0gPSBmdW5jdGlvbiAoJHNxbE1hbmFnZXJGb3JtLCBncmlkKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IGdyaWRcbiAgICAgICAgICAgIC5nZXRDb250YWluZXIoKVxuICAgICAgICAgICAgLmZpbmQoR3JpZE1hcC5ncmlkVGFibGUpXG4gICAgICAgICAgICAuZGF0YSgncXVlcnknKTtcbiAgICAgICAgJHNxbE1hbmFnZXJGb3JtLmZpbmQoJ3RleHRhcmVhW25hbWU9XCJzcWxcIl0nKS52YWwocXVlcnkpO1xuICAgICAgICAkc3FsTWFuYWdlckZvcm1cbiAgICAgICAgICAgIC5maW5kKCdpbnB1dFtuYW1lPVwibmFtZVwiXScpXG4gICAgICAgICAgICAudmFsKHRoaXMuZ2V0TmFtZUZyb21CcmVhZGNydW1iKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGV4cG9ydCBuYW1lIGZyb20gcGFnZSdzIGJyZWFkY3J1bWJcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uLnByb3RvdHlwZS5nZXROYW1lRnJvbUJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkYnJlYWRjcnVtYnMgPSAkKEdyaWRNYXAuaGVhZGVyVG9vbGJhcikuZmluZChHcmlkTWFwLmJyZWFkY3J1bWJJdGVtKTtcbiAgICAgICAgdmFyIG5hbWUgPSAnJztcbiAgICAgICAgJGJyZWFkY3J1bWJzLmVhY2goZnVuY3Rpb24gKGksIGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciAkYnJlYWRjcnVtYiA9ICQoaXRlbSk7XG4gICAgICAgICAgICB2YXIgYnJlYWRjcnVtYlRpdGxlID0gJGJyZWFkY3J1bWIuZmluZCgnYScpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/ICRicmVhZGNydW1iLmZpbmQoJ2EnKS50ZXh0KClcbiAgICAgICAgICAgICAgICA6ICRicmVhZGNydW1iLnRleHQoKTtcbiAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5jb25jYXQoJyA+ICcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFtZSA9IG5hbWUuY29uY2F0KGJyZWFkY3J1bWJUaXRsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9O1xuICAgIHJldHVybiBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG5pbXBvcnQgeyBpc1VuZGVmaW5lZCB9IGZyb20gJ0BQU1R5cGVzL3R5cGVndWFyZCc7XG5pbXBvcnQgJ3RhYmxlZG5kL2Rpc3QvanF1ZXJ5LnRhYmxlZG5kLm1pbic7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBQb3NpdGlvbkV4dGVuc2lvbiBleHRlbmRzIEdyaWQgd2l0aCByZW9yZGVyYWJsZSBwb3NpdGlvbnNcbiAqL1xudmFyIFBvc2l0aW9uRXh0ZW5zaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBvc2l0aW9uRXh0ZW5zaW9uKGdyaWQpIHtcbiAgICAgICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIFBvc2l0aW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmdyaWQgPSBncmlkO1xuICAgICAgICB0aGlzLmFkZElkc1RvR3JpZFRhYmxlUm93cygpO1xuICAgICAgICBncmlkXG4gICAgICAgICAgICAuZ2V0Q29udGFpbmVyKClcbiAgICAgICAgICAgIC5maW5kKEdyaWRNYXAuZ3JpZFRhYmxlKVxuICAgICAgICAgICAgLnRhYmxlRG5EKHtcbiAgICAgICAgICAgIG9uRHJhZ0NsYXNzOiBHcmlkTWFwLm9uRHJhZ0NsYXNzLFxuICAgICAgICAgICAgZHJhZ0hhbmRsZTogR3JpZE1hcC5kcmFnSGFuZGxlcixcbiAgICAgICAgICAgIG9uRHJvcDogZnVuY3Rpb24gKHRhYmxlLCByb3cpIHsgcmV0dXJuIF90aGlzLmhhbmRsZVBvc2l0aW9uQ2hhbmdlKHJvdyk7IH0sXG4gICAgICAgIH0pO1xuICAgICAgICBncmlkXG4gICAgICAgICAgICAuZ2V0Q29udGFpbmVyKClcbiAgICAgICAgICAgIC5maW5kKCcuanMtZHJhZy1oYW5kbGUnKVxuICAgICAgICAgICAgLmhvdmVyKGZ1bmN0aW9uIGhvdmVyKCkge1xuICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KCd0cicpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdob3ZlcicpO1xuICAgICAgICB9LCBmdW5jdGlvbiBzdG9wSG92ZXIoKSB7XG4gICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLmNsb3Nlc3QoJ3RyJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2hvdmVyJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFJlb3JkZXJCdXR0b25MYWJlbCgpO1xuICAgICAgICB0aGlzLmdldFJlb3JkZXJCdXR0b24oKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIF90aGlzLm9uY0NsaWNrUmVvcmRlckJ1dHRvbihldmVudCk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hlbiBwb3NpdGlvbiBpcyBjaGFuZ2VkIGhhbmRsZSB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJvd1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQb3NpdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuaGFuZGxlUG9zaXRpb25DaGFuZ2UgPSBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciAkcm93UG9zaXRpb25Db250YWluZXIgPSAkKHJvdykuZmluZChHcmlkTWFwLmdyaWRQb3NpdGlvbkZpcnN0KHRoaXMuZ3JpZC5nZXRJZCgpKSk7XG4gICAgICAgIHZhciB1cGRhdGVVcmwgPSAkcm93UG9zaXRpb25Db250YWluZXIuZGF0YSgndXBkYXRlLXVybCcpO1xuICAgICAgICB2YXIgbWV0aG9kID0gJHJvd1Bvc2l0aW9uQ29udGFpbmVyLmRhdGEoJ3VwZGF0ZS1tZXRob2QnKTtcbiAgICAgICAgdmFyIHBvc2l0aW9ucyA9IHRoaXMuZ2V0Um93c1Bvc2l0aW9ucygpO1xuICAgICAgICB2YXIgcGFyYW1zID0geyBwb3NpdGlvbnM6IHBvc2l0aW9ucyB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKHVwZGF0ZVVybCwgcGFyYW1zLCBtZXRob2QpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCB0YWJsZSBwb3NpdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQb3NpdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuZ2V0Um93c1Bvc2l0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhYmxlRGF0YSA9IEpTT04ucGFyc2UoJC50YWJsZURuRC5qc29uaXplKCkpO1xuICAgICAgICB2YXIgcm93c0RhdGEgPSB0YWJsZURhdGFbXCJcIi5jb25jYXQodGhpcy5ncmlkLmdldElkKCksIFwiX2dyaWRfdGFibGVcIildO1xuICAgICAgICB2YXIgY29tcGxldGVSb3dzRGF0YSA9IFtdO1xuICAgICAgICB2YXIgdHJEYXRhO1xuICAgICAgICAvLyByZXRyaWV2ZSBkcmFnQW5kRHJvcE9mZnNldCBvZmZzZXQgdG8gaGF2ZSBhbGwgbmVlZGVkIGRhdGFcbiAgICAgICAgLy8gZm9yIHBvc2l0aW9ucyBtYXBwaW5nIGV2b2x1dGlvbiBvdmVyIHRpbWVcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzRGF0YS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdHJEYXRhID0gdGhpcy5ncmlkLmdldENvbnRhaW5lcigpLmZpbmQoXCIjXCIuY29uY2F0KHJvd3NEYXRhW2ldKSk7XG4gICAgICAgICAgICBjb21wbGV0ZVJvd3NEYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgIHJvd01hcmtlcjogcm93c0RhdGFbaV0sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiB0ckRhdGEuZGF0YSgnZHJhZ0FuZERyb3BPZmZzZXQnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVNYXBwaW5nQmV0d2Vlbk9sZEFuZE5ld1Bvc2l0aW9ucyhjb21wbGV0ZVJvd3NEYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBJRCdzIHRvIEdyaWQgdGFibGUgcm93cyB0byBtYWtlIHRhYmxlRG5ELm9uRHJvcCgpIGZ1bmN0aW9uIHdvcmsuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvc2l0aW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5hZGRJZHNUb0dyaWRUYWJsZVJvd3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5ncmlkXG4gICAgICAgICAgICAuZ2V0Q29udGFpbmVyKClcbiAgICAgICAgICAgIC5maW5kKEdyaWRNYXAuZ3JpZFRhYmxlUG9zaXRpb24odGhpcy5ncmlkLmdldElkKCkpKVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGluZGV4LCBwb3NpdGlvbldyYXBwZXIpIHtcbiAgICAgICAgICAgIHZhciAkcG9zaXRpb25XcmFwcGVyID0gJChwb3NpdGlvbldyYXBwZXIpO1xuICAgICAgICAgICAgdmFyIHJvd0lkID0gJHBvc2l0aW9uV3JhcHBlci5kYXRhKCdpZCcpO1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gJHBvc2l0aW9uV3JhcHBlci5kYXRhKCdwb3NpdGlvbicpO1xuICAgICAgICAgICAgdmFyIGlkID0gXCJyb3dfXCIuY29uY2F0KHJvd0lkLCBcIl9cIikuY29uY2F0KHBvc2l0aW9uKTtcbiAgICAgICAgICAgICRwb3NpdGlvbldyYXBwZXIuY2xvc2VzdCgndHInKS5hdHRyKCdpZCcsIGlkKTtcbiAgICAgICAgICAgICRwb3NpdGlvbldyYXBwZXIuY2xvc2VzdCgndGQnKS5hZGRDbGFzcyhHcmlkTWFwLmRyYWdIYW5kbGVyQ2xhc3MpO1xuICAgICAgICAgICAgJHBvc2l0aW9uV3JhcHBlci5jbG9zZXN0KCd0cicpLmRhdGEoJ2RyYWdBbmREcm9wT2Zmc2V0JywgY291bnRlcik7XG4gICAgICAgICAgICBjb3VudGVyICs9IDE7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyByb3dzIHBvc2l0aW9ucyB1cGRhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQb3NpdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUudXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAodXJsLCBwYXJhbXMsIG1ldGhvZCkge1xuICAgICAgICB2YXIgaXNHZXRPclBvc3RNZXRob2QgPSBbJ0dFVCcsICdQT1NUJ10uaW5jbHVkZXMobWV0aG9kKTtcbiAgICAgICAgdmFyICRmb3JtID0gJCgnPGZvcm0+Jywge1xuICAgICAgICAgICAgYWN0aW9uOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6IGlzR2V0T3JQb3N0TWV0aG9kID8gbWV0aG9kIDogJ1BPU1QnLFxuICAgICAgICB9KS5hcHBlbmRUbygnYm9keScpO1xuICAgICAgICB2YXIgcG9zaXRpb25zTmIgPSBwYXJhbXMucG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICAgdmFyIHBvc2l0aW9uO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uc05iOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcGFyYW1zLnBvc2l0aW9uc1tpXTtcbiAgICAgICAgICAgICRmb3JtLmFwcGVuZCgkKCc8aW5wdXQ+Jywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicG9zaXRpb25zW1wiLmNvbmNhdChpLCBcIl1bcm93SWRdXCIpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwb3NpdGlvbi5yb3dJZCxcbiAgICAgICAgICAgIH0pLCAkKCc8aW5wdXQ+Jywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicG9zaXRpb25zW1wiLmNvbmNhdChpLCBcIl1bb2xkUG9zaXRpb25dXCIpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwb3NpdGlvbi5vbGRQb3NpdGlvbixcbiAgICAgICAgICAgIH0pLCAkKCc8aW5wdXQ+Jywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwicG9zaXRpb25zW1wiLmNvbmNhdChpLCBcIl1bbmV3UG9zaXRpb25dXCIpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwb3NpdGlvbi5uZXdQb3NpdGlvbixcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIF9tZXRob2QgcGFyYW0gaXMgdXNlZCBieSBTeW1mb255IHRvIHNpbXVsYXRlIERFTEVURSBhbmQgUFVUIG1ldGhvZHNcbiAgICAgICAgaWYgKCFpc0dldE9yUG9zdE1ldGhvZCkge1xuICAgICAgICAgICAgJGZvcm0uYXBwZW5kKCQoJzxpbnB1dD4nLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgbmFtZTogJ19tZXRob2QnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtZXRob2QsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgJGZvcm0uc3VibWl0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSb3dzIGhhdmUgYmVlbiByZW9yZGVyZWQuIFRoaXMgZnVuY3Rpb25cbiAgICAgKiBmaW5kcywgZm9yIGVhY2ggcm93IElEOiB0aGUgb2xkIHBvc2l0aW9uLCB0aGUgbmV3IHBvc2l0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQb3NpdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuY29tcHV0ZU1hcHBpbmdCZXR3ZWVuT2xkQW5kTmV3UG9zaXRpb25zID0gZnVuY3Rpb24gKHJvd3NEYXRhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHJlZ2V4ID0gL15yb3dfKD88cm93SWQ+XFxkKylfKD88b2xkUG9zaXRpb24+XFxkKykkLztcbiAgICAgICAgdmFyIG1hcHBpbmcgPSBbXTtcbiAgICAgICAgLy8gRmlyc3QgbG9vcCBpcyB0byBjcmVhdGUgdGhlIG1hcHBpbmcgb2JqZWN0cyB3aXRoIG9sZCBwb3NpdGlvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzRGF0YS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIHJlZ2V4UmVzdWx0ID0gcmVnZXguZXhlYyhyb3dzRGF0YVtpXS5yb3dNYXJrZXIpO1xuICAgICAgICAgICAgaWYgKHJlZ2V4UmVzdWx0XG4gICAgICAgICAgICAgICAgJiYgIWlzVW5kZWZpbmVkKHJlZ2V4UmVzdWx0Lmdyb3VwcylcbiAgICAgICAgICAgICAgICAmJiAhaXNVbmRlZmluZWQocmVnZXhSZXN1bHQuZ3JvdXBzLnJvd0lkKVxuICAgICAgICAgICAgICAgICYmICFpc1VuZGVmaW5lZChyZWdleFJlc3VsdC5ncm91cHMub2xkUG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZFBvc2l0aW9uID0gcGFyc2VJbnQoKF9hID0gcmVnZXhSZXN1bHQgPT09IG51bGwgfHwgcmVnZXhSZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlZ2V4UmVzdWx0Lmdyb3VwcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9sZFBvc2l0aW9uLCAxMCk7XG4gICAgICAgICAgICAgICAgbWFwcGluZ1tpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcm93SWQ6IHJlZ2V4UmVzdWx0Lmdyb3Vwcy5yb3dJZCxcbiAgICAgICAgICAgICAgICAgICAgb2xkUG9zaXRpb246IG9sZFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbjogb2xkUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlY29uZCBsb29wLCBub3cgdGhhdCBhbGwgcG9zaXRpb25zIGFyZSBkZWZpbmVkIGZvciBhbGwgcm93cyB3ZSBjYW4gc3dpdGNoIHRoZSBwb3NpdGlvbiB3aGVuIG5lZWRlZFxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByb3dzRGF0YS5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQocm93c0RhdGFbal0pXG4gICAgICAgICAgICAgICAgICAgICYmICFpc1VuZGVmaW5lZChyb3dzRGF0YVtqXS5vZmZzZXQpXG4gICAgICAgICAgICAgICAgICAgICYmICFpc1VuZGVmaW5lZChtYXBwaW5nW3Jvd3NEYXRhW2pdLm9mZnNldF0pXG4gICAgICAgICAgICAgICAgICAgICYmICFpc1VuZGVmaW5lZChtYXBwaW5nW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHJvdyB3aWxsIGhhdmUgYXMgYSBuZXcgcG9zaXRpb24gdGhlIG9sZCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBvbmVcbiAgICAgICAgICAgICAgICAgICAgbWFwcGluZ1tyb3dzRGF0YVtqXS5vZmZzZXRdLm5ld1Bvc2l0aW9uID0gbWFwcGluZ1tqXS5vbGRQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBpbmc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBwb3NpdGlvbiByZW9yZGVyIGlzIGFjdGl2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQb3NpdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuaXNQb3NpdGlvbnNSZW9yZGVyQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkLmdldENvbnRhaW5lcigpXG4gICAgICAgICAgICAuZmluZCgnLnBzLXNvcnRhYmxlLWNvbHVtbltkYXRhLXNvcnQtY29sLW5hbWU9XCJwb3NpdGlvblwiXScpXG4gICAgICAgICAgICAuZmlyc3QoKVxuICAgICAgICAgICAgLmRhdGEoJ3NvcnQtaXMtY3VycmVudCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHJlb3JkZXIgYnV0dG9uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvc2l0aW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRSZW9yZGVyQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkXG4gICAgICAgICAgICAuZ2V0Q29udGFpbmVyKClcbiAgICAgICAgICAgIC5maW5kKCcuanMtYnRuLXJlb3JkZXItcG9zaXRpb25zJylcbiAgICAgICAgICAgIC5maXJzdCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHJlb3JkZXIgYnV0dG9uIGxhYmVsIGluIGZ1bmN0aW9uIG9mIHNvcnRhYmxlIGNvbHVtbiBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUG9zaXRpb25FeHRlbnNpb24ucHJvdG90eXBlLnNldFJlb3JkZXJCdXR0b25MYWJlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlYXJyYW5nZUJ1dHRvbiA9IHRoaXMuZ2V0UmVvcmRlckJ1dHRvbigpO1xuICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmlzUG9zaXRpb25zUmVvcmRlckFjdGl2ZSgpXG4gICAgICAgICAgICA/IHJlYXJyYW5nZUJ1dHRvbi5kYXRhKCdsYWJlbC1zYXZlJylcbiAgICAgICAgICAgIDogcmVhcnJhbmdlQnV0dG9uLmRhdGEoJ2xhYmVsLXJlb3JkZXInKTtcbiAgICAgICAgcmVhcnJhbmdlQnV0dG9uLmh0bWwobGFiZWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT25jbGljayByZW9yZGVyIGJ1dHRvblxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQb3NpdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUub25jQ2xpY2tSZW9yZGVyQnV0dG9uID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIElmIHBvc2l0aW9ucyBhcmUgYWN0dWFsbHkgYmVpbmcgcmVvcmRlcmVkLi4uXG4gICAgICAgIGlmICh0aGlzLmlzUG9zaXRpb25zUmVvcmRlckFjdGl2ZSgpKSB7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlc2V0IGZpbHRlcnMgYW5kIG9yZGVyIGJ5IG9mIHRoZSBncmlkXG4gICAgICAgICAgICB0aGlzLmdyaWQuZ2V0Q29udGFpbmVyKClcbiAgICAgICAgICAgICAgICAuZmluZCgnLnBzLXNvcnRhYmxlLWNvbHVtbicpXG4gICAgICAgICAgICAgICAgLmZpcnN0KClcbiAgICAgICAgICAgICAgICAuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEVsc2UsIHdlIG5lZWQgdG8gc2V0IHRoZSBwb3NpdGlvbiBjb2x1bW4gYXMgdGhlIGN1cnJlbnQgc29ydCBvcmRlcmluZ1xuICAgICAgICAgICAgdGhpcy5ncmlkLmdldENvbnRhaW5lcigpXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5wcy1zb3J0YWJsZS1jb2x1bW5bZGF0YS1zb3J0LWNvbC1uYW1lPVwicG9zaXRpb25cIl0nKVxuICAgICAgICAgICAgICAgIC5maXJzdCgpXG4gICAgICAgICAgICAgICAgLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQb3NpdGlvbkV4dGVuc2lvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBQb3NpdGlvbkV4dGVuc2lvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgQ2FybWluZSBEaSBHcnV0dG9sYVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBBY2FkZW1pYyBGcmVlIExpY2Vuc2UgKEFGTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS50eHQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9hZmwtMy4wLnBocFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cDovL3d3dy5wcmVzdGFzaG9wLmNvbSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiAgQGF1dGhvciAgICBjZGlncnV0dG9sYSA8Yy5kaWdydXR0b2xhQGhvdG1haWwuaXQ+XG4gKiAgQGNvcHlyaWdodCBDb3B5cmlnaHQgc2luY2UgMjAwNyBDYXJtaW5lIERpIEdydXR0b2xhXG4gKiAgQGxpY2Vuc2UgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvYWZsLTMuMC5waHAgIEFjYWRlbWljIEZyZWUgTGljZW5zZSAoQUZMIDMuMClcbiAqXG4gKi9cblxuaW1wb3J0IEdyaWQgZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2dyaWQnO1xuaW1wb3J0IExpbmtSb3dBY3Rpb25FeHRlbnNpb24gZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9saW5rLXJvdy1hY3Rpb24tZXh0ZW5zaW9uJztcbmltcG9ydCBTdWJtaXRSb3dBY3Rpb25FeHRlbnNpb24gZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9hY3Rpb24vcm93L3N1Ym1pdC1yb3ctYWN0aW9uLWV4dGVuc2lvbic7XG5pbXBvcnQgU29ydGluZ0V4dGVuc2lvbiBmcm9tICdAUFNKcy9jb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL3NvcnRpbmctZXh0ZW5zaW9uJztcbmltcG9ydCBGaWx0ZXJzUmVzZXRFeHRlbnNpb24gZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9maWx0ZXJzLXJlc2V0LWV4dGVuc2lvbic7XG5pbXBvcnQgUmVsb2FkTGlzdEFjdGlvbkV4dGVuc2lvbiBmcm9tICdAUFNKcy9jb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL3JlbG9hZC1saXN0LWV4dGVuc2lvbic7XG5pbXBvcnQgQ29sdW1uVG9nZ2xpbmdFeHRlbnNpb24gZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9jb2x1bW4tdG9nZ2xpbmctZXh0ZW5zaW9uJztcbmltcG9ydCBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24gZnJvbSAnQFBTSnMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9leHBvcnQtdG8tc3FsLW1hbmFnZXItZXh0ZW5zaW9uJztcbmltcG9ydCBGb3JtU3VibWl0QnV0dG9uIGZyb20gJ0BQU0pzL2NvbXBvbmVudHMvZm9ybS1zdWJtaXQtYnV0dG9uJztcbmltcG9ydCBQb3NpdGlvbkV4dGVuc2lvbiBmcm9tICdAUFNKcy9jb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL3Bvc2l0aW9uLWV4dGVuc2lvbic7XG5cbmNvbnN0IHskfSA9IHdpbmRvd1xuXG4kKCgpID0+IHtcbiAgY29uc3QgcHJvZHVjdFNsaWRlckdyaWQgPSBuZXcgR3JpZCgnaXNfcHJvZHVjdHNsaWRlcicpXG4gIHByb2R1Y3RTbGlkZXJHcmlkLmFkZEV4dGVuc2lvbihuZXcgU29ydGluZ0V4dGVuc2lvbigpKTtcbiAgcHJvZHVjdFNsaWRlckdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBMaW5rUm93QWN0aW9uRXh0ZW5zaW9uKCkpO1xuICBwcm9kdWN0U2xpZGVyR3JpZC5hZGRFeHRlbnNpb24obmV3IFN1Ym1pdFJvd0FjdGlvbkV4dGVuc2lvbigpKTtcbiAgcHJvZHVjdFNsaWRlckdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBGaWx0ZXJzUmVzZXRFeHRlbnNpb24oKSk7XG4gIHByb2R1Y3RTbGlkZXJHcmlkLmFkZEV4dGVuc2lvbihuZXcgUmVsb2FkTGlzdEFjdGlvbkV4dGVuc2lvbigpKTtcbiAgcHJvZHVjdFNsaWRlckdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBDb2x1bW5Ub2dnbGluZ0V4dGVuc2lvbigpKTtcbiAgcHJvZHVjdFNsaWRlckdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24oKSk7XG4gIHByb2R1Y3RTbGlkZXJHcmlkLmFkZEV4dGVuc2lvbihuZXcgUG9zaXRpb25FeHRlbnNpb24ocHJvZHVjdFNsaWRlckdyaWQpKTtcblxuICBuZXcgRm9ybVN1Ym1pdEJ1dHRvbigpO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9